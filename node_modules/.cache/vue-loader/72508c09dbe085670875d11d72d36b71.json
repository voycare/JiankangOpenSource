{"remainingRequest":"/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider.voycare.com/src/components/ClinicRescheduleDateTimePicker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider.voycare.com/src/components/ClinicRescheduleDateTimePicker.vue","mtime":1597675207439},{"path":"/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js","mtime":1596630677130},{"path":"/var/www/provider.voycare.com/node_modules/thread-loader/dist/cjs.js","mtime":1596630678838},{"path":"/var/www/provider.voycare.com/node_modules/babel-loader/lib/index.js","mtime":1596630688999},{"path":"/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js","mtime":1596630677130},{"path":"/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js","mtime":1596630687836}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEYXRlUGlja2VyIGZyb20gInZ1ZTItZGF0ZXBpY2tlciI7CmltcG9ydCB1dGlscyBmcm9tICIuLi91dGlscy91dGlscyI7CmltcG9ydCBNdWx0aXNlbGVjdCBmcm9tICJ2dWUtbXVsdGlzZWxlY3QiOwppbXBvcnQgRGF0ZXRpbWVNaXhpbiBmcm9tICIuLi9jb21wb25lbnRzL0RhdGV0aW1lTWl4aW4iOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgTXVsdGlzZWxlY3QsIERhdGVQaWNrZXIgfSwKICBtaXhpbnM6IFtEYXRldGltZU1peGluXSwKICBwcm9wczogewogICAgZGF0ZXRpbWVQcm9wOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICB9LAogICAgaW5kZXg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICgpID0+IC0xLAogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGluYUFuZExvY2FsVGltZVJhbmdlOiBbXSwKICAgICAgc2VsZWN0ZWRUaW1lOiBudWxsLAogICAgICBkYXRldGltZU9iajogbnVsbCwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgc2VsZWN0ZWREYXRlOiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gRGF0ZS5wYXJzZSh0aGlzLmRhdGV0aW1lT2JqKTsKICAgICAgfSwKICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy5kYXRldGltZU9iaiA9IG5ldyBEYXRlKHZhbHVlKTsKICAgICAgICB0aGlzLm9uQ2hhbmdlVGltZSgpOwogICAgICB9LAogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmRhdGV0aW1lT2JqID0gbmV3IERhdGUodGhpcy5kYXRldGltZVByb3AgKiAxMDAwKTsKICAgIHRoaXMuc2VsZWN0ZWRUaW1lID0gdGhpcy5nZXRUaW1lU2VsZWN0ZWRPYmplY3QodGhpcy5kYXRldGltZU9iaik7CiAgICBsZXQgbG9jYWxUaW1lUmFuZ2UgPSB1dGlscy5nZXRUaW1lUmFuZ2UoKTsKICAgIHNlbGYudGltZV9yYW5nZXMgPSBsb2NhbFRpbWVSYW5nZS5tYXAoCiAgICAgICh0aW1lT2JqKSA9PiBgJHt0aW1lT2JqLmhvdXJ9OiR7dGltZU9iai5taW59YAogICAgKTsKICAgIGxldCBvZmZzZXRIb3Vyc1RvQ2hpbmEgPSB1dGlscy5nZXRMb2NhbFRpbWVab25lT2Zmc2V0VG8oOCk7CgogICAgdGhpcy5jaGluYUFuZExvY2FsVGltZVJhbmdlID0gbG9jYWxUaW1lUmFuZ2UubWFwKCh0aW1lT2JqKSA9PiB7CiAgICAgIGxldCBsb2NhbCA9IGAke3RpbWVPYmouaG91cn06JHt0aW1lT2JqLm1pbn1gOwogICAgICBsZXQgY2hpbmFIb3VyID0gTnVtYmVyKHRpbWVPYmouaG91cikgKyBvZmZzZXRIb3Vyc1RvQ2hpbmE7CiAgICAgIGxldCBjaGluYSA9IGAke2NoaW5hSG91ci50b1N0cmluZygpLnBhZFN0YXJ0KDIsICIwIil9OiR7dGltZU9iai5taW59YDsKICAgICAgcmV0dXJuIHsgbG9jYWwsIGNoaW5hIH07CiAgICB9KTsKICB9LAogIHdhdGNoOiB7fSwKICBtZXRob2RzOiB7CiAgICBvbkNoYW5nZVRpbWUoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJvbkNoYW5nZVRpbWUiKTsKICAgICAgbGV0IHRpbWVBcnIgPSB0aGlzLnNlbGVjdGVkVGltZS5sb2NhbC5zcGxpdCgiOiIpOwogICAgICB0aGlzLmRhdGV0aW1lT2JqLnNldEhvdXJzKHRpbWVBcnJbMF0pOwogICAgICB0aGlzLmRhdGV0aW1lT2JqLnNldE1pbnV0ZXModGltZUFyclsxXSk7CiAgICAgIHRoaXMuJGVtaXQoImNoYW5nZSIsIHsKICAgICAgICBpbmRleDogdGhpcy5pbmRleCwKICAgICAgICB0aW1lc3RhbXA6IE51bWJlcih0aGlzLmRhdGV0aW1lT2JqKSAvIDEwMDAsCiAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["ClinicRescheduleDateTimePicker.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ClinicRescheduleDateTimePicker.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"p-3 mb-4\" style=\"border: 1px solid rgba(0,0,0,.125); border-radius: .25rem;\">\n      <div class=\"form-group clinic-reschedule px-3\">\n        <date-picker :inline=\"true\" v-model=\"selectedDate\" value-type=\"timestamp\" />\n      </div>\n      <div class=\"row mt-3\">\n        <div class=\"col-sm-4 available-time-label\">\n          <label class=\"font-15\">Available Time</label>\n        </div>\n        <div class=\"col-sm-8 available-time-select clinic-reschedule-time\">\n          <div class=\"row\" style=\"margin: 0; margin-right: 40px;\">\n            <div class=\"col-sm-6 text-center desc-12\" style=\"color: #020644;\">China UTC+8</div>\n            <div class=\"col-sm-6 text-center desc-12\" style=\"color: #020644;\">Local</div>\n          </div>\n          <multiselect\n            v-model=\"selectedTime\"\n            :options=\"chinaAndLocalTimeRange\"\n            :searchable=\"false\"\n            :close-on-select=\"true\"\n            :show-labels=\"false\"\n            placeholder=\"Pick available time\"\n            @input=\"onChangeTime\"\n          >\n            <template slot=\"singleLabel\" slot-scope=\"{ option }\">\n              <div class=\"row\" style=\"margin-left: -13px;\">\n                <div class=\"col-sm-6 text-center\">\n                  <span>{{ option.china }}</span>\n                </div>\n                <div class=\"col-sm-6 text-center\">{{ option.local }}</div>\n              </div>\n            </template>\n\n            <template slot=\"option\" slot-scope=\"{ option }\">\n              <div class=\"row\" style=\"margin-right: 25px;\">\n                <div class=\"col-sm-6 text-center\">\n                  <span>{{ option.china }}</span>\n                </div>\n                <div class=\"col-sm-6 text-center\">{{ option.local }}</div>\n              </div>\n            </template>\n          </multiselect>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport DatePicker from \"vue2-datepicker\";\nimport utils from \"../utils/utils\";\nimport Multiselect from \"vue-multiselect\";\nimport DatetimeMixin from \"../components/DatetimeMixin\";\n\nexport default {\n  components: { Multiselect, DatePicker },\n  mixins: [DatetimeMixin],\n  props: {\n    datetimeProp: {\n      type: Number,\n      required: true,\n    },\n    index: {\n      type: Number,\n      required: false,\n      default: () => -1,\n    },\n  },\n  data() {\n    return {\n      chinaAndLocalTimeRange: [],\n      selectedTime: null,\n      datetimeObj: null,\n    };\n  },\n  computed: {\n    selectedDate: {\n      get() {\n        return Date.parse(this.datetimeObj);\n      },\n      set(value) {\n        this.datetimeObj = new Date(value);\n        this.onChangeTime();\n      },\n    },\n  },\n  mounted() {\n    this.datetimeObj = new Date(this.datetimeProp * 1000);\n    this.selectedTime = this.getTimeSelectedObject(this.datetimeObj);\n    let localTimeRange = utils.getTimeRange();\n    self.time_ranges = localTimeRange.map(\n      (timeObj) => `${timeObj.hour}:${timeObj.min}`\n    );\n    let offsetHoursToChina = utils.getLocalTimeZoneOffsetTo(8);\n\n    this.chinaAndLocalTimeRange = localTimeRange.map((timeObj) => {\n      let local = `${timeObj.hour}:${timeObj.min}`;\n      let chinaHour = Number(timeObj.hour) + offsetHoursToChina;\n      let china = `${chinaHour.toString().padStart(2, \"0\")}:${timeObj.min}`;\n      return { local, china };\n    });\n  },\n  watch: {},\n  methods: {\n    onChangeTime() {\n      console.log(\"onChangeTime\");\n      let timeArr = this.selectedTime.local.split(\":\");\n      this.datetimeObj.setHours(timeArr[0]);\n      this.datetimeObj.setMinutes(timeArr[1]);\n      this.$emit(\"change\", {\n        index: this.index,\n        timestamp: Number(this.datetimeObj) / 1000,\n      });\n    },\n  },\n};\n</script>"]}]}