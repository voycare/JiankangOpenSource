{"remainingRequest":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider-stg.hera.health/src/views/admin/DoctorListing.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider-stg.hera.health/src/views/admin/DoctorListing.vue","mtime":1596275646406},{"path":"/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gIi4uLy4uL2NvbW1vbi9QYWdpbmF0aW9uIgppbXBvcnQgcmYgZnJvbSAiLi4vLi4vYXBpL1JlcXVlc3RGYWN0b3J5IgppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUGFnaW5hdGlvbiwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93X3BvcG92ZXJfZmlsdGVyOiBmYWxzZSwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIHNvcnRDcmVhdGVkOiAnZGVzYycsCiAgICAgIHRvdGFsUGFnZTogMSwKICAgICAgZG9jdG9yczogW10sCiAgICAgIGZpbHRlcjp7CiAgICAgICAgZG9jdG9yTmFtZTogJycsCiAgICAgICAgdHlwZTogbnVsbCwKICAgICAgICBjb3VudHJ5OiBudWxsLAogICAgICAgIGNpdHk6IG51bGwsCiAgICAgICAgc3BlY2lhbHR5X2lkOiBudWxsLAogICAgICAgIHRyZWF0bWVudF9pZDogbnVsbCwKCiAgICAgIH0sCiAgICAgIGNpdGllczogW3tuYW1lOiAnTllDJ30sIHtuYW1lOiAnTEEnfV0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgLi4ubWFwR2V0dGVycyhbImNvdW50cmllcyIsICJhcHB0X3NwZWNpYWx0eSIsICJhcHB0X3RyZWF0bWVudHMiLCAiYXBwdF90eXBlcyJdKQogIH0sCiAgbW91bnRlZCgpIHsKICAgIGxldCBzZWxmID0gdGhpcwogICAgc2VsZi5nZXRMaXN0aW5nKHNlbGYuY3VycmVudFBhZ2UpCiAgICBpZih0aGlzLmNvdW50cmllcy5sZW5ndGggPT09IDApewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ2V0Q291bnRyaWVzJykKICAgIH0KICAgIGlmKHRoaXMuYXBwdF9zcGVjaWFsdHkubGVuZ3RoID09PSAwICYmIHRoaXMuYXBwdF90cmVhdG1lbnRzLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmFwcHRfdHlwZXMubGVuZ3RoID09PSAwKXsKICAgICAgc2VsZi4kc3RvcmUuZGlzcGF0Y2goImdldEFwcG9pbnRtZW50TWV0YXMiKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFNyYyhzcmMpIHsKICAgICAgaWYgKCFzcmMpIHsKICAgICAgICByZXR1cm4gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQU1MQ3dnQUFBQ0g1QkFBQUFBQUFMQUFBQUFBQkFBRUFBQUlDUkFFQU93PT0nCiAgICAgIH0KCiAgICAgIHJldHVybiBzcmMuc3RhcnRzV2l0aCgnZGF0YTppbWFnZScpID8gc3JjIDogKHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9VUkwgKyBzcmMpCiAgICB9LAogICAgZ2V0TGlzdGluZyhwYWdlKSB7CiAgICAgIGxldCBzZWxmID0gdGhpcwogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgIHBhZ2U6IHBhZ2UsCiAgICAgICAgc29ydF9jcmVhdGVkOiB0aGlzLnNvcnRDcmVhdGVkCiAgICAgIH07CgogICAgICByZi5nZXRSZXF1ZXN0KCdBZG1pblJlcXVlc3QnKS5nZXREb2N0b3JzKHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgIHNlbGYuZG9jdG9ycyA9IHJlcy5kYXRhLmRhdGFzCiAgICAgICAgc2VsZi50b3RhbFBhZ2UgPSByZXMuZGF0YS50b3RhbF9wYWdlCiAgICAgICAgc2VsZi5jdXJyZW50UGFnZSA9IHBhZ2UKICAgICAgfSkKICAgIH0sCiAgICBvblJlbW92ZShpZCkgewogICAgICBsZXQgc2VsZiA9IHRoaXMKICAgICAgdmFyIHIgPSBjb25maXJtKCJBcmUgeW91IHdhbnQgdG8gcmVtb3ZlIHRoaXMgY2xpbmljPyIpOwogICAgICBpZiAoIXIpCiAgICAgICAgcmV0dXJuCgogICAgICByZi5nZXRSZXF1ZXN0KCdBZG1pblJlcXVlc3QnKS5wb3N0RG9jdG9yUmVtb3ZlKGlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgd2luZG93LiRzdG9yZS5kaXNwYXRjaCgnYXBwL3Nob3dNb2RhbCcsIHttZXNzYWdlOiByZXMubWVzc2FnZX0pCiAgICAgICAgc2VsZi5nZXRMaXN0aW5nKDEpCiAgICAgIH0pCiAgICB9LAogIH0KfQo="},{"version":3,"sources":["DoctorListing.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+HA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DoctorListing.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\n  <div>\n    <div class=\"row\">\n      <div class=\"col-sm-6\">\n        <p class=\"title title-22\">Doctors</p>\n      </div>\n    </div>\n\n    <div class=\"list-content\">\n      <div class=\"row\">\n        <div class=\"col-sm-12 form-inline mb-3\">\n          <button class=\"btn btn-white btn-filter\"\n                  id=\"btn__popover_filter\">\n            <span class=\"fa fa-filter\"></span>\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <b-popover \n      :show.sync=\"show_popover_filter\"\n      placement=\"bottomright\"\n      target=\"btn__popover_filter\"\n      triggers=\"focus\"\n    >\n      <div class=\"row\">\n        <div class=\"col-sm-6 pr-1\">\n          <div class=\"form-group\">\n            <div class=\"input-group filter-name\">\n              <input\n                class=\"form-control form-control-sm\"\n                placeholder=\"Doctor Name\"\n                type=\"text\"\n                v-model=\"filter.doctorName\"\n              />\n              <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-sm-6 pl-1\">\n          <select class=\"form-control form-control-sm\" v-model=\"filter.type\">\n            <option disabled hidden value=\"null\" selected>Type</option>\n            <option :key=\"id\" :value=\"id\" v-for=\"(item, id) in appt_types\">{{item}}</option>\n          </select>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-sm-6 pr-1\">\n          <select class=\"form-control form-control-sm\" v-model=\"filter.country\">\n            <option disabled hidden value=\"null\">Country</option>\n            <option :key=\"item.id\" :value=\"item.name\" v-for=\"item in countries\">\n              {{item.name}}\n            </option>\n          </select>\n        </div>\n        <div class=\"col-sm-6 pl-1\">\n          <select class=\"form-control form-control-sm\" v-model=\"filter.city\">\n            <option class=\"option-custom\" disabled hidden value=\"null\">City</option>\n            <option\n              class=\"option-custom\"\n              :key=\"item.name\"\n              :value=\"item.name\"\n              v-for=\"item in cities\"\n            >{{item.name}}</option>\n          </select>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-sm-6 pr-1\">\n          <select class=\"form-control form-control-sm\" v-model=\"filter.specialty_id\">\n            <option disabled hidden value=\"null\">Specialty</option>\n            <option :key=\"id\" :value=\"id\" v-for=\"(spec, id) in appt_specialty\">{{ spec }}</option>\n          </select>\n        </div>\n        <div class=\"col-sm-6 pl-1\">\n          <select class=\"form-control form-control-sm\" v-model=\"filter.treatment_id\">\n            <option class=\"option-custom\" disabled hidden value=\"null\">Treatment</option>\n            <option\n              class=\"option-custom\"\n              :key=\"id\"\n              :value=\"id\"\n              v-for=\"(item, id) in appt_treatments\"\n            >{{item}}</option>\n          </select>\n        </div>\n      </div>\n      <div class=\"row\">\n        <button class=\"btn btn-round btn-sm mx-auto\" @click=\"getListing(0)\" id=\"applyBtn\">Apply</button>\n      </div>\n    </b-popover>\n\n    <div class=\"card p-2\" v-for=\"doctor in doctors\" :key=\"doctor.id\">\n      <div class=\"card-body\">\n        <div class=\"row\">\n          <div class=\"col-sm-4\">\n            <img :src=\"getSrc(doctor.avatar)\" class=\"doctor--avatar-list mr-4\">\n            <div class=\"desc-18 doctor--name\">{{ doctor.name }}</div>\n            <div class=\"desc-15 text-normal\">{{ doctor.title }}</div>\n          </div>\n          <div class=\"col-sm-8\">\n            <div class=\"desc-15 m-b-5 doctor--bio\">Bio</div>\n            <p class=\"desc-14\">{{ doctor.bio }}</p>\n            <div class=\"dropdown profile-action\">\n              <a aria-expanded=\"false\" class=\"action-icon dropdown-toggle\" data-toggle=\"dropdown\"\n                 href=\"#\"><i\n                  class=\"fa fa-ellipsis-v\"></i></a>\n              <div class=\"dropdown-menu dropdown-menu-right\">\n                <router-link :to=\"'/clinics/' + doctor.clinic_id + '/doctors'\" class=\"dropdown-item\"><i\n                    class=\"fa fa-pencil m-r-5\"></i> Edit\n                </router-link>\n                <a @click=\"onRemove(doctor.id)\" class=\"dropdown-item\" data-target=\"#delete_doctor\"\n                   data-toggle=\"modal\" href=\"javascript:void(0)\"><i class=\"fa fa-trash-o m-r-5\"></i>\n                  Delete</a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"page\">\n      <Pagination :current-page=\"currentPage\" :total-page=\"totalPage\"\n                  @pageData=\"getListing\"></Pagination>\n    </div>\n  </div>\n</template>\n<script>\n  import Pagination from \"../../common/Pagination\"\n  import rf from \"../../api/RequestFactory\"\n  import { mapGetters } from \"vuex\";\n\n  export default {\n    components: {\n      Pagination,\n    },\n    data() {\n      return {\n        show_popover_filter: false,\n        currentPage: 1,\n        sortCreated: 'desc',\n        totalPage: 1,\n        doctors: [],\n        filter:{\n          doctorName: '',\n          type: null,\n          country: null,\n          city: null,\n          specialty_id: null,\n          treatment_id: null,\n\n        },\n        cities: [{name: 'NYC'}, {name: 'LA'}]\n      }\n    },\n    computed: {\n    ...mapGetters([\"countries\", \"appt_specialty\", \"appt_treatments\", \"appt_types\"])\n    },\n    mounted() {\n      let self = this\n      self.getListing(self.currentPage)\n      if(this.countries.length === 0){\n        this.$store.dispatch('getCountries')\n      }\n      if(this.appt_specialty.length === 0 && this.appt_treatments.length === 0 && this.appt_types.length === 0){\n        self.$store.dispatch(\"getAppointmentMetas\");\n      }\n    },\n    methods: {\n      getSrc(src) {\n        if (!src) {\n          return 'data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=='\n        }\n\n        return src.startsWith('data:image') ? src : (process.env.VUE_APP_BASE_URL + src)\n      },\n      getListing(page) {\n        let self = this\n        let params = {\n          page: page,\n          sort_created: this.sortCreated\n        };\n\n        rf.getRequest('AdminRequest').getDoctors(params).then(res => {\n          self.doctors = res.data.datas\n          self.totalPage = res.data.total_page\n          self.currentPage = page\n        })\n      },\n      onRemove(id) {\n        let self = this\n        var r = confirm(\"Are you want to remove this clinic?\");\n        if (!r)\n          return\n\n        rf.getRequest('AdminRequest').postDoctorRemove(id).then(res => {\n          window.$store.dispatch('app/showModal', {message: res.message})\n          self.getListing(1)\n        })\n      },\n    }\n  }\n</script>\n<style>\n  .doctor--avatar-list {\n    border-radius: 100%;\n    background-color: #C4C4C4;\n    min-height: 125px;\n    min-width: 125px;\n    float: left;\n  }\n\n  .doctor--name {\n    margin-top: 35px;\n  }\n\n  .doctor--bio {\n    margin-top: 15px;\n  }\n  .input-group,\n  .form-group {\n    margin-bottom: 0;\n  }\n  .filter-name i {\n  position: absolute;\n  right: 0px;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  margin-right: 8px;\n  color: #434343;\n  z-index: 999;\n}\n.filter-name input {\n  padding-right: 25px;\n}\n.form-control {\n  display: block;\n  width: 100%;\n  height: calc(2.25rem + 2px) !important;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  min-height: 0px;\n  margin-bottom: 10px;\n}\n.form-control-sm {\n  height: calc(1.8125rem + 2px) !important;\n  padding: 0.25rem 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  border-radius: 0.2rem;\n}\nselect.form-control{\n  border-radius: 0px;\n  border-width: 1px;\n  border-style: solid;\n  border-color: -internal-light-dark-color(\n    rgb(118, 118, 118),\n    rgb(195, 195, 195)\n  );\n  border-image: initial;\n\n}\nselect.form-control:hover,\nselect.form-control:focus{\n  border-top: 1px solid rgb(118, 118, 118);\n  border-bottom: 1px solid rgb(118, 118, 118);\n  border-right: 1px solid rgb(118, 118, 118);\n  border-left: 1px solid rgb(118, 118, 118);\n}\n#applyBtn {\n  width: 108px;\n  color: white;\n  background: #eb6271;\n  border-radius: 50px;\n  font-weight: 500;\n  margin-bottom: 20px;\n  margin-top: 20px;\n}\n\n</style>\n"]}]}