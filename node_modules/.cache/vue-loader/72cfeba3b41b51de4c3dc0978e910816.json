{"remainingRequest":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider-stg.hera.health/src/views/admin/ClinicEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider-stg.hera.health/src/views/admin/ClinicEdit.vue","mtime":1595280527039},{"path":"/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKCmltcG9ydCBDb25zdCBmcm9tICIuLy4uLy4uL3V0aWxzL2NvbnN0IjsKaW1wb3J0IHJmIGZyb20gIi4uLy4uL2FwaS9SZXF1ZXN0RmFjdG9yeSI7CmltcG9ydCBQaG90b0VkaXQgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9QaG90b0VkaXQiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFBob3RvRWRpdAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIENvbnN0LAogICAgICBpZDogbnVsbCwKICAgICAgY2xpbmljOiBudWxsLAogICAgICBpbWdTcmM6ICIiLAogICAgICB0b2dnbGVfY291bnRyeTogZmFsc2UsCiAgICAgIGNvdW50cnlfc2VsZWN0ZWQ6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbImNvdW50cmllcyIsICJhcHB0X3NwZWNpYWx0eSJdKQogIH0sCiAgbWV0aG9kczogewogICAgb25DbGluaWNMYW5ndWFnZVJlbW92ZShpZCkgewogICAgICBsZXQgc2VsZiA9IHRoaXM7CgogICAgICBsZXQgciA9IGNvbmZpcm0oIkFyZSB5b3Ugd2FudCB0byByZW1vdmUgdGhpcyBjbGluaWM/Iik7CiAgICAgIGlmIChyID09IHRydWUpIHsKICAgICAgICByZi5nZXRSZXF1ZXN0KCJBZG1pblJlcXVlc3QiKQogICAgICAgICAgLnBvc3RDbGluaWNMYW5ndWFnZVJlbW92ZShpZCwge30pCiAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICBzZWxmLiRzdG9yZS5kaXNwYXRjaCgiYXBwL3Nob3dNb2RhbCIsIHsgbWVzc2FnZTogcmVzLm1lc3NhZ2UgfSk7CgogICAgICAgICAgICBzZWxmLmdldERldGFpbCgpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvbkNsaW5pY0xhbmd1YWdlU2F2ZSgpIHsKICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgICAgbGFuZ3VhZ2U6IHNlbGYuY291bnRyeV9zZWxlY3RlZC50cmltKCkKICAgICAgfTsKCiAgICAgIHJmLmdldFJlcXVlc3QoIkFkbWluUmVxdWVzdCIpCiAgICAgICAgLnBvc3RDbGluaWNMYW5ndWFnZVVwZGF0ZShzZWxmLmlkLCBwYXJhbXMpCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHNlbGYuJHN0b3JlLmRpc3BhdGNoKCJhcHAvc2hvd01vZGFsIiwgeyBtZXNzYWdlOiByZXMubWVzc2FnZSB9KTsKCiAgICAgICAgICBzZWxmLmdldERldGFpbCgpOwogICAgICAgICAgc2VsZi5jb3VudHJ5X3NlbGVjdGVkID0gbnVsbDsKICAgICAgICAgIHNlbGYudG9nZ2xlX2NvdW50cnkgPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICBvblNhdmUoKSB7CiAgICAgIGxldCBzZWxmID0gdGhpczsKICAgICAgY29uc3QgcGFyYW1zID0gewogICAgICAgIGNsaW5pYzogc2VsZi5jbGluaWMKICAgICAgfTsKCiAgICAgIHJmLmdldFJlcXVlc3QoIkFkbWluUmVxdWVzdCIpCiAgICAgICAgLnBvc3RDbGluaWNVcGRhdGUoc2VsZi5pZCwgcGFyYW1zKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICBzZWxmLiRzdG9yZS5kaXNwYXRjaCgiYXBwL3Nob3dNb2RhbCIsIHsgbWVzc2FnZTogcmVzLm1lc3NhZ2UgfSk7CiAgICAgICAgICBzZWxmLmNsaW5pYyA9IHJlcy5kYXRhOwogICAgICAgIH0pOwogICAgfSwKICAgIG9uQ2hhbmdlQXZhdGFyKGltZ1NyYykgewogICAgICB0aGlzLmltZ1NyYyA9IGltZ1NyYzsKICAgIH0sCiAgICBnZXREZXRhaWwoKSB7CiAgICAgIGxldCBzZWxmID0gdGhpczsKICAgICAgcmYuZ2V0UmVxdWVzdCgiQWRtaW5SZXF1ZXN0IikKICAgICAgICAuZ2V0Q2xpbmljKHNlbGYuaWQpCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHNlbGYuY2xpbmljID0gcmVzLmRhdGE7CiAgICAgICAgfSk7CiAgICB9LAogICAgdGFrZUNlcnRpZmljYXRlUGhvdG8oZSwgaW5kZXgpIHsKICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07CiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgIHJlYWRlci5vbmxvYWQgPSBldmVudCA9PiB7CiAgICAgICAgc2VsZi5jbGluaWMuY2VydGlmaWNhdGVzW2luZGV4XS5wYXRoID0gZXZlbnQudGFyZ2V0LnJlc3VsdDsKICAgICAgfTsKICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICB9LAogICAgb25BZGRDZXJ0aWZpY2F0ZSgpIHsKICAgICAgbGV0IHNlbGYgPSB0aGlzOwoKICAgICAgaWYgKHNlbGYuY2xpbmljKSB7CiAgICAgICAgc2VsZi5jbGluaWMuY2VydGlmaWNhdGVzLnB1c2goewogICAgICAgICAgbmFtZTogIiIsCiAgICAgICAgICBkZXNjcmlwdGlvbjogIiIsCiAgICAgICAgICBjbGluaWNfaWQ6IHNlbGYuY2xpbmljLmlkLAogICAgICAgICAgcGF0aDogIiIKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIGxldCBzZWxmID0gdGhpczsKCiAgICBzZWxmLmlkID0gcGFyc2VJbnQodGhpcy4kcm91dGUucGFyYW1zLmlkKTsKCiAgICBzZWxmLiRzdG9yZS5kaXNwYXRjaCgiZ2V0Q291bnRyaWVzIik7CiAgICBzZWxmLiRzdG9yZS5kaXNwYXRjaCgiZ2V0QXBwb2ludG1lbnRNZXRhcyIpOwogICAgc2VsZi5nZXREZXRhaWwoKTsKICB9Cn07Cg=="},{"version":3,"sources":["ClinicEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkQA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA","file":"ClinicEdit.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\n  <div class>\n    <router-link :to=\"'/clinics/' + id\">\n      <p class=\"title-18\">\n        <i class=\"fa fa-arrow-left mr-3\"></i>Back to Clinic Profile\n      </p>\n    </router-link>\n\n    <p class=\"title-22 mt-4\">Edit Clinic Profile</p>\n\n    <div v-if=\"clinic\">\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <h3 class=\"title-18\" style=\"color: #434343;\">Clinic Information</h3>\n\n          <div class=\"row\">\n            <div class=\"col-sm-3\">\n              <PhotoEdit :avatar_url=\"clinic.avatar\" @onChangeAvatar=\"onChangeAvatar\"></PhotoEdit>\n\n              <p class=\"desc-15\">No more than 2MB max.</p>\n              <p class=\"desc-15\">Format: JPG or PNG</p>\n            </div>\n            <div class=\"col-sm-9\">\n              <div class=\"row\">\n                <div class=\"col-sm-12\">\n                  <div class=\"form-group\">\n                    <label>Name of practice or clinic</label>\n                    <input class=\"form-control\" readonly=\"true\" type=\"text\" v-model=\"clinic.name\" />\n                  </div>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col-sm-6 form-group\">\n                  <label>Type of practice or clinic</label>\n                  <input\n                    class=\"form-control\"\n                    readonly=\"true\"\n                    type=\"text\"\n                    v-model=\"clinic.profile.type_clinic\"\n                  />\n                </div>\n                <div class=\"col-sm-6 form-group\">\n                  <label>Speciality</label>\n                  <!-- <b-form-select v-model=\"clinic.specialty_id\" class=\"form-control\">\n                    <b-form-select-option\n                      v-for=\"(spec, id) in appt_specialty\"\n                      :key=\"id\"\n                      :value=\"id\"\n                    >{{spec}}</b-form-select-option>\n                  </b-form-select>-->\n                  <select class=\"form-control\" v-model=\"clinic.profile.specialty_id\">\n                    <option value=\"null\">Select</option>\n                    <option :key=\"id\" :value=\"id\" v-for=\"(spec, id) in appt_specialty\">{{ spec }}</option>\n                  </select>\n                </div>\n              </div>\n\n              <div class=\"row\">\n                <div class=\"col-sm-6 form-group\">\n                  <label for>Email address</label>\n                  <input class=\"form-control\" readonly type=\"email\" v-model=\"clinic.email\" />\n                </div>\n\n                <div class=\"col-sm-6 form-group\">\n                  <label for>Phone number</label>\n                  <input class=\"form-control\" readonly type=\"text\" v-model=\"clinic.phone\" />\n                </div>\n              </div>\n\n              <div class=\"row\">\n                <div class=\"col-sm-6 form-group\">\n                  <label for>Contact Person</label>\n                  <input class=\"form-control\" readonly type=\"text\" v-model=\"clinic.profile.contact_person\" />\n                </div>\n\n                <div class=\"col-sm-6 form-group\">\n                  <label for>Title</label>\n                  <input class=\"form-control\" readonly type=\"text\" v-model=\"clinic.profile.title\" />\n                </div>\n              </div>\n              <label for>Clinic address</label>\n              <div class=\"row\">\n                <div class=\"col-sm-6 form-group\">\n                  <input\n                    class=\"form-control\"\n                    placeholder=\"Street line 1\"\n                    type=\"text\"\n                    v-model=\"clinic.address.street_line_1\"\n                  />\n                </div>\n\n                <div class=\"col-sm-6 form-group\">\n                  <input\n                    class=\"form-control\"\n                    placeholder=\"Street line 2\"\n                    type=\"text\"\n                    v-model=\"clinic.address.street_line_2\"\n                  />\n                </div>\n              </div>\n\n              <div class=\"row\">\n                <div class=\"col-sm-4 form-group\">\n                  <label for></label>\n                  <input\n                    class=\"form-control\"\n                    placeholder=\"City\"\n                    type=\"text\"\n                    v-model=\"clinic.address.city\"\n                  />\n                </div>\n\n                <div class=\"col-sm-4 form-group\">\n                  <label for></label>\n                  <input\n                    class=\"form-control\"\n                    placeholder=\"State/Province\"\n                    type=\"text\"\n                    v-model=\"clinic.address.state\"\n                  />\n                </div>\n\n                <div class=\"col-sm-4 form-group\">\n                  <label for></label>\n                  <input\n                    class=\"form-control\"\n                    placeholder=\"State/Province\"\n                    readonly\n                    type=\"text\"\n                    v-model=\"clinic.address.country\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <h3 class=\"desc-18\">Clinic Profile</h3>\n\n          <textarea class=\"form-control\" cols=\"30\" rows=\"10\" v-model=\"clinic.profile.description\"></textarea>\n        </div>\n      </div>\n\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <h3 class=\"desc-18\">Languages Spoken</h3>\n\n          <div class=\"form-inline\">\n            <button\n              :key=\"language.id\"\n              @click=\"onClinicLanguageRemove(language.id)\"\n              class=\"btn btn-pink mr-2\"\n              v-for=\"language in clinic.languages\"\n            >{{ language.language }}</button>\n\n            <select\n              @change=\"onClinicLanguageSave\"\n              class=\"form-control mr-2\"\n              v-if=\"toggle_country\"\n              v-model=\"country_selected\"\n            >\n              <option\n                :key=\"country.id\"\n                :value=\"country.name\"\n                v-for=\"country in countries\"\n              >{{ country.name }}</option>\n            </select>\n\n            <button @click=\"toggle_country = true\" class=\"btn btn-link\">\n              <i class=\"fa fa-plus\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <h3 class=\"desc-18\">Awards / Certifications</h3>\n\n          <div\n            :key=\"certificate.id\"\n            class=\"border--bottom mt-2 mb-2\"\n            v-for=\"(certificate, index) in clinic.certificates\"\n          >\n            <div class=\"row\">\n              <div class=\"col-sm-4\">\n                <div class=\"form-group\">\n                  <label for>Title of certificate</label>\n                  <input\n                    class=\"form-control\"\n                    placeholder=\"Title\"\n                    type=\"text\"\n                    v-model=\"certificate.name\"\n                  />\n                </div>\n              </div>\n              <div class=\"col-sm-4\">\n                <div class=\"form-group\">\n                  <label for></label>\n                  <input\n                    @change=\"takeCertificatePhoto($event, index)\"\n                    accept=\"image/*\"\n                    capture=\"environment\"\n                    class=\"form-control\"\n                    placeholder=\"Upload certificate\"\n                    type=\"file\"\n                  />\n                  <small>No more than 2MB max.</small>\n                  <small>Format: JPG or PNG</small>\n                </div>\n              </div>\n              <div class=\"col-sm-4\">\n                <div class=\"certificate--thumb\">\n                  <img :src=\"certificate.path\" v-if=\"certificate.path\" />\n                  <img class=\"no-avatar\" v-else />\n                </div>\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <div class=\"col-sm-4\">\n                <div class=\"form-group\">\n                  <label for>Issuer of certificate</label>\n                  <input\n                    class=\"form-control\"\n                    placeholder=\"Issuer\"\n                    type=\"text\"\n                    v-model=\"certificate.description\"\n                  />\n                </div>\n              </div>\n              <div class=\"col-sm-4\"></div>\n              <div class=\"col-sm-4\"></div>\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col-sm-12 text-right\">\n              <button @click=\"onAddCertificate\" class=\"btn btn-link\">\n                <i class=\"fa fa-plus\"></i>Add\n                Certificate\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"text-center\">\n        <button @click=\"onSave\" class=\"btn btn-pink btn-round btn-lg\">Save</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\n\nimport Const from \"./../../utils/const\";\nimport rf from \"../../api/RequestFactory\";\nimport PhotoEdit from \"../../components/PhotoEdit\";\n\nexport default {\n  components: {\n    PhotoEdit\n  },\n  data() {\n    return {\n      Const,\n      id: null,\n      clinic: null,\n      imgSrc: \"\",\n      toggle_country: false,\n      country_selected: null\n    };\n  },\n  computed: {\n    ...mapGetters([\"countries\", \"appt_specialty\"])\n  },\n  methods: {\n    onClinicLanguageRemove(id) {\n      let self = this;\n\n      let r = confirm(\"Are you want to remove this clinic?\");\n      if (r == true) {\n        rf.getRequest(\"AdminRequest\")\n          .postClinicLanguageRemove(id, {})\n          .then(res => {\n            self.$store.dispatch(\"app/showModal\", { message: res.message });\n\n            self.getDetail();\n          });\n      }\n    },\n    onClinicLanguageSave() {\n      let self = this;\n      const params = {\n        language: self.country_selected.trim()\n      };\n\n      rf.getRequest(\"AdminRequest\")\n        .postClinicLanguageUpdate(self.id, params)\n        .then(res => {\n          self.$store.dispatch(\"app/showModal\", { message: res.message });\n\n          self.getDetail();\n          self.country_selected = null;\n          self.toggle_country = false;\n        });\n    },\n    onSave() {\n      let self = this;\n      const params = {\n        clinic: self.clinic\n      };\n\n      rf.getRequest(\"AdminRequest\")\n        .postClinicUpdate(self.id, params)\n        .then(res => {\n          self.$store.dispatch(\"app/showModal\", { message: res.message });\n          self.clinic = res.data;\n        });\n    },\n    onChangeAvatar(imgSrc) {\n      this.imgSrc = imgSrc;\n    },\n    getDetail() {\n      let self = this;\n      rf.getRequest(\"AdminRequest\")\n        .getClinic(self.id)\n        .then(res => {\n          self.clinic = res.data;\n        });\n    },\n    takeCertificatePhoto(e, index) {\n      let self = this;\n      const file = e.target.files[0];\n      const reader = new FileReader();\n      reader.onload = event => {\n        self.clinic.certificates[index].path = event.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    onAddCertificate() {\n      let self = this;\n\n      if (self.clinic) {\n        self.clinic.certificates.push({\n          name: \"\",\n          description: \"\",\n          clinic_id: self.clinic.id,\n          path: \"\"\n        });\n      }\n    }\n  },\n  mounted() {\n    let self = this;\n\n    self.id = parseInt(this.$route.params.id);\n\n    self.$store.dispatch(\"getCountries\");\n    self.$store.dispatch(\"getAppointmentMetas\");\n    self.getDetail();\n  }\n};\n</script>\n\n<style scoped>\n.title-22 {\n  color: #020644;\n}\nlabel {\n  font-weight: 500;\n}\ninput {\n  color: #eb6271;\n}\nselect.form-control,\nselect.form-control:focus,\nselect.form-control:hover {\n  border-radius: 0px;\n  /* border-width: 1px;\n  border-style: solid;\n  border-color: -internal-light-dark-color(\n    rgb(118, 118, 118),\n    rgb(195, 195, 195)\n  ); */\n  border-top: 1px solid #cccccc;\n  border-left: 1px solid #cccccc;\n  border-right: 1px solid #cccccc;\n  border-bottom: 1px solid #cccccc;\n  border-image: initial;\n}\nselect.form-control:not([size]):not([multiple]) {\n  height: 40px;\n}\n</style>\n"]}]}