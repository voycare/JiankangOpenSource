{"remainingRequest":"/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider.voycare.com/src/views/admin/Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider.voycare.com/src/views/admin/Dashboard.vue","mtime":1597939243783},{"path":"/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js","mtime":1596630677130},{"path":"/var/www/provider.voycare.com/node_modules/thread-loader/dist/cjs.js","mtime":1596630678838},{"path":"/var/www/provider.voycare.com/node_modules/babel-loader/lib/index.js","mtime":1596630688999},{"path":"/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js","mtime":1596630677130},{"path":"/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js","mtime":1596630687836}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCByZiBmcm9tICIuLi8uLi9hcGkvUmVxdWVzdEZhY3RvcnkiCmltcG9ydCBBZG1pbkFwcG9pbnRtZW50V2lkZ2V0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQWRtaW5BcHBvaW50bWVudFdpZGdldCcKaW1wb3J0IERhdGVQaWNrZXIgZnJvbSAndnVlMi1kYXRlcGlja2VyJwppbXBvcnQge21hcEdldHRlcnN9IGZyb20gInZ1ZXgiCmltcG9ydCBBZG1pbldpZ2V0QXBwb2ludG1lbnRUeXBlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQWRtaW5XaWdldEFwcG9pbnRtZW50VHlwZScKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWRtaW5EYXNoYm9hcmQiLAogIGNvbXBvbmVudHM6IHsKICAgIEFkbWluQXBwb2ludG1lbnRXaWRnZXQsIERhdGVQaWNrZXIsIEFkbWluV2lnZXRBcHBvaW50bWVudFR5cGUKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3RhbHM6IHsKICAgICAgICBjbGllbnRzOiAwLAogICAgICAgIGRvY3RvcnM6IDAsCiAgICAgICAgY2xpbmljczogMCwKICAgICAgICByZXZlbnVlczogMAogICAgICB9LAogICAgICBhcHB0c18yNGg6IFtdLAogICAgICBhcHB0c183ZDogW10sCiAgICAgIGFwcHRzX2NyOiBbXSwKICAgICAgYXBwdHNfY3Q6IFtdLAogICAgICBhcHB0c19zdjogW10sCiAgICAgIGNsaWVudHM6IFtdLAogICAgICBzZWFyY2hfcnY6IHsKICAgICAgICBmcm9tOiBudWxsLAogICAgICAgIHRvOiBudWxsCiAgICAgIH0sCiAgICAgIHRvdGFsX2NzbDogMCwKICAgICAgdG90YWxfc3Y6IDAsCiAgICAgIHRvdGFsX3J2OiAwLAogICAgICB0b3BfY2xpbmljX2ZpbHRlcjogewogICAgICAgIHR5cGU6IDEsCiAgICAgICAgbGltaXQ6IDUKICAgICAgfSwKICAgICAgdG9wX2NsaW5pY3M6IFtdCiAgICB9CiAgfSwKICBjb21wdXRlZDoge30sCiAgbW91bnRlZCgpIHsKICAgIGxldCBzZWxmID0gdGhpcwoKICAgIHNlbGYuJHN0b3JlLmRpc3BhdGNoKCdnZXRDb3VudHJpZXMnKQogICAgc2VsZi4kc3RvcmUuZGlzcGF0Y2goJ2dldEFwcG9pbnRtZW50TWV0YXMnKQoKICAgIHJmLmdldFJlcXVlc3QoJ0FkbWluUmVxdWVzdCcpLmdldERhc2hib2FyZFRvdGFscygpLnRoZW4ocmVzID0+IHsKICAgICAgc2VsZi50b3RhbHMgPSByZXMuZGF0YQogICAgfSkKCiAgICBzZWxmLmdldDI0SG91cnMoKQogICAgc2VsZi5nZXQ3RGF5cygpCiAgICBzZWxmLmdldENScygpCiAgICBzZWxmLmdldENvbnN1bGF0aW9uVHlwZXMoKQogICAgc2VsZi5nZXRTaXRlVmlzaXRzKCkKICAgIHNlbGYuZ2V0Q2xpZW50cygpCiAgICBzZWxmLm9uVG9wQ2xpbmljcygpCiAgfSwKICBtZXRob2RzOiB7CiAgICBvblNlYXJjaENTTChzZWFyY2hfY3NsKSB7CiAgICAgIGxldCBzZWxmID0gdGhpcwogICAgICBsZXQgcGFyYW1zID0ge30KICAgICAgcGFyYW1zID0gc2VhcmNoX2NzbAogICAgICBwYXJhbXMuZnJvbSA9IHBhcmFtcy5mcm9tID8gcGFyYW1zLmZyb20gLyAxMDAwIDogbnVsbAogICAgICBwYXJhbXMudG8gPSBwYXJhbXMudG8gPyBwYXJhbXMudG8gLyAxMDAwIDogbnVsbAogICAgICBwYXJhbXMudHlwZV9pZHMgPSBbMV0KCiAgICAgIHJmLmdldFJlcXVlc3QoJ0FkbWluUmVxdWVzdCcpLmdldEFwcG9pbnRtZW50cyhwYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICBzZWxmLnRvdGFsX2NzbCA9IHJlcy5kYXRhLnRvdGFsCiAgICAgIH0pCiAgICB9LAogICAgb25TZWFyY2hTVihzZWFyY2hfc3YpIHsKICAgICAgbGV0IHNlbGYgPSB0aGlzCiAgICAgIGxldCBwYXJhbXMgPSB7fQogICAgICBwYXJhbXMgPSBzZWFyY2hfc3YKICAgICAgcGFyYW1zLmZyb20gPSBwYXJhbXMuZnJvbSA/IHBhcmFtcy5mcm9tIC8gMTAwMCA6IG51bGwKICAgICAgcGFyYW1zLnRvID0gcGFyYW1zLnRvID8gcGFyYW1zLnRvIC8gMTAwMCA6IG51bGwKICAgICAgcGFyYW1zLnR5cGVfaWRzID0gWzJdCgogICAgICByZi5nZXRSZXF1ZXN0KCdBZG1pblJlcXVlc3QnKS5nZXRBcHBvaW50bWVudHMocGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgc2VsZi50b3RhbF9zdiA9IHJlcy5kYXRhLnRvdGFsCiAgICAgIH0pCiAgICB9LAogICAgb25TZWFyY2hSZXZlbnVlKHNlYXJjaF9ydikgewogICAgICBsZXQgc2VsZiA9IHRoaXMKICAgICAgbGV0IHBhcmFtcyA9IHt9CiAgICAgIHBhcmFtcyA9IHNlYXJjaF9ydgogICAgICBwYXJhbXMuZnJvbSA9IHBhcmFtcy5mcm9tID8gcGFyYW1zLmZyb20gLyAxMDAwIDogbnVsbAogICAgICBwYXJhbXMudG8gPSBwYXJhbXMudG8gPyBwYXJhbXMudG8gLyAxMDAwIDogbnVsbAoKICAgICAgcmYuZ2V0UmVxdWVzdCgnQWRtaW5SZXF1ZXN0JykuZ2V0QXBwb2ludG1lbnRUb3RhbChwYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICBzZWxmLnRvdGFsX3J2ID0gcmVzLmRhdGEudG90YWwKICAgICAgfSkKICAgIH0sCiAgICBnZXRDbGllbnRzKCkgewogICAgICBsZXQgc2VsZiA9IHRoaXMKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBsaW1pdDogMywKICAgICAgICBzb3J0X2NyZWF0ZWQ6ICdkZXNjJwogICAgICB9CgogICAgICByZi5nZXRSZXF1ZXN0KCdBZG1pblJlcXVlc3QnKS5nZXRDbGllbnRzKHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgIHNlbGYuY2xpZW50cyA9IHJlcy5kYXRhLmRhdGFzCiAgICAgIH0pCiAgICB9LAogICAgZ2V0MjRIb3VycygpIHsKICAgICAgbGV0IHNlbGYgPSB0aGlzCiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgbGltaXQ6IDMsCiAgICAgICAgdHlwZTogJzI0aCcsCiAgICAgICAgc29ydF9jcmVhdGVkOiAnZGVzYycKICAgICAgfQoKICAgICAgcmYuZ2V0UmVxdWVzdCgnQWRtaW5SZXF1ZXN0JykuZ2V0QXBwb2ludG1lbnRzKHBhcmFtcykudGhlbigocmVzKSA9PiB7CiAgICAgICAgc2VsZi5hcHB0c18yNGggPSByZXMuZGF0YS5kYXRhcwogICAgICB9KQogICAgfSwKICAgIGdldDdEYXlzKCkgewogICAgICBsZXQgc2VsZiA9IHRoaXMKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBsaW1pdDogMywKICAgICAgICB0eXBlOiAnN2QnLAogICAgICAgIHNvcnRfY3JlYXRlZDogJ2Rlc2MnCiAgICAgIH0KCiAgICAgIHJmLmdldFJlcXVlc3QoJ0FkbWluUmVxdWVzdCcpLmdldEFwcG9pbnRtZW50cyhwYXJhbXMpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHNlbGYuYXBwdHNfN2QgPSByZXMuZGF0YS5kYXRhcwogICAgICB9KQogICAgfSwKICAgIGdldENvbnN1bGF0aW9uVHlwZXMoKSB7CiAgICAgIGxldCBzZWxmID0gdGhpcwoKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBsaW1pdDogMywKICAgICAgICB0eXBlX2lkczogWzFdLAogICAgICAgIHNvcnRfY3JlYXRlZDogJ2Rlc2MnCiAgICAgIH0KCiAgICAgIHJmLmdldFJlcXVlc3QoJ0FkbWluUmVxdWVzdCcpLmdldEFwcG9pbnRtZW50cyhwYXJhbXMpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHNlbGYuYXBwdHNfY3QgPSByZXMuZGF0YS5kYXRhcwogICAgICB9KQogICAgfSwKICAgIGdldFNpdGVWaXNpdHMoKSB7CiAgICAgIGxldCBzZWxmID0gdGhpcwoKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBsaW1pdDogMywKICAgICAgICB0eXBlX2lkczogWzJdLAogICAgICAgIHNvcnRfY3JlYXRlZDogJ2Rlc2MnCiAgICAgIH0KCiAgICAgIHJmLmdldFJlcXVlc3QoJ0FkbWluUmVxdWVzdCcpLmdldEFwcG9pbnRtZW50cyhwYXJhbXMpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHNlbGYuYXBwdHNfc3YgPSByZXMuZGF0YS5kYXRhcwogICAgICB9KQogICAgfSwKICAgIGdldENScygpIHsKICAgICAgbGV0IHNlbGYgPSB0aGlzCiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgbGltaXQ6IDMsCiAgICAgICAgc29ydF9jcmVhdGVkOiAnZGVzYycKICAgICAgfQoKICAgICAgcmYuZ2V0UmVxdWVzdCgnQWRtaW5SZXF1ZXN0JykuZ2V0QXBwb2ludG1lbnRzQ1IocGFyYW1zKS50aGVuKChyZXMpID0+IHsKICAgICAgICBzZWxmLmFwcHRzX2NyID0gcmVzLmRhdGEuZGF0YXMKICAgICAgfSkKICAgIH0sCiAgICBvblRvcENsaW5pY3MoKSB7CiAgICAgIGxldCBzZWxmID0gdGhpcwogICAgICBsZXQgcGFyYW1zID0gc2VsZi50b3BfY2xpbmljX2ZpbHRlcgoKICAgICAgcmYuZ2V0UmVxdWVzdCgnQWRtaW5SZXF1ZXN0JykuZ2V0QXBwb2ludG1lbnRzVG9wKHBhcmFtcykudGhlbigocmVzKSA9PiB7CiAgICAgICAgc2VsZi50b3BfY2xpbmljcyA9IHJlcy5kYXRhCiAgICAgICAgY29uc29sZS5sb2coc2VsZi50b3BfY2xpbmljcykKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0KA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\n  <div >\n    <div class=\"row\">\n      <div class=\"col-md-6 col-sm-6 col-lg-6 col-xl-3\">\n        <div class=\"dash-widget\">\n          <span class=\"dash-widget-bg1\"><i aria-hidden=\"true\" class=\"fa fa-stethoscope\"></i></span>\n          <div class=\"dash-widget-info text-right\">\n            <h3>{{ totals.clinics }}</h3>\n            <span class=\"widget-title1\">Clinics <i aria-hidden=\"true\"\n                                                   class=\"fa fa-check\"></i></span>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-6 col-sm-6 col-lg-6 col-xl-3\">\n        <div class=\"dash-widget\">\n          <span class=\"dash-widget-bg2\"><i class=\"fa fa-user-o\"></i></span>\n          <div class=\"dash-widget-info text-right\">\n            <h3>{{ totals.clients }}</h3>\n            <span class=\"widget-title2\">Clients <i aria-hidden=\"true\"\n                                                   class=\"fa fa-check\"></i></span>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-6 col-sm-6 col-lg-6 col-xl-3\">\n        <div class=\"dash-widget\">\n          <span class=\"dash-widget-bg3\"><i aria-hidden=\"true\" class=\"fa fa-user-md\"></i></span>\n          <div class=\"dash-widget-info text-right\">\n            <h3>{{ totals.doctors }}</h3>\n            <span class=\"widget-title3\">Doctors <i aria-hidden=\"true\" class=\"fa fa-check\"></i></span>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-6 col-sm-6 col-lg-6 col-xl-3\">\n        <div class=\"dash-widget\">\n          <span class=\"dash-widget-bg4\"><i aria-hidden=\"true\" class=\"fa fa-heartbeat\"></i></span>\n          <div class=\"dash-widget-info text-right\">\n            <h3>{{ totals.revenues }}</h3>\n            <span class=\"widget-title4\">Revenues <i aria-hidden=\"true\"\n                                                    class=\"fa fa-check\"></i></span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-8 \">\n        <AdminAppointmentWidget to=\"/appointment-24h\" :appts=\"appts_24h\" title=\"24 - Hour\"></AdminAppointmentWidget>\n\n        <AdminAppointmentWidget to=\"/appointment-7d\" :appts=\"appts_7d\" title=\"7 - Day\"></AdminAppointmentWidget>\n\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h4 class=\"title-20 card-title card-title-homepage d-inline-block\">Cancellation Requests</h4>\n            <router-link class=\"btn btn-dark btn-small float-right\" to=\"/appointment-cr\">View all</router-link>\n          </div>\n          <div class=\"card-body p-0\">\n            <div class=\"table-responsive table--appointment\">\n              <table class=\"table mb-0 b-0\">\n                <tbody>\n                <tr v-bind:key=\"appt.id\" v-for=\"appt in appts_cr\">\n                  <td>\n                    <h2 class=\"time-title title-15 pb-2\">\n                      Client\n                    </h2>\n                    <div class=\"text-desc desc-11\">{{ appt.appointment.client.name }}</div>\n                  </td>\n                  <td>\n                    <h2 class=\"time-title title-15\">\n                      Clinic\n                    </h2>\n                    <div class=\"text-desc desc-11\">{{ appt.appointment.clinic.name }}</div>\n                  </td>\n                  <td>\n                    <h2 class=\"time-title title-15\">\n                      Cancellation Date\n                    </h2>\n                    <div class=\"text-desc desc-11\">{{ appt.created |convertTimeSecondToDate }}</div>\n                  </td>\n                  <td class=\"text-center\">\n                    <p class=\"alert appt--status alert-process\" v-if=\"appt.appointment.status == 2 && appt.status == 1\">\n                      Processing</p>\n                    <p class=\"alert appt--status alert-refunded\"\n                       v-if=\"appt.appointment.status == 2 && appt.status == 2\">\n                      Refunded</p>\n                  </td>\n                </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n\n        <AdminAppointmentWidget to=\"/appointments?type_ids=1\" :appts=\"appts_ct\"\n                                title=\"New Consulations\"></AdminAppointmentWidget>\n\n        <AdminAppointmentWidget to=\"/appointments?type_ids=2\" :appts=\"appts_sv\"\n                                title=\"New Site Visit Requests\"></AdminAppointmentWidget>\n\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h4 class=\"title-20 card-title card-title-homepage d-inline-block\">New Clients</h4>\n            <router-link class=\"btn btn-dark btn-small float-right\" to=\"/clients\">View all</router-link>\n          </div>\n          <div class=\"card-body p-0\">\n            <div class=\"table-responsive table--appointment\">\n              <table class=\"table mb-0 b-0\">\n                <tbody>\n                <tr v-bind:key=\"client.id\" v-for=\"client in clients\">\n                  <td>\n                    <h2 class=\"time-title title-15 pb-2\">{{ client.email }}</h2>\n                  </td>\n                  <td>\n                    <h2 class=\"time-title title-15 pb-2\">{{ client.created | convertTimeSecondToDateTime }}</h2>\n                  </td>\n                </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div id=\"dashboard-right\" class=\"col-4 col-lg-4 col-xl-4\">\n\n        <AdminWigetAppointmentType :header=\"'Consultations'\" :total=\"total_csl\"\n                                   @search=\"onSearchCSL\"/>\n\n        <AdminWigetAppointmentType :header=\"'Site Visits'\" :total=\"total_sv\"\n                                   @search=\"onSearchSV\"/>\n\n        <AdminWigetAppointmentType :header=\"'Revenues'\" :total=\"total_rv\"\n                                   @search=\"onSearchRevenue\"/>\n\n        <div class=\"card\">\n          <div class=\"p-3\">\n            <div class=\"d-flex justify-content-between mb-4\">\n              <span class=\"title-20\">Top Clinics</span>\n              <select @change=\"onTopClinics\" v-model=\"top_clinic_filter.type\" class=\"form-control form-control-sm\" style=\"width: 150px;\">\n                <option value=\"1\">Ratings</option>\n                <option value=\"2\">Revenures</option>\n              </select>\n            </div>\n            <div v-for=\"(clinic) in top_clinics\" :key=\"clinic.id\">\n              <div class=\"d-flex justify-content-between my-2 align-items-center\"\n                   style=\"border-bottom: 0.2px solid #979797;\">\n                <div class=\"row mx-0\">\n                  <div class=\"mr-1 mb-2\" style=\"width: 72px; height: 40px; background: #C4C4C4;\">\n                  </div>\n                  <div>\n                    <span class=\"title-15 d-block\">{{ clinic.name }}</span>\n                    <span class=\"desc-11\" style=\"color: #898989;\">{{ clinic.address.full_address }}</span>\n                  </div>\n                </div>\n                <div>\n                  <span class=\"font-weight-500\">${{ clinic.total }}</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"text-center\">\n              <router-link to=\"/clinics\" class=\"btn btn-text\" style=\"color: #898989;\">\n                View all Clinics\n              </router-link>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import rf from \"../../api/RequestFactory\"\n  import AdminAppointmentWidget from '../../components/AdminAppointmentWidget'\n  import DatePicker from 'vue2-datepicker'\n  import {mapGetters} from \"vuex\"\n  import AdminWigetAppointmentType from '../../components/AdminWigetAppointmentType'\n\n  export default {\n    name: \"AdminDashboard\",\n    components: {\n      AdminAppointmentWidget, DatePicker, AdminWigetAppointmentType\n    },\n    data() {\n      return {\n        totals: {\n          clients: 0,\n          doctors: 0,\n          clinics: 0,\n          revenues: 0\n        },\n        appts_24h: [],\n        appts_7d: [],\n        appts_cr: [],\n        appts_ct: [],\n        appts_sv: [],\n        clients: [],\n        search_rv: {\n          from: null,\n          to: null\n        },\n        total_csl: 0,\n        total_sv: 0,\n        total_rv: 0,\n        top_clinic_filter: {\n          type: 1,\n          limit: 5\n        },\n        top_clinics: []\n      }\n    },\n    computed: {},\n    mounted() {\n      let self = this\n\n      self.$store.dispatch('getCountries')\n      self.$store.dispatch('getAppointmentMetas')\n\n      rf.getRequest('AdminRequest').getDashboardTotals().then(res => {\n        self.totals = res.data\n      })\n\n      self.get24Hours()\n      self.get7Days()\n      self.getCRs()\n      self.getConsulationTypes()\n      self.getSiteVisits()\n      self.getClients()\n      self.onTopClinics()\n    },\n    methods: {\n      onSearchCSL(search_csl) {\n        let self = this\n        let params = {}\n        params = search_csl\n        params.from = params.from ? params.from / 1000 : null\n        params.to = params.to ? params.to / 1000 : null\n        params.type_ids = [1]\n\n        rf.getRequest('AdminRequest').getAppointments(params).then(res => {\n          self.total_csl = res.data.total\n        })\n      },\n      onSearchSV(search_sv) {\n        let self = this\n        let params = {}\n        params = search_sv\n        params.from = params.from ? params.from / 1000 : null\n        params.to = params.to ? params.to / 1000 : null\n        params.type_ids = [2]\n\n        rf.getRequest('AdminRequest').getAppointments(params).then(res => {\n          self.total_sv = res.data.total\n        })\n      },\n      onSearchRevenue(search_rv) {\n        let self = this\n        let params = {}\n        params = search_rv\n        params.from = params.from ? params.from / 1000 : null\n        params.to = params.to ? params.to / 1000 : null\n\n        rf.getRequest('AdminRequest').getAppointmentTotal(params).then(res => {\n          self.total_rv = res.data.total\n        })\n      },\n      getClients() {\n        let self = this\n        let params = {\n          limit: 3,\n          sort_created: 'desc'\n        }\n\n        rf.getRequest('AdminRequest').getClients(params).then(res => {\n          self.clients = res.data.datas\n        })\n      },\n      get24Hours() {\n        let self = this\n        let params = {\n          limit: 3,\n          type: '24h',\n          sort_created: 'desc'\n        }\n\n        rf.getRequest('AdminRequest').getAppointments(params).then((res) => {\n          self.appts_24h = res.data.datas\n        })\n      },\n      get7Days() {\n        let self = this\n        let params = {\n          limit: 3,\n          type: '7d',\n          sort_created: 'desc'\n        }\n\n        rf.getRequest('AdminRequest').getAppointments(params).then((res) => {\n          self.appts_7d = res.data.datas\n        })\n      },\n      getConsulationTypes() {\n        let self = this\n\n        let params = {\n          limit: 3,\n          type_ids: [1],\n          sort_created: 'desc'\n        }\n\n        rf.getRequest('AdminRequest').getAppointments(params).then((res) => {\n          self.appts_ct = res.data.datas\n        })\n      },\n      getSiteVisits() {\n        let self = this\n\n        let params = {\n          limit: 3,\n          type_ids: [2],\n          sort_created: 'desc'\n        }\n\n        rf.getRequest('AdminRequest').getAppointments(params).then((res) => {\n          self.appts_sv = res.data.datas\n        })\n      },\n      getCRs() {\n        let self = this\n        let params = {\n          limit: 3,\n          sort_created: 'desc'\n        }\n\n        rf.getRequest('AdminRequest').getAppointmentsCR(params).then((res) => {\n          self.appts_cr = res.data.datas\n        })\n      },\n      onTopClinics() {\n        let self = this\n        let params = self.top_clinic_filter\n\n        rf.getRequest('AdminRequest').getAppointmentsTop(params).then((res) => {\n          self.top_clinics = res.data\n          console.log(self.top_clinics)\n        })\n      }\n    }\n  }\n</script>\n\n\n"]}]}