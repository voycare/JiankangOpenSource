{"remainingRequest":"/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider.voycare.com/src/views/clinics/Dashboard.vue?vue&type=style&index=0&id=7a3caa4d&scoped=true&lang=css&","dependencies":[{"path":"/var/www/provider.voycare.com/src/views/clinics/Dashboard.vue","mtime":1597675207443},{"path":"/var/www/provider.voycare.com/node_modules/css-loader/dist/cjs.js","mtime":1596630687928},{"path":"/var/www/provider.voycare.com/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1596630687835},{"path":"/var/www/provider.voycare.com/node_modules/postcss-loader/src/index.js","mtime":1596630674284},{"path":"/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js","mtime":1596630677130},{"path":"/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js","mtime":1596630687836}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNhcmQtdGl0bGUtaG9tZXBhZ2UgewogICAgY29sb3I6ICNFQjYyNzEgIWltcG9ydGFudDsKfQoudGl0bGUtMTUgewogICAgZm9udC13ZWlnaHQ6IDUwMCAhaW1wb3J0YW50Owp9Ci5zaXplLTExewogIGZvbnQtc2l6ZToxMXB4OwogIGNvbG9yOiM4OTg5ODk7Cn0K"},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/views/clinics","sourcesContent":["<template>\n  <div class=\"content\">\n    <div class=\"row\">\n      <div class=\"col-md-6 col-sm-6 col-lg-6 col-xl-3\">\n        <div class=\"dash-widget\">\n          <span class=\"dash-widget-bg2\"><i class=\"fa fa-user-o\"></i></span>\n          <div class=\"dash-widget-info text-right\">\n            <h3>{{ totals.clients }}</h3>\n            <span class=\"widget-title2\">Clients <i aria-hidden=\"true\"\n                                                   class=\"fa fa-check\"></i></span>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-6 col-sm-6 col-lg-6 col-xl-3\">\n        <div class=\"dash-widget\">\n          <span class=\"dash-widget-bg4\"><i aria-hidden=\"true\" class=\"fa fa-heartbeat\"></i></span>\n          <div class=\"dash-widget-info text-right\">\n            <h3>{{ totals.ratings }}</h3>\n            <span class=\"widget-title4\">Rating <i aria-hidden=\"true\"\n                                                  class=\"fa fa-check\"></i></span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-8 col-md-8\">\n        <!-- <ClinicAppointmentWidget to=\"/appointments?status_ids[]=1\" :appts=\"appts_7d\"\n                                 title=\"7 - Day\"></ClinicAppointmentWidget>\n\n        <ClinicAppointmentWidget to=\"/appointments?type_ids=1\" :appts=\"appts_ct\"\n                                 title=\"New Consulations\"></ClinicAppointmentWidget>\n\n        <ClinicAppointmentWidget to=\"/appointments?type_ids[]=2\" :appts=\"appts_sv\"\n                                 title=\"New Site Visit Requests\"></ClinicAppointmentWidget> -->\n\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <div>\n            <h4 class=\"title-20 card-title card-title-homepage d-inline-block\">7 - Day</h4>\n            <p class=\"title-15\">Confirmed appointments only</p>\n            </div>\n            <button class=\"btn btn-dark btn-small float-right\">View all</button>\n          </div>\n          <div class=\"card-body p-0\">\n            <div class=\"table-responsive table--appointment\">\n              <table class=\"table mb-0 b-0\">\n                <tbody>\n                <tr>\n                  <td>\n                    <img src=\"/assets/img/user-pic.png\" alt=\"user picture\">\n                  </td>\n                  <td>\n                    <h2 class=\"time-title title-15\">Name</h2>\n                    <p class=\"size-11\">Shan Zhang</p>\n                  </td>\n                  <td>\n                    <h2 class=\"time-title title-15\">Location</h2>\n                    <p class=\"size-11\">China</p>\n                  </td>\n                  <td>\n                    <h2 class=\"time-title title-15\">Treatment</h2>\n                    <p class=\"size-11\">IVF</p>\n                  </td>\n                  <td>\n                    <h2 class=\"time-title title-15\">Appt. Date</h2>\n                    <p class=\"size-11\">2020-06-01</p>\n                  </td>\n                  <td>\n                    <h2 class=\"time-title title-15\">Appt. Time</h2>\n                    <p class=\"size-11\">10:30</p>\n                  </td>\n                  <td>\n                    <p class=\"alert appt--status alert-info\">Confirmed</p>\n                  </td>\n                </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h4 class=\"title-20 card-title card-title-homepage d-inline-block\">Reviews</h4>\n            <router-link class=\"btn btn-dark btn-small float-right\" to=\"/reviews\">View all</router-link>\n          </div>\n          <div class=\"card-body p-0\">\n            <div class=\"table-responsive table--appointment\">\n              <table class=\"table mb-0 b-0\">\n                <tbody>\n                <tr v-bind:key=\"review.id\" v-for=\"review in reviews\">\n                  <td>\n                    <h2 class=\"time-title title-15 pb-2\">{{ review.client.name }}</h2>\n                  </td>\n                  <td>\n                    <h2 class=\"time-title title-15 pb-2\">{{ review.client.address.country }}</h2>\n                  </td>\n                  <td>{{ review.star }}</td>\n                </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-4 col-lg-4 col-xl-4\">\n        <div class=\"card\">\n          <div class=\"card-body\">\n            Consulations\n\n            <div class=\"row\">\n              <div class=\"col-sm-6\">\n                <div class=\"form-group\">\n                  <input type=\"date\" class=\"form-control\" v-model=\"search_csl.from\" placeholder=\"From\">\n                </div>\n              </div>\n              <div class=\"col-sm-6\">\n                <div class=\"form-group\">\n                  <input type=\"date\" class=\"form-control\" v-model=\"search_csl.to\" placeholder=\"To\">\n                </div>\n              </div>\n            </div>\n\n            <div class=\"form-group text-center\">\n              <button class=\"btn btn-pink\" @click=\"onSearchCSL\">Search</button>\n            </div>\n            <div class=\"form-group text-center\">\n              <span class=\"mr-3\">Total:</span><span>{{ total_csl }}</span>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <div class=\"row\">\n              <div class=\"col-sm-6\">\n                <div class=\"form-group\">\n                  <input type=\"date\" class=\"form-control\" v-model=\"search_sv.from\" placeholder=\"From\">\n                </div>\n              </div>\n              <div class=\"col-sm-6\">\n                <div class=\"form-group\">\n                  <input type=\"date\" class=\"form-control\" v-model=\"search_sv.to\" placeholder=\"To\">\n                </div>\n              </div>\n            </div>\n\n            <div class=\"form-group text-center\">\n              <button class=\"btn btn-pink\" @click=\"onSearchSV\">Search</button>\n            </div>\n            <div class=\"form-group text-center\">\n              <span class=\"mr-3\">Total:</span><span>{{ total_sv }}</span>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <div class=\"row\">\n              <div class=\"col-sm-6\">\n                <div class=\"form-group\">\n                  <input type=\"date\" class=\"form-control\" v-model=\"search_rv.from\" placeholder=\"From\">\n                </div>\n              </div>\n              <div class=\"col-sm-6\">\n                <div class=\"form-group\">\n                  <input type=\"date\" class=\"form-control\" v-model=\"search_rv.to\" placeholder=\"To\">\n                </div>\n              </div>\n            </div>\n            <div class=\"form-group text-center\">\n              <button class=\"btn btn-pink\" @click=\"onSearchRevenue\">Search</button>\n            </div>\n            <div class=\"form-group text-center\">\n              <span class=\"mr-3\">Total:</span><span>{{ total_rv }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import rf from \"../../api/RequestFactory\"\n  import ClinicAppointmentWidget from \"../../components/ClinicAppointmentWidget\"\n\n  export default {\n    name: \"AdminDashboard\",\n    components: {\n      ClinicAppointmentWidget\n    },\n    data() {\n      return {\n        totals: {\n          clients: 0,\n          doctors: 0,\n          clinics: 0,\n          revenues: 0\n        },\n        appts_7d: [],\n        appts_ct: [],\n        appts_sv: [],\n        clients: [],\n        reviews: [],\n        search_csl: {\n          from: null,\n          to: null\n        },\n        search_sv: {\n          from: null,\n          to: null\n        },\n        search_rv: {\n          from: null,\n          to: null\n        },\n        total_csl: 0,\n        total_sv: 0,\n        total_rv: 0,\n      }\n    },\n    mounted() {\n      let self = this\n\n      self.$store.dispatch('getAppointmentMetas')\n\n      rf.getRequest('ClinicRequest').getDashboardTotals().then(res => {\n        self.totals = res.data\n      })\n\n      self.get7Days()\n      self.getConsulationTypes()\n      self.getSiteVisits()\n    },\n    methods: {\n      onSearchCSL() {\n        let self = this\n        let params = {}\n        params.from = (new Date(self.search_csl.from)).getTime() / 1000\n        params.to = (new Date(self.search_csl.to)).getTime() / 1000\n        params.type_ids = [1]\n\n        rf.getRequest('ClinicRequest').getAppointments(params).then(res => {\n          self.total_csl = res.data.total\n        })\n      },\n      onSearchSV() {\n        let self = this\n        let params = {}\n        params.from = (new Date(self.search_sv.from)).getTime() / 1000\n        params.to = (new Date(self.search_sv.to)).getTime() / 1000\n        params.type_ids = [2]\n\n        rf.getRequest('ClinicRequest').getAppointments(params).then(res => {\n          self.total_sv = res.data.total\n        })\n      },\n      onSearchRevenue() {\n        let self = this\n        let params = {}\n        params.from = (new Date(self.search_rv.from)).getTime() / 1000\n        params.to = (new Date(self.search_rv.to)).getTime() / 1000\n\n        rf.getRequest('ClinicRequest').getAppointmentTotal(params).then(res => {\n          self.total_rv = res.data.total\n        })\n      },\n      getReviews() {\n        let self = this\n        let params = {\n          limit: 3,\n        }\n\n        rf.getRequest('ClinicRequest').getReviews(params).then((res) => {\n          self.reviews = res.data.datas\n        })\n      },\n      get7Days() {\n        let self = this\n        let params = {\n          limit: 3,\n          type: '7d',\n          sort_created: 'desc',\n          status_ids: [1]\n        }\n\n        rf.getRequest('ClinicRequest').getAppointments(params).then((res) => {\n          self.appts_7d = res.data.datas\n        })\n      },\n      getConsulationTypes() {\n        let self = this\n\n        let params = {\n          limit: 3,\n          type_ids: [1],\n          sort_created: 'desc'\n        }\n\n        rf.getRequest('ClinicRequest').getAppointments(params).then((res) => {\n          self.appts_ct = res.data.datas\n        })\n      },\n      getSiteVisits() {\n        let self = this\n\n        let params = {\n          limit: 3,\n          type_ids: [2],\n          sort_created: 'desc'\n        }\n\n        rf.getRequest('ClinicRequest').getAppointments(params).then((res) => {\n          self.appts_sv = res.data.datas\n        })\n      }\n    }\n  }\n</script>\n<style scoped>\n  .card-title-homepage {\n      color: #EB6271 !important;\n  }\n  .title-15 {\n      font-weight: 500 !important;\n  }\n  .size-11{\n    font-size:11px;\n    color:#898989;\n  }\n</style>\n"]}]}