{"remainingRequest":"/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider.voycare.com/src/views/clinics/StatementDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider.voycare.com/src/views/clinics/StatementDetail.vue","mtime":1596754101770},{"path":"/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js","mtime":1596630677130},{"path":"/var/www/provider.voycare.com/node_modules/thread-loader/dist/cjs.js","mtime":1596630678838},{"path":"/var/www/provider.voycare.com/node_modules/babel-loader/lib/index.js","mtime":1596630688999},{"path":"/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js","mtime":1596630677130},{"path":"/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js","mtime":1596630687836}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBodG1sMmNhbnZhcyBmcm9tICdodG1sMmNhbnZhcycKLy8gaW1wb3J0IGpzUERGIGZyb20gJ2pzcGRmJwppbXBvcnQgcHJpbnRKUyBmcm9tICdwcmludC1qcycKaW1wb3J0IHJmIGZyb20gIi4uLy4uL2FwaS9SZXF1ZXN0RmFjdG9yeSI7CmltcG9ydCBDb25zdCBmcm9tICIuLy4uLy4uL3V0aWxzL2NvbnN0IgoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcmludEpTLAogICAgICBDb25zdCwKICAgICAgc3RhdGVtZW50OiBudWxsCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgbGV0IHNlbGYgPSB0aGlzCiAgICBsZXQgaWQgPSBwYXJzZUludCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpCgogICAgcmYuZ2V0UmVxdWVzdCgnQ2xpbmljUmVxdWVzdCcpLmdldFN0YXRlbWVudERldGFpbChpZCkudGhlbigocmVzKSA9PiB7CiAgICAgIHNlbGYuc3RhdGVtZW50ID0gcmVzLmRhdGE7CiAgICB9KQogIH0sCiAgbWV0aG9kczogewogICAgb25Eb3dubG9hZFBERigpIHsKICAgICAgLy8gbGV0IHNlbGYgPSB0aGlzCiAgICAgIC8vCiAgICAgIC8vIGh0bWwyY2FudmFzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNwYXltZW50X19mb3JtIikpLnRoZW4oY2FudmFzID0+IHsKICAgICAgLy8gICBsZXQgcGRmID0gc2VsZi5nZXRQREYoY2FudmFzKQogICAgICAvLyAgIHBkZi5zYXZlKCJpbnZvaWNlLnBkZiIpOwogICAgICAvLyB9KTsKICAgIH0sCiAgICBvblByaW50SlMoKSB7CiAgICAgIGxldCBzZWxmID0gdGhpcwoKICAgICAgLy8gaHRtbDJjYW52YXMoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3BheW1lbnRfX2Zvcm0iKSkudGhlbihjYW52YXMgPT4gewogICAgICAvLyAgIHZhciBpbWdEYXRhID0gY2FudmFzLnRvRGF0YVVSTCgiaW1hZ2UvanBlZyIsIDEpOwogICAgICAvLyAgIC8vIHdpbmRvdy5vcGVuKHBkZi5vdXRwdXQoJ2Jsb2J1cmwnKSwgJ19ibGFuaycpOwogICAgICAvLyAgIHByaW50SlMoewogICAgICAvLyAgICAgcHJpbnRhYmxlOiBpbWdEYXRhLAogICAgICAvLyAgICAgdHlwZTogJ2ltYWdlJwogICAgICAvLyAgIH0pCiAgICAgIC8vIH0pOwogICAgfSwKICAgIGdldFBERihjYW52YXMpIHsKICAgICAgLy8gbGV0IHNlbGYgPSB0aGlzCiAgICAgIC8vIHZhciBpbWdEYXRhID0gY2FudmFzLnRvRGF0YVVSTCgiaW1hZ2UvanBlZyIsIDEpOwogICAgICAvLyB2YXIgcGRmID0gbmV3IGpzUERGKCJwIiwgIm1tIiwgImE0Iik7CiAgICAgIC8vIHZhciBwYWdlV2lkdGggPSBwZGYuaW50ZXJuYWwucGFnZVNpemUuZ2V0V2lkdGgoKTsKICAgICAgLy8gdmFyIHBhZ2VIZWlnaHQgPSBwZGYuaW50ZXJuYWwucGFnZVNpemUuZ2V0SGVpZ2h0KCk7CiAgICAgIC8vIHZhciBpbWFnZVdpZHRoID0gY2FudmFzLndpZHRoOwogICAgICAvLyB2YXIgaW1hZ2VIZWlnaHQgPSBjYW52YXMuaGVpZ2h0OwogICAgICAvLwogICAgICAvLyB2YXIgcmF0aW8gPSBpbWFnZVdpZHRoIC8gaW1hZ2VIZWlnaHQgPj0gcGFnZVdpZHRoIC8gcGFnZUhlaWdodCA/IHBhZ2VXaWR0aCAvIGltYWdlV2lkdGggOiBwYWdlSGVpZ2h0IC8gaW1hZ2VIZWlnaHQ7CiAgICAgIC8vIHBkZi5hZGRJbWFnZShpbWdEYXRhLCAnSlBFRycsIDAsIDAsIGltYWdlV2lkdGggKiByYXRpbywgaW1hZ2VIZWlnaHQgKiByYXRpbyk7CiAgICAgIC8vCiAgICAgIC8vIHJldHVybiBwZGYKICAgIH0KICB9Cn0K"},{"version":3,"sources":["StatementDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StatementDetail.vue","sourceRoot":"src/views/clinics","sourcesContent":["<template>\n  <div>\n    <div class=\"row\">\n      <div class=\"col-sm-5 col-4\">\n        <router-link to=\"/payments\"><h4 class=\"page-title\"><i class=\"fa fa-arrow-left mr-3\"></i>Back to\n          Statements</h4></router-link>\n      </div>\n      <div class=\"col-sm-7 col-8 text-right m-b-30\">\n        <div class=\"btn-group btn-group-sm\">\n          <button @click=\"onDownloadPDF\" class=\"btn btn-white\">PDF</button>\n          <button @click=\"onPrintJS\" class=\"btn btn-white\"><i class=\"fa fa-print fa-lg\"></i> Print</button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-sm-12\">\n        <div class=\"card\" id=\"payment__form\" v-if=\"payment\">\n          <div class=\"card-body\">\n            <table class=\"table mb-0 border-0 table--payment\">\n              <thead>\n              <tr>\n                <th>Date</th>\n                <th>Item</th>\n                <th>Appointment No.</th>\n                <th>Amount</th>\n              </tr>\n              </thead>\n              <tbody>\n              <tr :key=\"item.id\" v-for=\"item in statement.items\">\n                <td>{{ item.item_date | convertTimeSecondToDate }}</td>\n                <td>{{ item.item_name }}</td>\n                <td>{{ item.appointment_no }}</td>\n                <td>{{ item.amount }}</td>\n              </tr>\n              </tbody>\n            </table>\n\n            <div>\n              <div class=\"row invoice-payment\">\n                <div class=\"col-sm-7\">\n                </div>\n                <div class=\"col-sm-5\">\n                  <div class=\"m-b-20\">\n                    <div class=\"table-responsive no-border\">\n                      <table class=\"table mb-0 payment--total\">\n                        <tbody>\n                        <tr>\n                          <td>Total:</td>\n                          <td class=\"text-right text-primary\">{{ statement.total | formatMoney\n                            }}\n                          </td>\n                        </tr>\n                        </tbody>\n                      </table>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n  // import html2canvas from 'html2canvas'\n  // import jsPDF from 'jspdf'\n  import printJS from 'print-js'\n  import rf from \"../../api/RequestFactory\";\n  import Const from \"./../../utils/const\"\n\n  export default {\n    data() {\n      return {\n        printJS,\n        Const,\n        statement: null\n      }\n    },\n    mounted() {\n      let self = this\n      let id = parseInt(this.$route.params.id)\n\n      rf.getRequest('ClinicRequest').getStatementDetail(id).then((res) => {\n        self.statement = res.data;\n      })\n    },\n    methods: {\n      onDownloadPDF() {\n        // let self = this\n        //\n        // html2canvas(document.querySelector(\"#payment__form\")).then(canvas => {\n        //   let pdf = self.getPDF(canvas)\n        //   pdf.save(\"invoice.pdf\");\n        // });\n      },\n      onPrintJS() {\n        let self = this\n\n        // html2canvas(document.querySelector(\"#payment__form\")).then(canvas => {\n        //   var imgData = canvas.toDataURL(\"image/jpeg\", 1);\n        //   // window.open(pdf.output('bloburl'), '_blank');\n        //   printJS({\n        //     printable: imgData,\n        //     type: 'image'\n        //   })\n        // });\n      },\n      getPDF(canvas) {\n        // let self = this\n        // var imgData = canvas.toDataURL(\"image/jpeg\", 1);\n        // var pdf = new jsPDF(\"p\", \"mm\", \"a4\");\n        // var pageWidth = pdf.internal.pageSize.getWidth();\n        // var pageHeight = pdf.internal.pageSize.getHeight();\n        // var imageWidth = canvas.width;\n        // var imageHeight = canvas.height;\n        //\n        // var ratio = imageWidth / imageHeight >= pageWidth / pageHeight ? pageWidth / imageWidth : pageHeight / imageHeight;\n        // pdf.addImage(imgData, 'JPEG', 0, 0, imageWidth * ratio, imageHeight * ratio);\n        //\n        // return pdf\n      }\n    }\n  }\n</script>\n<style>\n  .table--payment thead {\n    border-top: 1px solid #CBCBCB;\n    border-bottom: 1px solid #CBCBCB;\n    background-color: #E5E5E5\n  }\n\n  .table--payment th {\n    color: #434343;\n    font-weight: 700;\n  }\n\n  .payment--total {\n    font-weight: bold;\n    font-size: 18px;\n    line-height: 27px;\n    background: #E5E5E5;\n    border: 1px solid #434343;\n  }\n\n  .table td, .table th {\n    border-top: 0px;\n  }\n</style>\n"]}]}