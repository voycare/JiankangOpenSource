{"remainingRequest":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider-stg.hera.health/src/views/clients/MyProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider-stg.hera.health/src/views/clients/MyProfile.vue","mtime":1593800348670},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1dGlscyBmcm9tICIuLi8uLi91dGlscy91dGlscyI7CmltcG9ydCBEYXRlUGlja2VyIGZyb20gJ3Z1ZTItZGF0ZXBpY2tlcic7CmltcG9ydCAnLi4vLi4vLi4vcHVibGljL2Fzc2V0cy9jc3MvZGF0ZXBpY2tlci5zY3NzJzsKaW1wb3J0ICd2dWUtdG9hc3Qtbm90aWZpY2F0aW9uL2Rpc3QvdGhlbWUtZGVmYXVsdC5jc3MnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCcKaW1wb3J0IHttYXBHZXR0ZXJzfSBmcm9tICd2dWV4JwppbXBvcnQgVnVlIGZyb20gJ3Z1ZScKaW1wb3J0IHJmIGZyb20gIi4uLy4uL2FwaS9SZXF1ZXN0RmFjdG9yeSI7CmltcG9ydCBBdmF0YXJFZGl0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQXZhdGFyRWRpdCcKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTXlQcm9maWxlIiwKICBjb21wb25lbnRzOiB7CiAgICBEYXRlUGlja2VyLAogICAgQXZhdGFyRWRpdAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWydjb3VudHJpZXMnXSkKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbWdTcmM6ICcnLAogICAgICBpc0VkaXRQcm9maWxlOiBmYWxzZSwKICAgICAgdXNlcjogdXRpbHMuZ2V0TG9jYWxVc2VyKCksCiAgICAgIGJpcnRoZGF5VXNlcjogdGhpcy4kb3B0aW9ucy5maWx0ZXJzLmNvbnZlcnRUaW1lU2Vjb25kVG9EYXRlKHV0aWxzLmdldExvY2FsVXNlcigpLmJpcnRoZGF5KSwKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICBsZXQgc2VsZiA9IHRoaXMKCiAgICBzZWxmLiRzdG9yZS5kaXNwYXRjaCgnZ2V0Q291bnRyaWVzJyk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNoYW5nZUF2YXRhcihpbWdTcmMpIHsKICAgICAgdGhpcy5pbWdTcmMgPSBpbWdTcmMKICAgIH0sCiAgICBmb3JtYXREYXRlKGRhdGUpIHsKICAgICAgcmV0dXJuIGRhdGUgPyBtb21lbnQoZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREJykgOiAnJwogICAgfSwKICAgIGVkaXRQcm9maWxlKCkgewogICAgICB0aGlzLmlzRWRpdFByb2ZpbGUgPSB0cnVlOwogICAgfSwKICAgIGJhY2tNeVByb2ZpbGUoKSB7CiAgICAgIHRoaXMudXNlciA9IHV0aWxzLmdldExvY2FsVXNlcigpOwogICAgICB0aGlzLmlzRWRpdFByb2ZpbGUgPSBmYWxzZTsKICAgIH0sCiAgICBzYXZlRWRpdFByb2ZpbGUoKSB7CiAgICAgIGlmICghdGhpcy51c2VyLmZpcnN0X25hbWUpIHsKICAgICAgICBWdWUuJHRvYXN0Lm9wZW4oewogICAgICAgICAgbWVzc2FnZTogJ0ZpcnN0IE5hbWUgaXMgcmVxdWlyZWQnLAogICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBmaXJzdF9uYW1lOiB0aGlzLnVzZXIuZmlyc3RfbmFtZSwKICAgICAgICBsYXN0X25hbWU6IHRoaXMudXNlci5sYXN0X25hbWUsCiAgICAgICAgYXZhdGFyOiB0aGlzLmltZ1NyYywKICAgICAgICBnZW5kZXI6IHRoaXMudXNlci5nZW5kZXIsCiAgICAgICAgcGhvbmU6IHRoaXMudXNlci5waG9uZSwKICAgICAgICBjb3VudHJ5OiB0aGlzLnVzZXIuYWRkcmVzcy5jb3VudHJ5LAogICAgICAgIGNpdHk6IHRoaXMudXNlci5hZGRyZXNzLmNpdHksCiAgICAgICAgYmlydGhkYXk6IG5ldyBEYXRlKHRoaXMuYmlydGhkYXlVc2VyKS5nZXRUaW1lKCkgLyAxMDAwCiAgICAgIH0KCiAgICAgIHJmLmdldFJlcXVlc3QoJ1VzZXJSZXF1ZXN0JykuZWRpdFByb2ZpbGUocGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgbGV0IHVzZXJFZGl0ID0gcmVzLmRhdGE7CiAgICAgICAgdXNlckVkaXQudG9rZW4gPSB0aGlzLnVzZXIudG9rZW47CiAgICAgICAgdGhpcy51c2VyID0gdXNlckVkaXQ7CiAgICAgICAgdXRpbHMuc2V0TG9jYWxVc2VyKHVzZXJFZGl0KQogICAgICAgIHRoaXMuaXNFZGl0UHJvZmlsZSA9IGZhbHNlCiAgICAgIH0pOwogICAgfQogIH0sCn0K"},{"version":3,"sources":["MyProfile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyProfile.vue","sourceRoot":"src/views/clients","sourcesContent":["<template>\n    <div class=\"content\">\n        <div class=\"profile\" v-if=\"!isEditProfile\">\n            <div class=\"header-profile\">\n                <span class=\"title\">My Profile</span>\n                <span @click=\"editProfile\" class=\"btn-edit\"><img src=\"/assets/img/icon_pen.png\">Edit Profile</span>\n            </div>\n            <div class=\"content-profile\">\n                <div class=\"content-1\">\n                    <div class=\"name-content\">\n                        <img :src=\"VUE_APP_BASE_URL + user.avatar\" v-if=\"user.avatar\">\n                        <img class=\"no-avatar\" v-else>\n                        <div class=\"name-user\">\n                            <span class=\"full-name\">{{user.first_name + ' ' + user.last_name}}</span><img\n                                src=\"/assets/img/flag_american.png\">\n                            <p class=\"id-user\">Hera ID: {{user.id |convertID}}</p>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"content-2\">\n                    <div class=\"infor-user\">\n                        <div class=\"infor\">\n                            <p class=\"title\">Phone:</p>\n                            <p>{{user.phone | phoneNumber}}</p>\n                        </div>\n                        <div class=\"infor\">\n                            <p class=\"title\">Email:</p>\n                            <p>{{user.email}}</p>\n                        </div>\n                        <div class=\"infor\">\n                            <p class=\"title\">Date of Birth:</p>\n                            <p>{{user.birthday|convertTimeSecondToDate}}</p>\n                        </div>\n                        <div class=\"infor\">\n                            <p class=\"title\">Gender:</p>\n                            <p>{{user.gender|convertGender}}</p>\n                        </div>\n                        <div class=\"infor\">\n                            <p class=\"title\">Country:</p>\n                            <p>{{user.country}}</p>\n                        </div>\n                        <div class=\"infor\"><p class=\"title\">Address:</p>\n                            <p>{{user.address.full_address}}</p></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"edit-profile\" v-else>\n            <img @click=\"backMyProfile\" src=\"/assets/img/icon_back.png\"> <span class=\"back\">Back to My Profile</span>\n            <p class=\"title-edit\">Edit Profile</p>\n            <div class=\"basic-infor\">\n                <p class=\"title-basic\">Basic Information</p>\n                <div class=\"content-basic-infor\">\n\n                    <AvatarEdit :user=\"user\" @onChangeAvatar=\"onChangeAvatar\"></AvatarEdit>\n\n                    <div class=\"content-infor\">\n                        <div class=\"content-1\">\n                            <span>First Name</span><br>\n                            <input type=\"text\" v-model=\"user.first_name\"><br>\n                            <span>Date of Birth</span><br>\n                            <date-picker class=\"date-picker\" v-model=\"birthdayUser\"></date-picker>\n                        </div>\n                        <div class=\"content-2\">\n                            <span>Last Name</span><br>\n                            <input type=\"text\" v-model=\"user.last_name\"><br>\n                            <span>Gender</span>\n                            <select v-model=\"user.gender\">\n                                <option value=\"0\">Male</option>\n                                <option value=\"1\">Female</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"contact-infor\">\n                <p class=\"title-contact\">Contact Information</p>\n                <div class=\"mail-phone\">\n                    <div class=\"mail\">\n                        <span>Email</span><br>\n                        <input disabled type=\"text\" v-model=\"user.email\">\n                    </div>\n                    <div class=\"phone\">\n                        <span>Phone</span><br>\n                        <input type=\"text\" v-model=\"user.phone\">\n                    </div>\n                </div>\n                <div class=\"address-infor\">\n                    <div class=\"country-infor\">\n                        <span>Country</span>\n                        <select v-model=\"user.address.country\">\n                            <option disabled hidden value=\"\">Select Country</option>\n                            <option :key=\"item.id\" :value=\"item.name\" v-for=\"item in countries\">{{item.name}}</option>\n                        </select>\n                    </div>\n                    <div class=\"city-infor\">\n                        <span>City</span>\n                        <input type=\"text\" v-model=\"user.city\">\n                    </div>\n                </div>\n            </div>\n            <div class=\"save\">\n                <button @click=\"saveEditProfile\">SAVE</button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n  import utils from \"../../utils/utils\";\n  import DatePicker from 'vue2-datepicker';\n  import '../../../public/assets/css/datepicker.scss';\n  import 'vue-toast-notification/dist/theme-default.css';\n  import moment from 'moment'\n  import {mapGetters} from 'vuex'\n  import Vue from 'vue'\n  import rf from \"../../api/RequestFactory\";\n  import AvatarEdit from '../../components/AvatarEdit'\n\n  export default {\n    name: \"MyProfile\",\n    components: {\n      DatePicker,\n      AvatarEdit\n    },\n    computed: {\n      ...mapGetters(['countries'])\n    },\n    data() {\n      return {\n        imgSrc: '',\n        isEditProfile: false,\n        user: utils.getLocalUser(),\n        birthdayUser: this.$options.filters.convertTimeSecondToDate(utils.getLocalUser().birthday),\n      }\n    },\n    mounted() {\n      let self = this\n\n      self.$store.dispatch('getCountries');\n    },\n    methods: {\n      onChangeAvatar(imgSrc) {\n        this.imgSrc = imgSrc\n      },\n      formatDate(date) {\n        return date ? moment(date).format('YYYY-MM-DD') : ''\n      },\n      editProfile() {\n        this.isEditProfile = true;\n      },\n      backMyProfile() {\n        this.user = utils.getLocalUser();\n        this.isEditProfile = false;\n      },\n      saveEditProfile() {\n        if (!this.user.first_name) {\n          Vue.$toast.open({\n            message: 'First Name is required',\n            type: 'error',\n          });\n          return;\n        }\n        let params = {\n          first_name: this.user.first_name,\n          last_name: this.user.last_name,\n          avatar: this.imgSrc,\n          gender: this.user.gender,\n          phone: this.user.phone,\n          country: this.user.address.country,\n          city: this.user.address.city,\n          birthday: new Date(this.birthdayUser).getTime() / 1000\n        }\n\n        rf.getRequest('UserRequest').editProfile(params).then(res => {\n          let userEdit = res.data;\n          userEdit.token = this.user.token;\n          this.user = userEdit;\n          utils.setLocalUser(userEdit)\n          this.isEditProfile = false\n        });\n      }\n    },\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n    .content {\n        padding: 0px 30px;\n\n        .edit-profile {\n            padding-top: 10px;\n\n            .back {\n                font-family: Poppins;\n                font-style: normal;\n                font-weight: normal;\n                font-size: 18px;\n                line-height: 27px;\n                color: #020544;\n                margin-left: 4px;\n            }\n\n            .title-edit {\n                font-family: Poppins;\n                font-style: normal;\n                font-weight: 500;\n                font-size: 22px;\n                line-height: 33px;\n                margin-top: 30px;\n                margin-left: 15px;\n                margin-bottom: 15px;\n                color: #020644;\n            }\n\n            .basic-infor {\n                margin-left: 15px;\n                min-height: 300px;\n                background-color: white;\n                border-radius: 5px;\n                padding: 20px 20px;\n\n                .title-basic {\n                    font-family: Poppins;\n                    font-style: normal;\n                    font-weight: 500;\n                    font-size: 18px;\n                    line-height: 27px;\n                    color: #434343;\n                }\n\n                .content-basic-infor {\n                    display: flex;\n                    padding-top: 15px;\n\n                    .no-avatar {\n                        background: #C4C4C4;\n                    }\n\n                    .content-infor {\n                        width: 85.5%;\n                        display: flex;\n\n                        input {\n                            width: 100%;\n                            height: 40px;\n                            background: #FFFFFF;\n                            border: 0.5px solid #979797;\n                            box-sizing: border-box;\n                            font-family: Poppins;\n                            font-style: normal;\n                            font-weight: normal;\n                            font-size: 15px;\n                            line-height: 22px;\n                            padding-left: 15px;\n                            color: #EB6271;\n                            margin-top: 10px;\n                            margin-bottom: 25px;\n                        }\n\n                        span {\n                            font-family: Poppins;\n                            font-style: normal;\n                            font-weight: 500;\n                            font-size: 15px;\n                            line-height: 22px;\n                            color: #434343;\n                        }\n\n                        .content-1 {\n                            margin-left: 40px;\n                            margin-right: 20px;\n                            width: 50%;\n\n                            .date-picker {\n                                width: 100%;\n                                margin-top: 10px;\n\n                                input.mx-input {\n                                    border: 0.5px solid #979797;\n                                    box-sizing: border-box;\n                                    font-family: Poppins;\n                                    font-style: normal;\n                                    font-weight: normal;\n                                    font-size: 15px;\n                                    line-height: 22px;\n                                    padding-left: 15px;\n                                    color: #EB6271;\n                                }\n                            }\n\n                        }\n\n                        .content-2 {\n                            width: 50%;\n\n                            select {\n                                width: 100%;\n                                height: 40px;\n                                background: #FFFFFF;\n                                border: 0.5px solid #979797;\n                                box-sizing: border-box;\n                                font-family: Poppins;\n                                font-style: normal;\n                                font-weight: normal;\n                                font-size: 15px;\n                                line-height: 22px;\n                                color: #EB6271;\n                                margin-top: 10px;\n                                padding-left: 15px;\n                            }\n                        }\n                    }\n\n\n                }\n            }\n\n            .contact-infor {\n                margin-left: 15px;\n                min-height: 300px;\n                margin-top: 25px;\n                margin-bottom: 60px;\n                background-color: white;\n                border-radius: 5px;\n                padding: 20px 20px;\n\n                .title-contact {\n                    font-family: Poppins;\n                    font-style: normal;\n                    font-weight: 500;\n                    font-size: 18px;\n                    line-height: 27px;\n                    color: #434343;\n                }\n\n                .mail-phone {\n                    padding-top: 5px;\n                    display: flex;\n\n                    input {\n                        width: 100%;\n                        height: 40px;\n                        background: #FFFFFF;\n                        border: 0.5px solid #979797;\n                        box-sizing: border-box;\n                        font-family: Poppins;\n                        font-style: normal;\n                        font-weight: normal;\n                        font-size: 15px;\n                        line-height: 22px;\n                        padding-left: 15px;\n                        color: #EB6271;\n                        margin-top: 10px;\n                        margin-bottom: 25px;\n                    }\n\n                    span {\n                        font-family: Poppins;\n                        font-style: normal;\n                        font-weight: 500;\n                        font-size: 15px;\n                        line-height: 22px;\n                        color: #434343;\n                    }\n\n                    .mail {\n                        width: 50%;\n                        margin-right: 40px;\n                    }\n\n                    .phone {\n                        width: 50%;\n                    }\n                }\n\n                .address-infor {\n                    display: flex;;\n\n                    span {\n                        font-family: Poppins;\n                        font-style: normal;\n                        font-weight: 500;\n                        font-size: 15px;\n                        line-height: 22px;\n                        color: #434343;\n                    }\n\n                    input {\n                        width: 100%;\n                        height: 40px;\n                        background: #FFFFFF;\n                        border: 0.5px solid #979797;\n                        box-sizing: border-box;\n                        font-family: Poppins;\n                        font-style: normal;\n                        font-weight: normal;\n                        font-size: 15px;\n                        line-height: 22px;\n                        padding-left: 15px;\n                        color: #EB6271;\n                        margin-top: 10px;\n                    }\n\n                    .country-infor {\n                        width: 50%;\n                        margin-right: 40px;\n\n                        select {\n                            width: 100%;\n                            height: 40px;\n                            background: #FFFFFF;\n                            border: 0.5px solid #979797;\n                            box-sizing: border-box;\n                            font-family: Poppins;\n                            font-style: normal;\n                            font-weight: normal;\n                            font-size: 15px;\n                            line-height: 22px;\n                            color: #EB6271;\n                            margin-top: 10px;\n                            padding-left: 15px;\n                        }\n                    }\n\n                    .city-infor {\n                        width: 50%;\n                    }\n                }\n\n            }\n\n            .save {\n                text-align: center;\n                margin-bottom: 100px;\n\n                button {\n                    width: 253px;\n                    height: 45px;\n                    border: none;\n                    cursor: pointer;\n                    background: #EB6271;\n                    border-radius: 50px;\n                    font-family: Poppins;\n                    font-style: normal;\n                    font-weight: 500;\n                    font-size: 18px;\n                    color: #FFFFFF;\n                }\n            }\n        }\n\n        .profile {\n            padding: 30px 0px;\n\n            .content-profile {\n                width: 100%;\n                height: 100%;\n                margin-top: 35px;\n                display: flex;\n\n                .content-1 {\n                    width: 33.3%;\n                    margin-right: 20px;\n\n                    .name-content {\n                        min-height: 210px;\n                        background-color: white;\n                        padding-left: 20px;\n                        padding-top: 30px;\n                        display: flex;\n                        border-radius: 5px;\n\n                        img {\n                            width: 140px;\n                            height: 140px;\n                            border-radius: 70px;\n                        }\n\n                        .no-avatar {\n                            background: #C4C4C4;\n                        }\n\n                        .name-user {\n                            margin-top: 40px;\n                            margin-left: 20px;\n\n                            .id-user {\n                                font-family: Poppins;\n                                font-style: normal;\n                                font-weight: normal;\n                                font-size: 13px;\n                                line-height: 19px;\n                                color: #434343;\n                                margin-top: 6px;\n                            }\n\n                            .full-name {\n                                font-family: Poppins;\n                                font-style: normal;\n                                font-weight: 500;\n                                font-size: 18px;\n                                line-height: 27px;\n                                color: #434343;\n                            }\n\n                            img {\n                                width: 25px;\n                                height: 25px;\n                                margin-left: 15px;\n                            }\n                        }\n                    }\n                }\n\n                .content-2 {\n                    border-radius: 5px;\n                    min-height: 420px;\n                    background-color: white;\n                    width: 66.6%;\n                    display: flex;\n\n                    .infor-user {\n                        width: 80%;\n                        padding-top: 30px;\n                        padding-left: 30px;\n\n                        p {\n                            font-family: Poppins;\n                            font-style: normal;\n                            font-weight: 500;\n                            font-size: 15px;\n                            line-height: 22px;\n                            color: #434343;\n                            margin-block-start: 0 !important;\n                        }\n\n                        .infor {\n                            display: flex;\n\n                            .title {\n                                width: 25%;\n                            }\n                        }\n                    }\n                }\n            }\n\n            .header-profile {\n                position: relative;\n\n                .title {\n                    font-family: Poppins;\n                    font-style: normal;\n                    font-weight: 500;\n                    font-size: 22px;\n                    line-height: 33px;\n                    color: #020644;\n                }\n\n                .btn-edit {\n                    padding: 7px 15px;\n                    background: #EB6271;\n                    border-radius: 100px;\n                    font-family: Poppins;\n                    font-style: normal;\n                    font-weight: 500;\n                    font-size: 12px;\n                    line-height: 18px;\n                    color: #FFFFFF;\n                    cursor: pointer;\n                    right: 0;\n                    position: absolute;\n\n                    img {\n                        margin-right: 6px;\n                    }\n                }\n            }\n        }\n    }\n</style>\n"]}]}