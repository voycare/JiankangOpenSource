{"remainingRequest":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider-stg.hera.health/src/views/AdminLogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider-stg.hera.health/src/views/AdminLogin.vue","mtime":1592952491055},{"path":"/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBUEkgZnJvbSAiLi8uLi91dGlscy9hcGkiCmltcG9ydCBVVElMUyBmcm9tICIuLy4uL3V0aWxzL3V0aWxzIgppbXBvcnQge3Byb3ZpZGVyVXJsc30gZnJvbSAnLi8uLi91dGlscy9wcm92aWRlclVybHMnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlVzZXJMb2dpbiIsCiAgY29tcHV0ZWQ6IHsKICAgIHByb3ZpZGVyTG9naW5Vcmw6ICgpID0+IHByb3ZpZGVyVXJscy5sb2dpbl91cmwsCiAgICBwcm92aWRlclJlZ2lzdGVyVXJsOiAoKSA9PiBwcm92aWRlclVybHMucmVnaXN0ZXJfdXJsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5wdXQ6IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIGVycm9yOiB7CiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgLy8gaWYgKFVUSUxTLmdldExvY2FsQWRtaW4oKSkgewogICAgLy8gICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICIvIjsKICAgIC8vIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHZhbGlkYXRlSW5wdXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgbGV0IHJlc3VsdCA9IHRydWU7CiAgICAgIGlmICghdGhpcy5pbnB1dC5lbWFpbCkgewogICAgICAgIHRoaXMuZXJyb3IuZW1haWwgPSAiZW1haWwgY2Fubm90IGJlIGVtcHR5IjsKICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVycm9yLmVtYWlsID0gIiI7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuaW5wdXQuZW1haWwgJiYgIS9cUytAXFMrXC5cUysvLnRlc3QodGhpcy5pbnB1dC5lbWFpbCkpIHsKICAgICAgICB0aGlzLmVycm9yLmVtYWlsID0gImVtYWlsIGludmFsaWQiOwogICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICB9CiAgICAgIGlmICghdGhpcy5pbnB1dC5wYXNzd29yZCkgewogICAgICAgIHRoaXMuZXJyb3IucGFzc3dvcmQgPSAicGFzc3dvcmQgY2Fubm90IGJlIGVtcHR5IjsKICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVycm9yLnBhc3N3b3JkID0gIiI7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICBsb2dpbjogZnVuY3Rpb24gKCkgewogICAgICBsZXQgc2VsZiA9IHRoaXMKCiAgICAgIGlmICghdGhpcy52YWxpZGF0ZUlucHV0KCkpIHsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmVycm9yKQogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIGZldGNoKEFQSS5nZXRBcGkoQVBJLkFETUlOLkFVVEguTE9HSU4pLCB7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICB9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICJlbWFpbCI6IHRoaXMuaW5wdXQuZW1haWwsCiAgICAgICAgICAicGFzc3dvcmQiOiB0aGlzLmlucHV0LnBhc3N3b3JkCiAgICAgICAgfSkKICAgICAgfSkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihyZXMgPT4gewogICAgICAgIHN3aXRjaCAocmVzLnN0YXR1cykgewogICAgICAgICAgY2FzZSAyMDA6IHsKICAgICAgICAgICAgcmVzLmRhdGEuYWRtaW4udG9rZW4gPSAiQmVhcmVyICIgKyByZXMuZGF0YS50b2tlbjsKICAgICAgICAgICAgVVRJTFMuc2V0TG9jYWxBZG1pbihyZXMuZGF0YS5hZG1pbik7CiAgICAgICAgICAgIHNlbGYuJHJvdXRlci5wdXNoKHtwYXRoOiAnLyd9KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICBjYXNlIDQxMjogewogICAgICAgICAgICB3aW5kb3cuYWxlcnQocmVzLm1lc3NhZ2UpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGRlZmF1bHQ6IHsKICAgICAgICAgICAgdGhpcy5lcnJvci5wYXNzd29yZCA9ICJlbWFpbCBvciBwYXNzd29yZCBpcyBpbmNvcnJlY3QiOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlKQogICAgICB9KTsKICAgIH0sCiAgICBsb2dpbldlY2hhdDogZnVuY3Rpb24gKCkgewogICAgICBhbGVydCgidGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNvbWluZyBzb29uIikKICAgIH0KICB9Cn0K"},{"version":3,"sources":["AdminLogin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdminLogin.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <div class=\"mt-5 mb-4 text-center\">\n            <h2 class=\"text-primary text-400\">Welcome Administrator!</h2>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-2\"></div>\n            <div class=\"col-sm-12 col-md-8 vertical-center\">\n                <div\n                        style=\"border: 1px solid #C7C7C7; border-radius: 12px; background-color: white\">\n                    <ul class=\"nav nav-tabs nav-tabs-bottom nav-justified pl-lg-200 pr-lg-200 pl-2 pr-2 mt-sm-50\"\n                        style=\"border-bottom: 1px solid #C7C7C7;border-top: 0px;\">\n                        <li class=\"nav-item\"><a class=\"nav-link active\" href=\"#tab-sign-in\" data-toggle=\"tab\">Sign\n                            in</a></li>\n                        <li class=\"nav-item\"><a class=\"nav-link text-nowrap\" href=\"#tab-sign-up\" data-toggle=\"tab\">Create\n                            account</a></li>\n                    </ul>\n\n                    <div class=\"tab-content login--content pl-lg-200 pr-lg-200 pl-3 pr-3 mt-3\">\n                        <div class=\"tab-pane show active\" id=\"tab-sign-in\">\n                            <form method=\"post\" class=\"form-material\">\n                                <div class=\"form-group\">\n                                    <input v-model=\"input.email\" type=\"text\" class=\"form-control\"\n                                           placeholder=\"Email Address\">\n                                    <span class=\"form-bar\"></span>\n                                    <small class=\"text-danger text-sm-left\"\n                                           style=\"display: block\">{{error.email}}\n                                    </small>\n                                </div>\n                                <div class=\"form-group\">\n                                    <input v-model=\"input.password\" type=\"password\" class=\"form-control\"\n                                           placeholder=\"Password\">\n                                    <span class=\"form-bar\"></span>\n                                    <small class=\"text-danger text-sm-left\"\n                                           style=\"display: block\">{{error.password}}\n                                    </small>\n                                </div>\n                                <div class=\"form-group\">\n                                    <label><input type=\"checkbox\" style=\"margin-top: 2px\"> Remember me</label>\n                                    <span class=\"text-right\" style=\"float: right\">\n                    <router-link to=\"/forget-password\" class=\"pink\">Forgot your password?</router-link>\n                    </span>\n                                </div>\n\n\n                                <div class=\"form-group text-center\">\n                                    <button type=\"submit\" @click.prevent=\"login\"\n                                            class=\"btn btn-pink btn-round btn-block\" style=\"font-weight: bold\">\n                                        Sign In\n                                    </button>\n                                </div>\n                                <div class=\"text-center mb-5 mt-3\">\n                                    I'm a Provider. Please sign in <a class=\"pink bold\"\n                                                                      :href=\"providerLoginUrl\">HERE</a>.\n                                </div>\n                            </form>\n                        </div>\n                        <div class=\"tab-pane\" id=\"tab-sign-up\">\n                            <form method=\"post\" class=\"form-material\">\n                                <div class=\"form-group\">\n                                    <small class=\"text-danger text-sm-left\"\n                                           style=\"display: block\">{{error.email}}\n                                    </small>\n                                    <input v-model=\"input.email\" type=\"text\" class=\"form-control\"\n                                           placeholder=\"Email Address\">\n                                    <span class=\"form-bar\"></span>\n                                </div>\n                                <div class=\"form-group\">\n                                    <small class=\"text-danger text-sm-left\"\n                                           style=\"display: block\">{{error.password}}\n                                    </small>\n                                    <input v-model=\"input.password\" type=\"password\" class=\"form-control\"\n                                           placeholder=\"Password\">\n                                    <span class=\"form-bar\"></span>\n                                </div>\n                                <div class=\"form-group\">\n\n                                    <input type=\"password\" class=\"form-control\" placeholder=\"Re-enter Password\">\n                                    <span class=\"form-bar\"></span>\n                                    <small class=\"text-danger text-sm-left\"\n                                           style=\"display: block\">{{error.password}}\n                                    </small>\n                                </div>\n                                <div class=\"form-group\">\n                                    <label><input type=\"checkbox\" style=\"margin-top: 2px\"> I agree to the</label>\n                                    <a href=\"#\" class=\"blue\"> Terms and Conditions</a>\n                                </div>\n                                <div class=\"form-group text-center\">\n                                    <button type=\"submit\" @click.prevent=\"register\"\n                                            class=\"btn btn-pink btn-round btn-block\">\n                                        Create Account\n                                    </button>\n                                </div>\n                                <div class=\"text-center mb-5 mt-3\">\n                                    Are you a Provider? Create an account <a class=\"pink bold\"\n                                                                             :href=\"providerRegisterUrl\">HERE</a>.\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-md-2\"></div>\n        </div>\n    </div>\n</template>\n\n<script>\n  import API from \"./../utils/api\"\n  import UTILS from \"./../utils/utils\"\n  import {providerUrls} from './../utils/providerUrls'\n\n  export default {\n    name: \"UserLogin\",\n    computed: {\n      providerLoginUrl: () => providerUrls.login_url,\n      providerRegisterUrl: () => providerUrls.register_url\n    },\n    data() {\n      return {\n        input: {\n          email: \"\",\n          password: \"\"\n        },\n        error: {\n          email: \"\",\n          password: \"\"\n        }\n      }\n    },\n    mounted() {\n      // if (UTILS.getLocalAdmin()) {\n      //   window.location.href = \"/\";\n      // }\n    },\n    methods: {\n      validateInput: function () {\n        let result = true;\n        if (!this.input.email) {\n          this.error.email = \"email cannot be empty\";\n          result = false;\n        } else {\n          this.error.email = \"\";\n        }\n        if (this.input.email && !/\\S+@\\S+\\.\\S+/.test(this.input.email)) {\n          this.error.email = \"email invalid\";\n          result = false;\n        }\n        if (!this.input.password) {\n          this.error.password = \"password cannot be empty\";\n          result = false;\n        } else {\n          this.error.password = \"\";\n        }\n        return result;\n      },\n      login: function () {\n        let self = this\n\n        if (!this.validateInput()) {\n          console.log(this.error)\n          return null;\n        }\n        fetch(API.getApi(API.ADMIN.AUTH.LOGIN), {\n          method: 'post',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            \"email\": this.input.email,\n            \"password\": this.input.password\n          })\n        }).then(res => res.json()).then(res => {\n          switch (res.status) {\n            case 200: {\n              res.data.admin.token = \"Bearer \" + res.data.token;\n              UTILS.setLocalAdmin(res.data.admin);\n              self.$router.push({path: '/'})\n              return;\n            }\n            case 412: {\n              window.alert(res.message)\n              return;\n            }\n            default: {\n              this.error.password = \"email or password is incorrect\";\n              return;\n            }\n          }\n        }).catch(e => {\n          console.log(e)\n        });\n      },\n      loginWechat: function () {\n        alert(\"this function will be coming soon\")\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>"]}]}