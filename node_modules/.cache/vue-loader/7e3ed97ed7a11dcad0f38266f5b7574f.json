{"remainingRequest":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider-stg.hera.health/src/views/clients/ReviewAdd.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider-stg.hera.health/src/views/clients/ReviewAdd.vue","mtime":1592235030405},{"path":"/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBSYXRpbmcgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9SYXRpbmcnCmltcG9ydCByZiBmcm9tICIuLi8uLi9hcGkvUmVxdWVzdEZhY3RvcnkiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFJhdGluZwogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5vdGU6IG51bGwsCiAgICAgIHJhdGluZzogMCwKICAgICAgcmV2aWV3OiBudWxsCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgbGV0IHNlbGYgPSB0aGlzCiAgICBsZXQgaWQgPSBwYXJzZUludCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpCgogICAgcmYuZ2V0UmVxdWVzdCgnVXNlclJlcXVlc3QnKS5nZXRSZXZpZXcoaWQpLnRoZW4oKHJlcykgPT4gewogICAgICBzZWxmLnJldmlldyA9IHJlcy5kYXRhCiAgICAgIHNlbGYucmF0aW5nID0gcmVzLmRhdGEuc3RhcgogICAgfSkKICB9LAogIG1ldGhvZHM6IHsKICAgIGlzUmVhZE9ubHkoKSB7CiAgICAgIGxldCBzZWxmID0gdGhpcwogICAgICByZXR1cm4gc2VsZi5yYXRpbmcgIT0gMCA/IHRydWUgOiBmYWxzZQogICAgfSwKICAgIHN1Ym1pdFJldmlldygpIHsKICAgICAgbGV0IHNlbGYgPSB0aGlzCiAgICAgIGxldCBpZCA9IHBhcnNlSW50KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBjbGluaWNfaWQ6IGlkLAogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBzdGFydDogc2VsZi5ub3RlLAogICAgICAgIGNvbnRlbnQ6IHNlbGYucmF0aW5nCiAgICAgIH0KCiAgICAgIHJmLmdldFJlcXVlc3QoJ1VzZXJSZXF1ZXN0JykucG9zdFJldmlldyhwYXJhbXMpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHNlbGYuJHN0b3JlLmRpc3BhdGNoKCdhcHAvc2hvd01vZGFsJywge21lc3NhZ2U6IHJlcy5tZXNzYWdlfSkKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["ReviewAdd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"ReviewAdd.vue","sourceRoot":"src/views/clients","sourcesContent":["<template>\n    <div>\n        <div class=\"row\">\n            <div class=\"col-sm-12\">\n                <router-link to=\"/reviews\"><h4 class=\"page-title\"><i class=\"fa fa-arrow-left mr-3\"></i>Back to Reviews\n                </h4></router-link>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-sm-12\">\n                <div class=\"card\" v-if=\"review\">\n                    <div class=\"card-body\">\n                        <div class=\"title-22 mb-4\">Write a review for Clinic {{ review.clinic.name }}</div>\n                        <div class=\"mb-5\">\n                            <label>Overall rating</label>\n                            <rating :maxStars=\"5\" v-model=\"rating\" :readOnly=\"isReadOnly\"/>\n                        </div>\n                        <div class=\"form-group\">\n                            <label label=\"note\">Your review</label>\n                            <p v-if=\"isReadOnly\">{{ review.content }}</p>\n                            <textarea v-else class=\"form-control hera-textarea\" rows=\"30\" id=\"note\" v-model=\"note\"\n                                      placeholder=\"Write your review here...\"></textarea>\n                        </div>\n                        <div v-if=\"! isReadOnly\" class=\"form-group\">\n                            <button class=\"btn btn-rounded btn-primary\">Submit Review</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n  import Rating from '../../components/Rating'\n  import rf from \"../../api/RequestFactory\";\n\n  export default {\n    components: {\n      Rating\n    },\n    data() {\n      return {\n        note: null,\n        rating: 0,\n        review: null\n      }\n    },\n    mounted() {\n      let self = this\n      let id = parseInt(this.$route.params.id)\n\n      rf.getRequest('UserRequest').getReview(id).then((res) => {\n        self.review = res.data\n        self.rating = res.data.star\n      })\n    },\n    methods: {\n      isReadOnly() {\n        let self = this\n        return self.rating != 0 ? true : false\n      },\n      submitReview() {\n        let self = this\n        let id = parseInt(this.$route.params.id)\n        let params = {\n          clinic_id: id,\n          title: '',\n          start: self.note,\n          content: self.rating\n        }\n\n        rf.getRequest('UserRequest').postReview(params).then((res) => {\n          self.$store.dispatch('app/showModal', {message: res.message})\n        })\n      }\n    }\n  }\n</script>\n\n<style>\n    .hera-textarea {\n        border: 0.5px solid #434343;\n        border-radius: 5px;\n    }\n</style>"]}]}