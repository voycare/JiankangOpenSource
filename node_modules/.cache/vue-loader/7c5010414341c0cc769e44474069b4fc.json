{"remainingRequest":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider-stg.hera.health/src/views/ClientResetPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider-stg.hera.health/src/views/ClientResetPassword.vue","mtime":1591440618240},{"path":"/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBUEkgZnJvbSAiLi8uLi91dGlscy9hcGkiCmltcG9ydCBVVElMUyBmcm9tICIuLy4uL3V0aWxzL3V0aWxzIgoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIlVzZXJMb2dpbiIsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlucHV0OiB7CiAgICAgICAgICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGVycm9yOiB7CiAgICAgICAgICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICBpZiAoVVRJTFMuZ2V0TG9jYWxVc2VyKCkpIHsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiLyI7CiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICB2YWxpZGF0ZUlucHV0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGxldCByZXN1bHQgPSB0cnVlOwogICAgICAgICAgICBpZiAoIXRoaXMuaW5wdXQuZW1haWwpIHsKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IuZW1haWwgPSAiZW1haWwgY2Fubm90IGJlIGVtcHR5IjsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5lcnJvci5lbWFpbCA9ICIiOwogICAgICAgICAgICB9CiAgICAgICAgICBpZih0aGlzLmlucHV0LmVtYWlsICYmICEgL1xTK0BcUytcLlxTKy8udGVzdCh0aGlzLmlucHV0LmVtYWlsKSkgewogICAgICAgICAgICB0aGlzLmVycm9yLmVtYWlsID0gImVtYWlsIGludmFsaWQiOwogICAgICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9LAogICAgICAgIHJlcXVlc3RSZXNldFBhc3N3b3JkOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0ZUlucHV0KCkpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZXJyb3IpCiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgICBmZXRjaChBUEkuZ2V0QXBpKEFQSS5BVVRILkZPUkdFVF9QQVNTV09SRCksIHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgICAgICAiZW1haWwiOiB0aGlzLmlucHV0LmVtYWlsLAogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgc3dpdGNoIChyZXMuc3RhdHVzKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDA6IHsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoInBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciBuZXcgcGFzc3dvcmQiKQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgbG9naW5XZWNoYXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgYWxlcnQoInRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjb21pbmcgc29vbiIpCiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["ClientResetPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ClientResetPassword.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <div class=\"mt-5 mb-4 text-center\">\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-2\"></div>\n            <div class=\"col-sm-12 col-md-8 vertical-center\">\n                <div class=\"card\">\n                    <div class=\"card-header text-center\">\n                        Forgot Password\n                    </div>\n                    <div class=\"card-body\">\n                        <div class=\"row\">\n                            <div class=\"col-sm-3\"></div>\n                            <div class=\"col-sm-6\">\n                                <form method=\"post\" class=\"form-material\">\n                                    <div class=\"text-center mb-4\">\n                                        <span class=\"desc-18\">Please enter your email and we will send you a link to reset your password.</span>\n                                    </div>\n                                    <div class=\"mb-4\">\n                                        <input v-model=\"input.email\" type=\"text\" class=\"form-control\" placeholder=\"Email Address\">\n                                        <span class=\"form-bar\"></span>\n                                        <small class=\"text-danger text-sm-left\"\n                                               style=\"display: block\">{{error.email}}</small>\n                                    </div>\n\n                                    <div class=\"text-center mb-5\">\n                                        <button type=\"submit\" @click.prevent=\"requestResetPassword\"\n                                                class=\"btn btn-pink account-btn btn-block\">\n                                            Reset\n                                        </button>\n                                    </div>\n\n                                    <div class=\" text-center mb-4\">\n                                        <router-link to=\"login\" class=\"pink text-link\">Back to Sign In</router-link>\n                                    </div>\n                                </form>\n                            </div>\n                            <div class=\"col-sm-3\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-md-2\"></div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import API from \"./../utils/api\"\n    import UTILS from \"./../utils/utils\"\n\n    export default {\n        name: \"UserLogin\",\n        data() {\n            return {\n                input: {\n                    email: \"\",\n                },\n                error: {\n                    email: \"\",\n                }\n            }\n        },\n        mounted() {\n            if (UTILS.getLocalUser()) {\n                window.location.href = \"/\";\n            }\n        },\n        methods: {\n            validateInput: function () {\n                let result = true;\n                if (!this.input.email) {\n                    this.error.email = \"email cannot be empty\";\n                    result = false;\n                } else {\n                    this.error.email = \"\";\n                }\n              if(this.input.email && ! /\\S+@\\S+\\.\\S+/.test(this.input.email)) {\n                this.error.email = \"email invalid\";\n                result = false;\n              }\n                return result;\n            },\n            requestResetPassword: function () {\n                if (!this.validateInput()) {\n                    console.log(this.error)\n                    return null;\n                }\n                fetch(API.getApi(API.AUTH.FORGET_PASSWORD), {\n                    method: 'post',\n                    headers: {\n                        'Accept': 'application/json',\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify({\n                        \"email\": this.input.email,\n                    })\n                }).then(res => res.json()).then(res => {\n                    switch (res.status) {\n                        case 200: {\n                            alert(\"please check your email for new password\")\n                            return;\n                        }\n                    }\n                }).catch(e => {\n                    console.log(e)\n                });\n            },\n            loginWechat: function () {\n                alert(\"this function will be coming soon\")\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}