{"remainingRequest":"/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider.voycare.com/src/layouts/RegisterLayout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider.voycare.com/src/layouts/RegisterLayout.vue","mtime":1596630773548},{"path":"/var/www/provider.voycare.com/node_modules/babel-loader/lib/index.js","mtime":1596630688999},{"path":"/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js","mtime":1596630677130},{"path":"/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js","mtime":1596630687836}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBUEkgZnJvbSAiLi8uLi91dGlscy9hcGkiCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJlZ2lzdGVyTGF5b3V0IiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWdyZWVtZW50OiBmYWxzZSwKICAgICAgaW5wdXQ6IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIHBob25lOiAiIiwKICAgICAgICBnZW5kZXI6ICIiLAogICAgICAgIGZpcnN0X25hbWU6ICIiLAogICAgICAgIGxhc3RfbmFtZTogIiIsCiAgICAgIH0sCiAgICAgIGVycm9yOiB7CiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgICBwaG9uZTogIiIsCiAgICAgICAgZ2VuZGVyOiAiIiwKICAgICAgICBmaXJzdF9uYW1lOiAiIiwKICAgICAgICBsYXN0X25hbWU6ICIiLAogICAgICAgIGFncmVlbWVudDogIiIKICAgICAgfSwKICAgICAgQVBJOiBBUEkKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CgogIH0sCiAgbWV0aG9kczogewogICAgdmFsaWRhdGVJbnB1dDogZnVuY3Rpb24gKCkgewogICAgICBsZXQgcmVzdWx0ID0gdHJ1ZTsKICAgICAgaWYgKCF0aGlzLmlucHV0LmVtYWlsKSB7CiAgICAgICAgdGhpcy5lcnJvci5lbWFpbCA9ICJlbWFpbCBjYW5ub3QgYmUgZW1wdHkiOwogICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZXJyb3IuZW1haWwgPSAiIjsKICAgICAgfQogICAgICBpZiAodGhpcy5pbnB1dC5lbWFpbCAmJiAhL1xTK0BcUytcLlxTKy8udGVzdCh0aGlzLmlucHV0LmVtYWlsKSkgewogICAgICAgIHRoaXMuZXJyb3IuZW1haWwgPSAiZW1haWwgaW52YWxpZCI7CiAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLmlucHV0LnBhc3N3b3JkIHx8IHRoaXMuaW5wdXQubGVuZ3RoIDwgNiB8fCB0aGlzLmlucHV0Lmxlbmd0aCA+IDEyOCkgewogICAgICAgIHRoaXMuZXJyb3IucGFzc3dvcmQgPSAicGFzc3dvcmQgY2Fubm90IGJlIGVtcHR5LiBhbmQgbGVuZ3RoIG11c3QgYmV0d2VlbiA2IC0gMTI4IGNoYXJhY3RlciI7CiAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcnJvci5wYXNzd29yZCA9ICIiOwogICAgICB9CiAgICAgIGlmICghdGhpcy5pbnB1dC5waG9uZSkgewogICAgICAgIHRoaXMuZXJyb3IucGhvbmUgPSAicGhvbmUgY2Fubm90IGJlIGVtcHR5LiI7CiAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcnJvci5waG9uZSA9ICIiOwogICAgICB9CiAgICAgIGlmICh0aGlzLmlucHV0LmdlbmRlciA9PT0gIiIpIHsKICAgICAgICB0aGlzLmVycm9yLmdlbmRlciA9ICJnZW5kZXIgbXVzdCBiZSBjaG9zZS4iOwogICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZXJyb3IuZ2VuZGVyID0gIiI7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLmlucHV0LmZpcnN0X25hbWUpIHsKICAgICAgICB0aGlzLmVycm9yLmZpcnN0X25hbWUgPSAibmFtZSBjYW5ub3QgYmUgZW1wdHkuIjsKICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVycm9yLmZpcnN0X25hbWUgPSAiIjsKICAgICAgfQogICAgICBpZiAoIXRoaXMuaW5wdXQubGFzdF9uYW1lKSB7CiAgICAgICAgdGhpcy5lcnJvci5sYXN0X25hbWUgPSAibGFzdCBuYW1lIGNhbm5vdCBiZSBlbXB0eS4iOwogICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZXJyb3IubGFzdF9uYW1lID0gIiI7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLmFncmVlbWVudCkgewogICAgICAgIHRoaXMuZXJyb3IuYWdyZWVtZW50ID0gInBsZWFzZSByZWFkIGFuZCBjb25maXJtIG91ciBhZ3JlZW1lbnQiOwogICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZXJyb3IuYWdyZWVtZW50ID0gIiI7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICByZWdpc3RlcjogZnVuY3Rpb24gKCkgewogICAgICBsZXQgc2VsZiA9IHRoaXMKCiAgICAgIGNvbnNvbGUubG9nKEFQSS5nZXRBcGkoQVBJLkFVVEguUkVHSVNURVIpKTsKICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlSW5wdXQoKSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIGZldGNoKEFQSS5nZXRBcGkoQVBJLkFVVEguUkVHSVNURVIpLCB7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICB9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24odGhpcy5pbnB1dCwgewogICAgICAgICAgInJvbGUiOiBBUEkuQ09OU1QuUk9MRS5DTElFTlQsCiAgICAgICAgICAicHJvdmlkZV9pZCI6ICIiCiAgICAgICAgfSkpCiAgICAgIH0pLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpLnRoZW4ocmVzID0+IHsKICAgICAgICBzd2l0Y2ggKHJlcy5zdGF0dXMpIHsKICAgICAgICAgIGNhc2UgMjAwOiB7CiAgICAgICAgICAgIGFsZXJ0KCJwbGVhc2UgbG9naW4gdG8geW91ciBlbWFpbCB0byBhY3RpdmUgYWNjb3VudC5cbkl0IG1heSB0YWtlIHNldmVyYWwgbWludXRlcyB0byBiZSBkZWxpdmVyIGVtYWlsIHRvIHlvdXIgYWNjb3VudCIpOwogICAgICAgICAgICBzZWxmLiRyb3V0ZXIucHVzaCh7cGF0aDogJy8nfSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgY2FzZSA0MTQ6IHsKICAgICAgICAgICAgdGhpcy5lcnJvci5lbWFpbCA9ICJ0aGlzIGVtYWlsIGhhcyBiZWVuIHJlZ2lzdGVyIjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgZGVmYXVsdDogewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlKQogICAgICB9KTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["RegisterLayout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RegisterLayout.vue","sourceRoot":"src/layouts","sourcesContent":["<template>\n  <div class=\"main-wrapper  account-wrapper\">\n    <div class=\"account-page\">\n      <div class=\"account-center\">\n        <div class=\"account-box\">\n          <form action=\"index.html\" class=\"form-signin\">\n            <div class=\"account-logo\">\n              <a href=\"index.html\"><img alt=\"\" src=\"assets/img/Hera_LOGO.png\"></a>\n            </div>\n            <div class=\"form-group\">\n              <label>Email Address</label>\n              <small class=\"text-danger\" style=\"display: block\">{{error.email}}</small>\n              <input class=\"form-control\" type=\"email\" v-model=\"input.email\">\n            </div>\n            <div class=\"form-group\">\n              <label>Password</label>\n              <small class=\"text-danger\" style=\"display: block\">{{error.password}}</small>\n              <input class=\"form-control\" type=\"password\" v-model=\"input.password\">\n            </div>\n            <div class=\"form-group\">\n              <label>Mobile Number</label>\n              <small class=\"text-danger\" style=\"display: block\">{{error.phone}}</small>\n              <input class=\"form-control\" type=\"text\" v-model=\"input.phone\">\n            </div>\n            <div class=\"form-group\">\n              <label>First Name</label>\n              <small class=\"text-danger\" style=\"display: block\">{{error.first_name}}</small>\n              <input class=\"form-control\" type=\"text\" v-model=\"input.first_name\">\n            </div>\n            <div class=\"form-group\">\n              <label>Last Name</label>\n              <small class=\"text-danger\" style=\"display: block\">{{error.last_name}}</small>\n              <input class=\"form-control\" type=\"text\" v-model=\"input.last_name\">\n            </div>\n\n            <div class=\"form-group\">\n              <label>Gender</label>\n              <small class=\"text-danger\" style=\"display: block\">{{error.gender}}</small>\n              <select class=\"form-control\" required v-model=\"input.gender\">\n                <option value=\"\">Select One</option>\n                <option :value=\"API.CONST.GENDER.MALE\">Male</option>\n                <option :value=\"API.CONST.GENDER.FEMALE\">Female</option>\n                <option :value=\"API.CONST.GENDER.OTHER\">Other</option>\n              </select>\n            </div>\n            <div class=\"form-group checkbox\">\n              <small class=\"text-danger\" style=\"display: block\">{{error.agreement}}</small>\n              <label>\n                <input type=\"checkbox\" v-model=\"agreement\"> I have read and agree the Terms & Conditions\n              </label>\n            </div>\n            <div class=\"form-group text-center\">\n              <button @click.prevent=\"register\" class=\"btn btn-primary account-btn btn-pink\" type=\"submit\">Signup\n              </button>\n            </div>\n            <div class=\"text-center login-link\">\n              Already have an account? <a href=\"/login\">Login</a>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import API from \"./../utils/api\"\n\n  export default {\n    name: \"RegisterLayout\",\n    data() {\n      return {\n        agreement: false,\n        input: {\n          email: \"\",\n          password: \"\",\n          phone: \"\",\n          gender: \"\",\n          first_name: \"\",\n          last_name: \"\",\n        },\n        error: {\n          email: \"\",\n          password: \"\",\n          phone: \"\",\n          gender: \"\",\n          first_name: \"\",\n          last_name: \"\",\n          agreement: \"\"\n        },\n        API: API\n      }\n    },\n    mounted() {\n\n    },\n    methods: {\n      validateInput: function () {\n        let result = true;\n        if (!this.input.email) {\n          this.error.email = \"email cannot be empty\";\n          result = false;\n        } else {\n          this.error.email = \"\";\n        }\n        if (this.input.email && !/\\S+@\\S+\\.\\S+/.test(this.input.email)) {\n          this.error.email = \"email invalid\";\n          result = false;\n        }\n        if (!this.input.password || this.input.length < 6 || this.input.length > 128) {\n          this.error.password = \"password cannot be empty. and length must between 6 - 128 character\";\n          result = false;\n        } else {\n          this.error.password = \"\";\n        }\n        if (!this.input.phone) {\n          this.error.phone = \"phone cannot be empty.\";\n          result = false;\n        } else {\n          this.error.phone = \"\";\n        }\n        if (this.input.gender === \"\") {\n          this.error.gender = \"gender must be chose.\";\n          result = false;\n        } else {\n          this.error.gender = \"\";\n        }\n        if (!this.input.first_name) {\n          this.error.first_name = \"name cannot be empty.\";\n          result = false;\n        } else {\n          this.error.first_name = \"\";\n        }\n        if (!this.input.last_name) {\n          this.error.last_name = \"last name cannot be empty.\";\n          result = false;\n        } else {\n          this.error.last_name = \"\";\n        }\n        if (!this.agreement) {\n          this.error.agreement = \"please read and confirm our agreement\";\n          result = false;\n        } else {\n          this.error.agreement = \"\";\n        }\n        return result;\n      },\n      register: function () {\n        let self = this\n\n        console.log(API.getApi(API.AUTH.REGISTER));\n        if (!this.validateInput()) {\n          return null;\n        }\n        fetch(API.getApi(API.AUTH.REGISTER), {\n          method: 'post',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(Object.assign(this.input, {\n            \"role\": API.CONST.ROLE.CLIENT,\n            \"provide_id\": \"\"\n          }))\n        }).then(res => res.json()).then(res => {\n          switch (res.status) {\n            case 200: {\n              alert(\"please login to your email to active account.\\nIt may take several minutes to be deliver email to your account\");\n              self.$router.push({path: '/'})\n              return;\n            }\n            case 414: {\n              this.error.email = \"this email has been register\";\n              return;\n            }\n            default: {\n              console.log(res);\n              return;\n            }\n          }\n        }).catch(e => {\n          console.log(e)\n        });\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n"]}]}