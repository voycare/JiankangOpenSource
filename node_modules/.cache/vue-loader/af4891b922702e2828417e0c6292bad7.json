{"remainingRequest":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider-stg.hera.health/src/views/admin/Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider-stg.hera.health/src/views/admin/Dashboard.vue","mtime":1595974922629},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCByZiBmcm9tICIuLi8uLi9hcGkvUmVxdWVzdEZhY3RvcnkiCmltcG9ydCBBZG1pbkFwcG9pbnRtZW50V2lkZ2V0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQWRtaW5BcHBvaW50bWVudFdpZGdldCcKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWRtaW5EYXNoYm9hcmQiLAogIGNvbXBvbmVudHM6IHsKICAgIEFkbWluQXBwb2ludG1lbnRXaWRnZXQKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3RhbHM6IHsKICAgICAgICBjbGllbnRzOiAwLAogICAgICAgIGRvY3RvcnM6IDAsCiAgICAgICAgY2xpbmljczogMCwKICAgICAgICByZXZlbnVlczogMAogICAgICB9LAogICAgICBhcHB0c18yNGg6IFtdLAogICAgICBhcHB0c183ZDogW10sCiAgICAgIGFwcHRzX2NyOiBbXSwKICAgICAgYXBwdHNfY3Q6IFtdLAogICAgICBhcHB0c19zdjogW10sCiAgICAgIGNsaWVudHM6IFtdCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgbGV0IHNlbGYgPSB0aGlzCgogICAgc2VsZi4kc3RvcmUuZGlzcGF0Y2goJ2dldEFwcG9pbnRtZW50TWV0YXMnKQoKICAgIHJmLmdldFJlcXVlc3QoJ0FkbWluUmVxdWVzdCcpLmdldERhc2hib2FyZFRvdGFscygpLnRoZW4ocmVzID0+IHsKICAgICAgc2VsZi50b3RhbHMgPSByZXMuZGF0YQogICAgfSkKCiAgICBzZWxmLmdldDI0SG91cnMoKQogICAgc2VsZi5nZXQ3RGF5cygpCiAgICBzZWxmLmdldENScygpCiAgICBzZWxmLmdldENvbnN1bGF0aW9uVHlwZXMoKQogICAgc2VsZi5nZXRTaXRlVmlzaXRzKCkKICAgIHNlbGYuZ2V0Q2xpZW50cygpCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDbGllbnRzKCkgewogICAgICBsZXQgc2VsZiA9IHRoaXMKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBsaW1pdDogMywKICAgICAgICBzb3J0X2NyZWF0ZWQ6ICdkZXNjJwogICAgICB9CgogICAgICByZi5nZXRSZXF1ZXN0KCdBZG1pblJlcXVlc3QnKS5nZXRDbGllbnRzKHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgIHNlbGYuY2xpZW50cyA9IHJlcy5kYXRhLmRhdGFzCiAgICAgIH0pCiAgICB9LAogICAgZ2V0MjRIb3VycygpIHsKICAgICAgbGV0IHNlbGYgPSB0aGlzCiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgbGltaXQ6IDMsCiAgICAgICAgdHlwZTogJzI0aCcsCiAgICAgICAgc29ydF9jcmVhdGVkOiAnZGVzYycKICAgICAgfQoKICAgICAgcmYuZ2V0UmVxdWVzdCgnQWRtaW5SZXF1ZXN0JykuZ2V0QXBwb2ludG1lbnRzKHBhcmFtcykudGhlbigocmVzKSA9PiB7CiAgICAgICAgc2VsZi5hcHB0c18yNGggPSByZXMuZGF0YS5kYXRhcwogICAgICB9KQogICAgfSwKICAgIGdldDdEYXlzKCkgewogICAgICBsZXQgc2VsZiA9IHRoaXMKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBsaW1pdDogMywKICAgICAgICB0eXBlOiAnN2QnLAogICAgICAgIHNvcnRfY3JlYXRlZDogJ2Rlc2MnCiAgICAgIH0KCiAgICAgIHJmLmdldFJlcXVlc3QoJ0FkbWluUmVxdWVzdCcpLmdldEFwcG9pbnRtZW50cyhwYXJhbXMpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHNlbGYuYXBwdHNfN2QgPSByZXMuZGF0YS5kYXRhcwogICAgICB9KQogICAgfSwKICAgIGdldENvbnN1bGF0aW9uVHlwZXMoKSB7CiAgICAgIGxldCBzZWxmID0gdGhpcwoKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBsaW1pdDogMywKICAgICAgICB0eXBlX2lkOiAxLAogICAgICAgIHNvcnRfY3JlYXRlZDogJ2Rlc2MnCiAgICAgIH0KCiAgICAgIHJmLmdldFJlcXVlc3QoJ0FkbWluUmVxdWVzdCcpLmdldEFwcG9pbnRtZW50cyhwYXJhbXMpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHNlbGYuYXBwdHNfY3QgPSByZXMuZGF0YS5kYXRhcwogICAgICB9KQogICAgfSwKICAgIGdldFNpdGVWaXNpdHMoKSB7CiAgICAgIGxldCBzZWxmID0gdGhpcwoKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBsaW1pdDogMywKICAgICAgICB0eXBlX2lkOiAyLAogICAgICAgIHNvcnRfY3JlYXRlZDogJ2Rlc2MnCiAgICAgIH0KCiAgICAgIHJmLmdldFJlcXVlc3QoJ0FkbWluUmVxdWVzdCcpLmdldEFwcG9pbnRtZW50cyhwYXJhbXMpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHNlbGYuYXBwdHNfc3YgPSByZXMuZGF0YS5kYXRhcwogICAgICB9KQogICAgfSwKICAgIGdldENScygpIHsKICAgICAgbGV0IHNlbGYgPSB0aGlzCiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgbGltaXQ6IDMsCiAgICAgICAgc29ydF9jcmVhdGVkOiAnZGVzYycKICAgICAgfQoKICAgICAgcmYuZ2V0UmVxdWVzdCgnQWRtaW5SZXF1ZXN0JykuZ2V0QXBwb2ludG1lbnRzQ1IocGFyYW1zKS50aGVuKChyZXMpID0+IHsKICAgICAgICBzZWxmLmFwcHRzX2NyID0gcmVzLmRhdGEuZGF0YXMKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\n  <div class=\"content\">\n    <div class=\"row\">\n      <div class=\"col-md-6 col-sm-6 col-lg-6 col-xl-3\">\n        <div class=\"dash-widget\">\n          <span class=\"dash-widget-bg1\"><i aria-hidden=\"true\" class=\"fa fa-stethoscope\"></i></span>\n          <div class=\"dash-widget-info text-right\">\n            <h3>{{ totals.clinics }}</h3>\n            <span class=\"widget-title1\">Clinics <i aria-hidden=\"true\"\n                                                   class=\"fa fa-check\"></i></span>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-6 col-sm-6 col-lg-6 col-xl-3\">\n        <div class=\"dash-widget\">\n          <span class=\"dash-widget-bg2\"><i class=\"fa fa-user-o\"></i></span>\n          <div class=\"dash-widget-info text-right\">\n            <h3>{{ totals.clients }}</h3>\n            <span class=\"widget-title2\">Clients <i aria-hidden=\"true\"\n                                                   class=\"fa fa-check\"></i></span>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-6 col-sm-6 col-lg-6 col-xl-3\">\n        <div class=\"dash-widget\">\n          <span class=\"dash-widget-bg3\"><i aria-hidden=\"true\" class=\"fa fa-user-md\"></i></span>\n          <div class=\"dash-widget-info text-right\">\n            <h3>{{ totals.doctors }}</h3>\n            <span class=\"widget-title3\">Doctors <i aria-hidden=\"true\" class=\"fa fa-check\"></i></span>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-6 col-sm-6 col-lg-6 col-xl-3\">\n        <div class=\"dash-widget\">\n          <span class=\"dash-widget-bg4\"><i aria-hidden=\"true\" class=\"fa fa-heartbeat\"></i></span>\n          <div class=\"dash-widget-info text-right\">\n            <h3>{{ totals.revenues }}</h3>\n            <span class=\"widget-title4\">Revenues <i aria-hidden=\"true\"\n                                                    class=\"fa fa-check\"></i></span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-12 col-md-12\">\n        <AdminAppointmentWidget to=\"/appointment-24h\" :appts=\"appts_24h\" title=\"24 - Hour\"></AdminAppointmentWidget>\n\n        <AdminAppointmentWidget to=\"/appointment-7d\" :appts=\"appts_7d\" title=\"7 - Day\"></AdminAppointmentWidget>\n\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h4 class=\"title-20 card-title card-title-homepage d-inline-block\">Cancellation Requests</h4>\n            <router-link class=\"btn btn-dark btn-small float-right\" to=\"/appointment-cr\">View all</router-link>\n          </div>\n          <div class=\"card-body p-0\">\n            <div class=\"table-responsive table--appointment\">\n              <table class=\"table mb-0 b-0\">\n                <tbody>\n                <tr v-bind:key=\"appt.id\" v-for=\"appt in appts_cr\">\n                  <td>\n                    <h2 class=\"time-title title-15 pb-2\">\n                      Client\n                    </h2>\n                    <div class=\"text-desc desc-11\">{{ appt.appointment.client.name }}</div>\n                  </td>\n                  <td>\n                    <h2 class=\"time-title title-15\">\n                      Clinic\n                    </h2>\n                    <div class=\"text-desc desc-11\">{{ appt.appointment.clinic.name }}</div>\n                  </td>\n                  <td>\n                    <h2 class=\"time-title title-15\">\n                      Cancellation Date\n                    </h2>\n                    <div class=\"text-desc desc-11\">{{ appt.created |convertTimeSecondToDate }}</div>\n                  </td>\n                  <td class=\"text-center\">\n                    <p class=\"alert appt--status alert-process\" v-if=\"appt.appointment.status == 2 && appt.status == 1\">\n                      Processing</p>\n                    <p class=\"alert appt--status alert-refunded\"\n                       v-if=\"appt.appointment.status == 2 && appt.status == 2\">\n                      Refunded</p>\n                  </td>\n                </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n\n        <AdminAppointmentWidget to=\"/appointment?type_id=1\" :appts=\"appts_ct\" title=\"New Consulations\"></AdminAppointmentWidget>\n\n        <AdminAppointmentWidget to=\"/appointment?type_id=2\" :appts=\"appts_sv\" title=\"New Site Visit Requests\"></AdminAppointmentWidget>\n\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h4 class=\"title-20 card-title card-title-homepage d-inline-block\">New Clients</h4>\n            <router-link class=\"btn btn-dark btn-small float-right\" to=\"/clients\">View all</router-link>\n          </div>\n          <div class=\"card-body p-0\">\n            <div class=\"table-responsive table--appointment\">\n              <table class=\"table mb-0 b-0\">\n                <tbody>\n                <tr v-bind:key=\"client.id\" v-for=\"client in clients\">\n                  <td>\n                    <h2 class=\"time-title title-15 pb-2\">{{ client.email }}</h2>\n                  </td>\n                  <td>\n                    <h2 class=\"time-title title-15 pb-2\">{{ client.created | convertTimeSecondToDateTime }}</h2>\n                  </td>\n                </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!--<div class=\"col-12 col-md-6 col-lg-4 col-xl-4\">-->\n      <!--</div>-->\n    </div>\n  </div>\n</template>\n\n<script>\n  import rf from \"../../api/RequestFactory\"\n  import AdminAppointmentWidget from '../../components/AdminAppointmentWidget'\n\n  export default {\n    name: \"AdminDashboard\",\n    components: {\n      AdminAppointmentWidget\n    },\n    data() {\n      return {\n        totals: {\n          clients: 0,\n          doctors: 0,\n          clinics: 0,\n          revenues: 0\n        },\n        appts_24h: [],\n        appts_7d: [],\n        appts_cr: [],\n        appts_ct: [],\n        appts_sv: [],\n        clients: []\n      }\n    },\n    mounted() {\n      let self = this\n\n      self.$store.dispatch('getAppointmentMetas')\n\n      rf.getRequest('AdminRequest').getDashboardTotals().then(res => {\n        self.totals = res.data\n      })\n\n      self.get24Hours()\n      self.get7Days()\n      self.getCRs()\n      self.getConsulationTypes()\n      self.getSiteVisits()\n      self.getClients()\n    },\n    methods: {\n      getClients() {\n        let self = this\n        let params = {\n          limit: 3,\n          sort_created: 'desc'\n        }\n\n        rf.getRequest('AdminRequest').getClients(params).then(res => {\n          self.clients = res.data.datas\n        })\n      },\n      get24Hours() {\n        let self = this\n        let params = {\n          limit: 3,\n          type: '24h',\n          sort_created: 'desc'\n        }\n\n        rf.getRequest('AdminRequest').getAppointments(params).then((res) => {\n          self.appts_24h = res.data.datas\n        })\n      },\n      get7Days() {\n        let self = this\n        let params = {\n          limit: 3,\n          type: '7d',\n          sort_created: 'desc'\n        }\n\n        rf.getRequest('AdminRequest').getAppointments(params).then((res) => {\n          self.appts_7d = res.data.datas\n        })\n      },\n      getConsulationTypes() {\n        let self = this\n\n        let params = {\n          limit: 3,\n          type_id: 1,\n          sort_created: 'desc'\n        }\n\n        rf.getRequest('AdminRequest').getAppointments(params).then((res) => {\n          self.appts_ct = res.data.datas\n        })\n      },\n      getSiteVisits() {\n        let self = this\n\n        let params = {\n          limit: 3,\n          type_id: 2,\n          sort_created: 'desc'\n        }\n\n        rf.getRequest('AdminRequest').getAppointments(params).then((res) => {\n          self.appts_sv = res.data.datas\n        })\n      },\n      getCRs() {\n        let self = this\n        let params = {\n          limit: 3,\n          sort_created: 'desc'\n        }\n\n        rf.getRequest('AdminRequest').getAppointmentsCR(params).then((res) => {\n          self.appts_cr = res.data.datas\n        })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n</style>\n"]}]}