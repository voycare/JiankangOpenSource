{"remainingRequest":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider-stg.hera.health/src/views/admin/AppointmentCRDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider-stg.hera.health/src/views/admin/AppointmentCRDetail.vue","mtime":1595851753732},{"path":"/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCByZiBmcm9tICIuLi8uLi9hcGkvUmVxdWVzdEZhY3RvcnkiOwppbXBvcnQgQ29uc3QgZnJvbSAiLi8uLi8uLi91dGlscy9jb25zdCIKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgQ29uc3QsCiAgICAgIGFwcHRfY3I6IG51bGwsCiAgICAgIGlkOiBudWxsCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgbGV0IHNlbGYgPSB0aGlzCiAgICBzZWxmLmlkID0gcGFyc2VJbnQodGhpcy4kcm91dGUucGFyYW1zLmlkKQoKICAgIHNlbGYuZ2V0RGV0YWlsKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERldGFpbCgpIHsKICAgICAgbGV0IHNlbGYgPSB0aGlzCgogICAgICByZi5nZXRSZXF1ZXN0KCdBZG1pblJlcXVlc3QnKS5nZXRBcHBvaW50bWVudHNDUkRldGFpbChzZWxmLmlkKS50aGVuKChyZXMpID0+IHsKICAgICAgICBzZWxmLmFwcHRfY3IgPSByZXMuZGF0YQogICAgICB9KTsKICAgIH0sCiAgICBvblNhdmUoKSB7CiAgICAgIGxldCBzZWxmID0gdGhpcwoKICAgICAgcmYuZ2V0UmVxdWVzdCgnQWRtaW5SZXF1ZXN0JykucG9zdEFwcG9pbnRtZW50c0NSRGV0YWlsKHNlbGYuaWQsIHNlbGYuYXBwdF9jcikudGhlbihyZXMgPT4gewogICAgICAgIHNlbGYuYXBwdF9jci5yZXMuZGF0YQoKICAgICAgICBzZWxmLiRzdG9yZS5kaXNwYXRjaCgnYXBwL3Nob3dNb2RhbCcsIHttZXNzYWdlOiByZXMubWVzc2FnZX0pCiAgICAgIH0pCiAgICB9LAogICAgb25TYXZlU3RhdHVzKCkgewogICAgICBsZXQgc2VsZiA9IHRoaXMKCiAgICAgIHJmLmdldFJlcXVlc3QoJ0FkbWluUmVxdWVzdCcpLnBvc3RBcHBvaW50bWVudHNDUkRldGFpbFJlZnVuZChzZWxmLmlkLCBzZWxmLmFwcHRfY3IpLnRoZW4ocmVzID0+IHsKICAgICAgICBzZWxmLmFwcHRfY3IucmVzLmRhdGEKCiAgICAgICAgc2VsZi4kc3RvcmUuZGlzcGF0Y2goJ2FwcC9zaG93TW9kYWwnLCB7bWVzc2FnZTogcmVzLm1lc3NhZ2V9KQogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["AppointmentCRDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"AppointmentCRDetail.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\n  <div>\n    <div class=\"row\">\n      <div class=\"col-sm-12\">\n        <router-link to=\"/appointment-cr\"><h4 class=\"page-title\"><i class=\"fa fa-arrow-left mr-3\"></i>Back to\n          Cancellation Requests</h4></router-link>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-md-9\">\n        <div class=\"card\">\n          <div class=\"card-body appt--wrapper\" v-if=\"appt_cr\">\n            <div class=\"row appt--row\">\n              <div class=\"col-md-6\">\n                <div class=\"appt--item\">\n                  <label class=\"appt--label\">Appt.No: </label>\n                  <div class=\"appt--value\">{{ appt_cr.id | convertAppointmentID }}</div>\n                </div>\n\n                <div class=\"appt--item text-red\">\n                  <label class=\"appt--label\">Cancellation Date: </label>\n                  <div class=\"appt--value\">{{ appt_cr.appointment.created | convertTimeSecondToDate }}</div>\n                </div>\n              </div>\n              <div class=\"col-md-6\">\n                <div class=\"appt--item\">\n                  <label class=\"appt--label\">Status: </label>\n                  <div class=\"appt--value\">\n                    <div class=\"appt--status text-danger\" v-if=\"appt_cr.appointment.status == 2 && appt_cr.status == 1\">\n                      Processing\n                    </div>\n                    <div class=\"appt--status text-success\"\n                         v-if=\"appt_cr.appointment.status == 2 && appt_cr.status == 2\">\n                      Refunded\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"appt--item text-red\">\n                  <label class=\"appt--label\">Cancellation No: </label>\n                  <div class=\"appt--value\">{{ appt_cr.id }}</div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"row appt--row\">\n              <div class=\"col-md-6\">\n                <div class=\"appt--item\">\n                  <label class=\"appt--label\">Document Translation: </label>\n                  <div class=\"appt--value\">{{ appt_cr.appointment.documents_count ? 'Yes' : 'No' }}</div>\n                </div>\n              </div>\n\n              <div class=\"col--md-6\">\n                <div class=\"appt--item\">\n                  <label class=\"appt--label\">Fees Collected: </label>\n                  <div class=\"appt--value\">$ {{ appt_cr.fee }}</div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"row appt--row\">\n              <div class=\"col-md-12\">\n                <div class=\"appt--item\">\n                  <label class=\"appt--label\">Reason for cancellation: </label>\n                  <div class=\"appt--value\">{{ appt_cr.why_cancel }}</div>\n                </div>\n\n                <div class=\"appt--item\">\n                  <label class=\"appt--label\">Rescheduling offered: </label>\n                  <div class=\"appt--value\">$ {{ appt_cr.use_again ? 'Yes' : 'No' }}</div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"row appt--row\">\n              <div class=\"col-md-12\">\n                <div class=\"appt--item\">\n                  <label class=\"appt--label\">Payment Method: </label>\n                  <div class=\"appt--value\">{{ appt_cr.use_again }}</div>\n                </div>\n\n                <div class=\"appt--item\">\n                  <label class=\"appt--label\">Refund Status: </label>\n                  <div class=\"appt--value\">\n                    <div class=\"card\">\n                      <div class=\"card-body form--pink\">\n                        <div class=\"form-group\">\n                          <label>Select Refund Status:</label>\n                          <select class=\"form-control\" v-model=\"appt_cr.status\">\n                            <option value=\"1\">Processing</option>\n                            <option value=\"2\">Refunded</option>\n                          </select>\n                        </div>\n                        <div class=\"form-group\">\n                          <label>CITCON refund confirmation No</label>\n                          <input type=\"text\" class=\"form-control\" v-model=\"appt_cr.citcon_no\">\n                        </div>\n                        <div class=\"form-group text-center\">\n                          <button class=\"btn btn-pink btn-round\" @click=\"onSaveStatus\">Save</button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"row appt--row no-border\">\n              <div class=\"col-md-12\">\n                <label>Admin Note</label>\n                <textarea name=\"\" id=\"\" cols=\"30\" rows=\"5\" class=\"form-control\" v-model=\"appt_cr.admin_note\"></textarea>\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <div class=\"col-md-12 text-center\">\n                <button class=\"btn btn-pink btn-round\" click=\"onSave\">Save</button>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n  import rf from \"../../api/RequestFactory\";\n  import Const from \"./../../utils/const\"\n\n  export default {\n    components: {},\n    data() {\n      return {\n        Const,\n        appt_cr: null,\n        id: null\n      }\n    },\n    mounted() {\n      let self = this\n      self.id = parseInt(this.$route.params.id)\n\n      self.getDetail()\n    },\n    methods: {\n      getDetail() {\n        let self = this\n\n        rf.getRequest('AdminRequest').getAppointmentsCRDetail(self.id).then((res) => {\n          self.appt_cr = res.data\n        });\n      },\n      onSave() {\n        let self = this\n\n        rf.getRequest('AdminRequest').postAppointmentsCRDetail(self.id, self.appt_cr).then(res => {\n          self.appt_cr.res.data\n\n          self.$store.dispatch('app/showModal', {message: res.message})\n        })\n      },\n      onSaveStatus() {\n        let self = this\n\n        rf.getRequest('AdminRequest').postAppointmentsCRDetailRefund(self.id, self.appt_cr).then(res => {\n          self.appt_cr.res.data\n\n          self.$store.dispatch('app/showModal', {message: res.message})\n        })\n      }\n    }\n  }\n</script>\n<style>\n  .appt--row {\n    border-bottom: 1px solid #CBCBCB;\n    margin-bottom: 20px;\n  }\n\n  .appt--wrapper {\n    padding: 42px;\n    color: #020644;\n  }\n\n  .appt--label {\n    font-style: normal;\n    font-weight: 500;\n    font-size: 15px;\n    line-height: 22px;\n    margin-right: 40px;\n  }\n\n  .appt--value {\n    display: inline-block;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 15px;\n    line-height: 22px;\n  }\n\n  .appt--item {\n    margin-bottom: 20px;\n  }\n\n  .form--pink {\n    background-color: #FDD3D1\n  }\n</style>\n"]}]}