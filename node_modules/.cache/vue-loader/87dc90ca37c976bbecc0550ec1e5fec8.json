{"remainingRequest":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider-stg.hera.health/src/views/ClientLogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider-stg.hera.health/src/views/ClientLogin.vue","mtime":1591440394428},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBUEkgZnJvbSAiLi8uLi91dGlscy9hcGkiCmltcG9ydCBVVElMUyBmcm9tICIuLy4uL3V0aWxzL3V0aWxzIgppbXBvcnQge3Byb3ZpZGVyVXJsc30gZnJvbSAnLi8uLi91dGlscy9wcm92aWRlclVybHMnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlVzZXJMb2dpbiIsCiAgY29tcHV0ZWQ6IHsKICAgIHByb3ZpZGVyTG9naW5Vcmw6ICgpID0+IHByb3ZpZGVyVXJscy5sb2dpbl91cmwsCiAgICBwcm92aWRlclJlZ2lzdGVyVXJsOiAoKSA9PiBwcm92aWRlclVybHMucmVnaXN0ZXJfdXJsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIGVtYWlsX3JlZ2lzdGVyOiAnJywKICAgICAgcGFzc3dvcmRfcmVnaXN0ZXI6ICcnLAogICAgICBwYXNzd29yZF9jb25maXJtX3JlZ2lzdGVyOiAnJywKICAgICAgdGVybXM6IG51bGwsCiAgICAgIGVycm9yOiB7CiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgbGV0IHNlbGYgPSB0aGlzCgogICAgaWYgKFVUSUxTLmdldExvY2FsVXNlcigpKSB7CiAgICAgIHJldHVybiBzZWxmLiRyb3V0ZXIucHVzaCh7cGF0aDogJy8nfSkKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiAoKSB7CiAgICAgIGxldCBzZWxmID0gdGhpcwoKICAgICAgZmV0Y2goQVBJLmdldEFwaShBUEkuQVVUSC5SRUdJU1RFUiksIHsKICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0sCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgImVtYWlsIjogc2VsZi5lbWFpbF9yZWdpc3RlciwKICAgICAgICAgICJwYXNzd29yZCI6IHNlbGYucGFzc3dvcmRfcmVnaXN0ZXIKICAgICAgICB9KQogICAgICB9KQogICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICBzd2l0Y2ggKHJlcy5zdGF0dXMpIHsKICAgICAgICAgICAgY2FzZSAyMDA6IHsKICAgICAgICAgICAgICByZXMuZGF0YS51c2VyLnRva2VuID0gImJlYXJlciAiICsgcmVzLmRhdGEudG9rZW47CiAgICAgICAgICAgICAgVVRJTFMuc2V0TG9jYWxVc2VyKHJlcy5kYXRhLnVzZXIpOwogICAgICAgICAgICAgIHNlbGYuJHJvdXRlci5wdXNoKHtwYXRoOiAnLyd9KQogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXNlIDQxNDogewogICAgICAgICAgICAgIGxldCBlcnJvcnMgPSB7fQogICAgICAgICAgICAgIE9iamVjdC5rZXlzKHJlcy5tZXNzYWdlKS5mb3JFYWNoKGluZGV4ID0+IHsKICAgICAgICAgICAgICAgIGVycm9yc1tpbmRleCArICdfcmVnaXN0ZXInXSA9IHJlcy5tZXNzYWdlW2luZGV4XQogICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgIHNlbGYuJHJlZnMuZm9ybV9yZWdpc3Rlci5zZXRFcnJvcnMoZXJyb3JzKQogICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIGRlZmF1bHQ6IHsKICAgICAgICAgICAgICBpZiAocmVzLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KHJlcy5tZXNzYWdlKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgYWxlcnQoJ1NlcnZlciB1bmF2YWlsYWJsZSEnKQogICAgICAgIH0pOwogICAgfSwKICAgIGxvZ2luOiBmdW5jdGlvbiAoKSB7CiAgICAgIGxldCBzZWxmID0gdGhpcwoKICAgICAgZmV0Y2goQVBJLmdldEFwaShBUEkuQVVUSC5MT0dJTiksIHsKICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0sCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgImVtYWlsIjogdGhpcy5lbWFpbCwKICAgICAgICAgICJwYXNzd29yZCI6IHRoaXMucGFzc3dvcmQKICAgICAgICB9KQogICAgICB9KQogICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICBzd2l0Y2ggKHJlcy5zdGF0dXMpIHsKICAgICAgICAgICAgY2FzZSAyMDA6IHsKICAgICAgICAgICAgICByZXMuZGF0YS51c2VyLnRva2VuID0gImJlYXJlciAiICsgcmVzLmRhdGEudG9rZW47CiAgICAgICAgICAgICAgVVRJTFMuc2V0TG9jYWxVc2VyKHJlcy5kYXRhLnVzZXIpOwogICAgICAgICAgICAgIHNlbGYuJHJvdXRlci5wdXNoKHtwYXRoOiAnLyd9KQogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXNlIDQxNDogewogICAgICAgICAgICAgIHNlbGYuJHJlZnMuZm9ybV9sb2dpbi5zZXRFcnJvcnMocmVzLm1lc3NhZ2UpCiAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2FzZSA0MTI6IHsKICAgICAgICAgICAgICB3aW5kb3cuYWxlcnQocmVzLm1lc3NhZ2UpCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGRlZmF1bHQ6IHsKICAgICAgICAgICAgICB0aGlzLmVycm9yLnBhc3N3b3JkID0gImVtYWlsIG9yIHBhc3N3b3JkIGlzIGluY29ycmVjdCI7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZSkKICAgICAgICBhbGVydCgnU2VydmVyIHVuYXZhaWxhYmxlIScpCiAgICAgIH0pOwogICAgfSwKICAgIGxvZ2luV2VjaGF0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGFsZXJ0KCJ0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY29taW5nIHNvb24iKQogICAgfQogIH0KfQo="},{"version":3,"sources":["ClientLogin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6IA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ClientLogin.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <div class=\"mt-5 mb-4 text-center\">\n            <h2 class=\"text-primary text-400\">Welcome to Hera.</h2>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-2\"></div>\n            <div class=\"col-sm-12 col-md-8 vertical-center\">\n                <div\n                        style=\"border: 1px solid #C7C7C7; border-radius: 12px; background-color: white\">\n                    <ul class=\"nav nav-tabs nav-tabs-bottom nav-justified pl-lg-200 pr-lg-200 pl-2 pr-2 mt-sm-50\"\n                        style=\"border-bottom: 1px solid #C7C7C7;border-top: 0px;\">\n                        <li class=\"nav-item\"><a class=\"nav-link active\" href=\"#tab-sign-in\" data-toggle=\"tab\">Sign\n                            in</a></li>\n                        <li class=\"nav-item\"><a class=\"nav-link text-nowrap\" href=\"#tab-sign-up\" data-toggle=\"tab\">Create\n                            account</a></li>\n                    </ul>\n\n                    <div class=\"tab-content login--content pl-lg-200 pr-lg-200 pl-3 pr-3 mt-3\">\n                        <div class=\"tab-pane show active\" id=\"tab-sign-in\">\n                            <validation-observer ref=\"form_login\" v-slot=\"{passed}\">\n                                <form method=\"post\" @submit.prevent=\"login\" class=\"form-material\">\n                                    <div class=\"form-group\">\n                                        <validation-provider\n                                                vid=\"email\"\n                                                name=\"Email Address\"\n                                                rules=\"required|email\"\n                                                v-slot=\"{ errors }\">\n                                            <input v-model=\"email\"\n                                                   type=\"text\" class=\"form-control\" placeholder=\"Email Address\">\n                                            <span class=\"form-bar\"></span>\n                                            <small class=\"text-danger text-sm-left\">{{ errors[0] }}</small>\n                                        </validation-provider>\n                                    </div>\n                                    <div class=\"form-group\">\n                                        <validation-provider\n                                                vid=\"password\"\n                                                name=\"Password\"\n                                                rules=\"required|special\"\n                                                v-slot=\"{ errors }\">\n                                            <input v-model=\"password\" type=\"password\" class=\"form-control\"\n                                                   placeholder=\"Password\">\n                                            <span class=\"form-bar\"></span>\n                                            <small class=\"text-danger text-sm-left\">{{errors[0]}}</small>\n                                        </validation-provider>\n                                    </div>\n                                    <div class=\"form-group\">\n                                        <label><input type=\"checkbox\" style=\"margin-top: 2px\"> Remember me</label>\n                                        <span class=\"text-right\" style=\"float: right\">\n                    <router-link to=\"forget-password\" class=\"pink\">Forgot your password?</router-link>\n                    </span>\n                                    </div>\n\n                                    <div class=\"form-group text-center\">\n                                        <button type=\"submit\" :disabled=\"! passed\"\n                                                class=\"btn btn-pink btn-round btn-block bold\">\n                                            Sign In\n                                        </button>\n                                    </div>\n                                    <div class=\"text-center mb-5 mt-3\">\n                                        I'm a Provider. Please sign in <a class=\"pink bold\" :href=\"providerLoginUrl\">HERE</a>.\n                                    </div>\n                                </form>\n                            </validation-observer>\n                        </div>\n                        <div class=\"tab-pane\" id=\"tab-sign-up\">\n                            <validation-observer ref=\"form_register\" v-slot=\"{passed}\">\n                                <form method=\"post\"\n                                      @submit.prevent=\"register\"\n                                      class=\"form-material\">\n                                    <div class=\"form-group\">\n                                        <validation-provider\n                                                vid=\"email_register\"\n                                                name=\"Email Address\"\n                                                rules=\"required|email\"\n                                                v-slot=\"{ errors }\">\n                                            <input v-model=\"email_register\" type=\"text\" class=\"form-control\"\n                                                   placeholder=\"Email Address\">\n                                            <!--<span class=\"form-bar\"></span>-->\n                                            <small class=\"text-danger text-sm-left\">{{errors[0]}}</small>\n                                        </validation-provider>\n                                    </div>\n                                    <div class=\"form-group\">\n                                        <validation-provider\n                                                vid=\"password_register\"\n                                                name=\"Password\"\n                                                rules=\"required|special\"\n                                                v-slot=\"{ errors }\">\n                                            <input v-model=\"password_register\" type=\"password\" class=\"form-control\"\n                                                   placeholder=\"Password\">\n                                            <!--<span class=\"form-bar\"></span>-->\n                                            <small class=\"text-danger text-sm-left\">{{errors[0]}}</small>\n                                        </validation-provider>\n                                    </div>\n                                    <div class=\"form-group\">\n                                        <validation-provider vid=\"password_confirm_register\"\n                                                             name=\"Re-enter Password\"\n                                                             rules=\"required|special|confirmed:password_register\"\n                                                             v-slot=\"{ errors }\">\n                                            <input type=\"password\"\n                                                   v-model=\"password_confirm_register\"\n                                                   class=\"form-control\"\n                                                   placeholder=\"Re-enter Password\">\n                                            <!--<span class=\"form-bar\"></span>-->\n                                            <small class=\"text-danger text-sm-left\">{{errors[0]}}</small>\n                                        </validation-provider>\n                                    </div>\n                                    <div class=\"form-group\">\n                                        <label><input v-model=\"terms\" value=\"1\" type=\"checkbox\" style=\"margin-top: 2px\">\n                                            I agree to\n                                            the</label><a href=\"#\" class=\"pink\"> Terms and Conditions</a>\n                                        <div>\n                                            <small class=\"text-danger text-sm-left\"\n                                                   :class=\"terms ? 'hide' : (terms === null ? 'hide' : 'show')\">Please\n                                                Check the I agree Terms and Conditions\n                                            </small>\n                                        </div>\n                                    </div>\n                                    <div class=\"form-group text-center\">\n                                        <button type=\"submit\"\n                                                :disabled=\"!passed || (terms === false || terms === null)\"\n                                                class=\"btn btn-pink btn-round btn-block bold\">\n                                            Create Account\n                                        </button>\n                                    </div>\n                                    <div class=\"text-center mb-5 mt-3\">\n                                        Are you a Provider? Create an account <a class=\"pink bold\"\n                                                                                 :href=\"providerRegisterUrl\">HERE</a>.\n                                    </div>\n                                </form>\n                            </validation-observer>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-md-2\"></div>\n        </div>\n    </div>\n</template>\n\n<script>\n  import API from \"./../utils/api\"\n  import UTILS from \"./../utils/utils\"\n  import {providerUrls} from './../utils/providerUrls'\n\n  export default {\n    name: \"UserLogin\",\n    computed: {\n      providerLoginUrl: () => providerUrls.login_url,\n      providerRegisterUrl: () => providerUrls.register_url\n    },\n    data() {\n      return {\n        email: \"\",\n        password: \"\",\n        email_register: '',\n        password_register: '',\n        password_confirm_register: '',\n        terms: null,\n        error: {\n          email: \"\",\n          password: \"\"\n        }\n      }\n    },\n    mounted() {\n      let self = this\n\n      if (UTILS.getLocalUser()) {\n        return self.$router.push({path: '/'})\n      }\n    },\n    methods: {\n      register: function () {\n        let self = this\n\n        fetch(API.getApi(API.AUTH.REGISTER), {\n          method: 'post',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            \"email\": self.email_register,\n            \"password\": self.password_register\n          })\n        })\n          .then(res => res.json())\n          .then(res => {\n            switch (res.status) {\n              case 200: {\n                res.data.user.token = \"bearer \" + res.data.token;\n                UTILS.setLocalUser(res.data.user);\n                self.$router.push({path: '/'})\n                return;\n              }\n              case 414: {\n                let errors = {}\n                Object.keys(res.message).forEach(index => {\n                  errors[index + '_register'] = res.message[index]\n                })\n\n                self.$refs.form_register.setErrors(errors)\n                return\n              }\n              default: {\n                if (res.message) {\n                  alert(res.message)\n                }\n              }\n            }\n          })\n          .catch(e => {\n            alert('Server unavailable!')\n          });\n      },\n      login: function () {\n        let self = this\n\n        fetch(API.getApi(API.AUTH.LOGIN), {\n          method: 'post',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            \"email\": this.email,\n            \"password\": this.password\n          })\n        })\n          .then(res => res.json())\n          .then(res => {\n            switch (res.status) {\n              case 200: {\n                res.data.user.token = \"bearer \" + res.data.token;\n                UTILS.setLocalUser(res.data.user);\n                self.$router.push({path: '/'})\n                return;\n              }\n              case 414: {\n                self.$refs.form_login.setErrors(res.message)\n                return\n              }\n              case 412: {\n                window.alert(res.message)\n                return;\n              }\n              default: {\n                this.error.password = \"email or password is incorrect\";\n                return;\n              }\n            }\n          }).catch(e => {\n          console.log(e)\n          alert('Server unavailable!')\n        });\n      },\n      loginWechat: function () {\n        alert(\"this function will be coming soon\")\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>"]}]}