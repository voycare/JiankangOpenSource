{"remainingRequest":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider-stg.hera.health/src/views/providers/ProviderLogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider-stg.hera.health/src/views/providers/ProviderLogin.vue","mtime":1593907636672},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBUEkgZnJvbSAiLi4vLi4vdXRpbHMvYXBpIgppbXBvcnQgVVRJTFMgZnJvbSAiLi4vLi4vdXRpbHMvdXRpbHMiCmltcG9ydCB7Y2xpZW50VXJsc30gZnJvbSAnLi4vLi4vdXRpbHMvY2xpZW50VXJscycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUHJvdmlkZXJMb2dpbiIsCiAgY29tcHV0ZWQ6IHsKICAgIGNsaWVudExvZ2luVXJsOiAoKSA9PiBjbGllbnRVcmxzLmxvZ2luX3VybCwKICAgIGNsaWVudFJlZ2lzdGVyVXJsOiAoKSA9PiBjbGllbnRVcmxzLnJlZ2lzdGVyX3VybAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICBlbWFpbF9yZWdpc3RlcjogJycsCiAgICAgIHBhc3N3b3JkX3JlZ2lzdGVyOiAnJywKICAgICAgcGFzc3dvcmRfY29uZmlybV9yZWdpc3RlcjogJycsCiAgICAgIHRlcm1zOiBmYWxzZSwKICAgICAgZXJyb3I6IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAoVVRJTFMuZ2V0TG9jYWxVc2VyKCkpIHsKICAgICAgLy8gd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiLyI7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICByZWdpc3RlcjogZnVuY3Rpb24gKCkgewogICAgICBsZXQgc2VsZiA9IHRoaXMKCiAgICAgIGZldGNoKEFQSS5nZXRBcGkoQVBJLkFVVEguUkVHSVNURVIpLCB7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICB9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICJlbWFpbCI6IHNlbGYuZW1haWxfcmVnaXN0ZXIsCiAgICAgICAgICAicGFzc3dvcmQiOiBzZWxmLnBhc3N3b3JkX3JlZ2lzdGVyCiAgICAgICAgfSkKICAgICAgfSkKICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSkKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgc3dpdGNoIChyZXMuc3RhdHVzKSB7CiAgICAgICAgICAgIGNhc2UgMjAwOiB7CiAgICAgICAgICAgICAgcmVzLmRhdGEudXNlci50b2tlbiA9ICJiZWFyZXIgIiArIHJlcy5kYXRhLnRva2VuOwogICAgICAgICAgICAgIFVUSUxTLnNldExvY2FsVXNlcihyZXMuZGF0YS51c2VyKTsKICAgICAgICAgICAgICAvLyB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICIvIgogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXNlIDQxNDogewogICAgICAgICAgICAgIGxldCBlcnJvcnMgPSB7fQogICAgICAgICAgICAgIE9iamVjdC5rZXlzKHJlcy5tZXNzYWdlKS5mb3JFYWNoKGluZGV4ID0+IHsKICAgICAgICAgICAgICAgIGVycm9yc1tpbmRleCArICdfcmVnaXN0ZXInXSA9IHJlcy5tZXNzYWdlW2luZGV4XQogICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgIHNlbGYuJHJlZnMuZm9ybV9yZWdpc3Rlci5zZXRFcnJvcnMoZXJyb3JzKQogICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgIH0sCiAgICBsb2dpbjogZnVuY3Rpb24gKCkgewogICAgICBsZXQgc2VsZiA9IHRoaXMKCiAgICAgIGZldGNoKEFQSS5nZXRBcGkoQVBJLkFVVEguTE9HSU4pLCB7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICB9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICJlbWFpbCI6IHRoaXMuZW1haWwsCiAgICAgICAgICAicGFzc3dvcmQiOiB0aGlzLnBhc3N3b3JkCiAgICAgICAgfSkKICAgICAgfSkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihyZXMgPT4gewogICAgICAgIHN3aXRjaCAocmVzLnN0YXR1cykgewogICAgICAgICAgY2FzZSAyMDA6IHsKICAgICAgICAgICAgcmVzLmRhdGEudXNlci50b2tlbiA9ICJiZWFyZXIgIiArIHJlcy5kYXRhLnRva2VuOwogICAgICAgICAgICBVVElMUy5zZXRMb2NhbFVzZXIocmVzLmRhdGEudXNlcik7CiAgICAgICAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIi8iCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGNhc2UgNDE0OiB7CiAgICAgICAgICAgIHNlbGYuJHJlZnMuZm9ybV9sb2dpbi5zZXRFcnJvcnMocmVzLm1lc3NhZ2UpCiAgICAgICAgICAgIHJldHVybgogICAgICAgICAgfQogICAgICAgICAgY2FzZSA0MTI6IHsKICAgICAgICAgICAgd2luZG93LmFsZXJ0KHJlcy5tZXNzYWdlKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICBkZWZhdWx0OiB7CiAgICAgICAgICAgIHRoaXMuZXJyb3IucGFzc3dvcmQgPSAiZW1haWwgb3IgcGFzc3dvcmQgaXMgaW5jb3JyZWN0IjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZSkKICAgICAgfSk7CiAgICB9LAogICAgbG9naW5XZWNoYXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgYWxlcnQoInRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjb21pbmcgc29vbiIpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["ProviderLogin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgJA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProviderLogin.vue","sourceRoot":"src/views/providers","sourcesContent":["<template>\n  <div>\n    <div class=\"mt-5 mb-4 text-center\">\n      <h2 class=\"text-primary text-400\">Welcome Providers!</h2>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-md-2\"></div>\n      <div class=\"col-sm-12 col-md-8 vertical-center\">\n        <div\n            style=\"border: 1px solid #C7C7C7; border-radius: 12px; background-color: white\">\n          <ul class=\"nav nav-tabs nav-tabs-bottom nav-justified pl-lg-200 pr-lg-200 pl-2 pr-2 mt-sm-50\"\n              style=\"border-bottom: 1px solid #C7C7C7;border-top: 0px;\">\n            <li class=\"nav-item\"><a class=\"nav-link active\" data-toggle=\"tab\" href=\"#tab-sign-in\">Sign\n              in</a></li>\n            <li class=\"nav-item\"><a class=\"nav-link text-nowrap\" data-toggle=\"tab\" href=\"#tab-sign-up\">Create\n              account</a></li>\n          </ul>\n\n          <div class=\"tab-content login--content pl-lg-200 pr-lg-200 pl-3 pr-3 mt-3\">\n            <div class=\"tab-pane show active\" id=\"tab-sign-in\">\n              <validation-observer ref=\"form_login\" v-slot=\"{invalid_login}\">\n                <form @submit.prevent=\"login\" class=\"form-material\" method=\"post\">\n                  <div class=\"form-group\">\n                    <validation-provider\n                        name=\"Email Address\"\n                        rules=\"required|email\"\n                        v-slot=\"{ errors }\"\n                        vid=\"email\">\n                      <input class=\"form-control\"\n                             placeholder=\"Email Address\" type=\"text\" v-model=\"email\">\n                      <span class=\"form-bar\"></span>\n                      <small class=\"text-danger text-sm-left\">{{ errors[0] }}</small>\n                    </validation-provider>\n                  </div>\n                  <div class=\"form-group\">\n                    <validation-provider\n                        name=\"Password\"\n                        rules=\"required|special\"\n                        v-slot=\"{ errors }\"\n                        vid=\"password\">\n                      <input class=\"form-control\" placeholder=\"Password\" type=\"password\"\n                             v-model=\"password\">\n                      <span class=\"form-bar\"></span>\n                      <small class=\"text-danger text-sm-left\">{{errors[0]}}</small>\n                    </validation-provider>\n                  </div>\n                  <div class=\"form-group\">\n                    <label><input style=\"margin-top: 2px\" type=\"checkbox\"> Remember me</label>\n                    <span class=\"text-right\" style=\"float: right\">\n                                            <router-link class=\"pink\"\n                                                         to=\"/forget-password\">Forgot your password?</router-link>\n                    </span>\n                  </div>\n\n                  <div class=\"form-group text-center\">\n                    <button :disabled=\"invalid_login\" class=\"btn btn-pink btn-round btn-block\"\n                            style=\"font-weight: bold\" type=\"submit\">\n                      Sign In\n                    </button>\n                  </div>\n                  <div class=\"text-center mb-5 mt-3\">\n                    I'm a Patient. Please sign in <a :href=\"clientLoginUrl\"\n                                                     class=\"pink bold\">HERE</a>.\n                  </div>\n                </form>\n              </validation-observer>\n            </div>\n            <div class=\"tab-pane\" id=\"tab-sign-up\">\n              <validation-observer ref=\"form_register\" v-slot=\"{invalid_register}\">\n                <form @submit.prevent=\"register\"\n                      class=\"form-material\"\n                      method=\"post\">\n                  <div class=\"form-group\">\n                    <validation-provider\n                        name=\"Email Address\"\n                        rules=\"required|email\"\n                        v-slot=\"{ errors }\"\n                        vid=\"email_register\">\n                      <input class=\"form-control\" placeholder=\"Email Address\" type=\"text\"\n                             v-model=\"email_register\">\n                      <!--<span class=\"form-bar\"></span>-->\n                      <small class=\"text-danger text-sm-left\">{{errors[0]}}</small>\n                    </validation-provider>\n                  </div>\n                  <div class=\"form-group\">\n                    <validation-provider\n                        name=\"Password\"\n                        rules=\"required|special\"\n                        v-slot=\"{ errors }\"\n                        vid=\"password_register\">\n                      <input class=\"form-control\" placeholder=\"Password\" type=\"password\"\n                             v-model=\"password_register\">\n                      <!--<span class=\"form-bar\"></span>-->\n                      <small class=\"text-danger text-sm-left\">{{errors[0]}}</small>\n                    </validation-provider>\n                  </div>\n                  <div class=\"form-group\">\n                    <validation-provider name=\"Re-enter Password\"\n                                         rules=\"required|special|confirmed:password_register\"\n                                         v-slot=\"{ errors }\"\n                                         vid=\"password_confirm_register\">\n                      <input class=\"form-control\"\n                             placeholder=\"Re-enter Password\"\n                             type=\"password\"\n                             v-model=\"password_confirm_register\">\n                      <!--<span class=\"form-bar\"></span>-->\n                      <small class=\"text-danger text-sm-left\">{{errors[0]}}</small>\n                    </validation-provider>\n                  </div>\n                  <div class=\"form-group\">\n                    <validation-provider\n                        name=\"Terms and Conditions\"\n                        rules=\"required\"\n                        v-slot=\"{ errors }\"\n                        vid=\"terms\">\n                      <label><input style=\"margin-top: 2px\" type=\"checkbox\" v-model=\"terms\"> I\n                        agree to\n                        the</label><a class=\"pink\" href=\"#\"> Terms and Conditions</a>\n                      <small class=\"text-danger text-sm-left\">{{errors[0]}}</small>\n                    </validation-provider>\n                  </div>\n                  <div class=\"form-group text-center\">\n                    <button :disabled=\"invalid_register\"\n                            class=\"btn btn-pink btn-round btn-block\"\n                            type=\"submit\">\n                      Create Account\n                    </button>\n                  </div>\n                  <div class=\"text-center mb-5 mt-3\">\n                    Are you a Patient? Create an account <a :href=\"clientRegisterUrl\"\n                                                            class=\"pink bold\">HERE</a>.\n                  </div>\n                </form>\n              </validation-observer>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-2\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import API from \"../../utils/api\"\n  import UTILS from \"../../utils/utils\"\n  import {clientUrls} from '../../utils/clientUrls'\n\n  export default {\n    name: \"ProviderLogin\",\n    computed: {\n      clientLoginUrl: () => clientUrls.login_url,\n      clientRegisterUrl: () => clientUrls.register_url\n    },\n    data() {\n      return {\n        email: \"\",\n        password: \"\",\n        email_register: '',\n        password_register: '',\n        password_confirm_register: '',\n        terms: false,\n        error: {\n          email: \"\",\n          password: \"\"\n        }\n      }\n    },\n    mounted() {\n      if (UTILS.getLocalUser()) {\n        // window.location.href = \"/\";\n      }\n    },\n    methods: {\n      register: function () {\n        let self = this\n\n        fetch(API.getApi(API.AUTH.REGISTER), {\n          method: 'post',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            \"email\": self.email_register,\n            \"password\": self.password_register\n          })\n        })\n          .then(res => res.json())\n          .then(res => {\n            switch (res.status) {\n              case 200: {\n                res.data.user.token = \"bearer \" + res.data.token;\n                UTILS.setLocalUser(res.data.user);\n                // window.location.href = \"/\"\n                return;\n              }\n              case 414: {\n                let errors = {}\n                Object.keys(res.message).forEach(index => {\n                  errors[index + '_register'] = res.message[index]\n                })\n\n                self.$refs.form_register.setErrors(errors)\n                return\n              }\n            }\n          })\n      },\n      login: function () {\n        let self = this\n\n        fetch(API.getApi(API.AUTH.LOGIN), {\n          method: 'post',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            \"email\": this.email,\n            \"password\": this.password\n          })\n        }).then(res => res.json()).then(res => {\n          switch (res.status) {\n            case 200: {\n              res.data.user.token = \"bearer \" + res.data.token;\n              UTILS.setLocalUser(res.data.user);\n              // window.location.href = \"/\"\n              return;\n            }\n            case 414: {\n              self.$refs.form_login.setErrors(res.message)\n              return\n            }\n            case 412: {\n              window.alert(res.message)\n              return;\n            }\n            default: {\n              this.error.password = \"email or password is incorrect\";\n              return;\n            }\n          }\n        }).catch(e => {\n          console.log(e)\n        });\n      },\n      loginWechat: function () {\n        alert(\"this function will be coming soon\")\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n"]}]}