{"remainingRequest":"/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider.voycare.com/src/views/admin/ClinicEdit.vue?vue&type=style&index=0&id=5f904000&scoped=true&lang=css&","dependencies":[{"path":"/var/www/provider.voycare.com/src/views/admin/ClinicEdit.vue","mtime":1596630773555},{"path":"/var/www/provider.voycare.com/node_modules/css-loader/dist/cjs.js","mtime":1596630687928},{"path":"/var/www/provider.voycare.com/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1596630687835},{"path":"/var/www/provider.voycare.com/node_modules/postcss-loader/src/index.js","mtime":1596630674284},{"path":"/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js","mtime":1596630677130},{"path":"/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js","mtime":1596630687836}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnRpdGxlLTIyIHsKICBjb2xvcjogIzAyMDY0NDsKfQpsYWJlbCB7CiAgZm9udC13ZWlnaHQ6IDUwMDsKfQppbnB1dCB7CiAgY29sb3I6ICNlYjYyNzE7Cn0Kc2VsZWN0LmZvcm0tY29udHJvbCwKc2VsZWN0LmZvcm0tY29udHJvbDpmb2N1cywKc2VsZWN0LmZvcm0tY29udHJvbDpob3ZlciB7CiAgYm9yZGVyLXJhZGl1czogMHB4OwogIC8qIGJvcmRlci13aWR0aDogMXB4OwogIGJvcmRlci1zdHlsZTogc29saWQ7CiAgYm9yZGVyLWNvbG9yOiAtaW50ZXJuYWwtbGlnaHQtZGFyay1jb2xvcigKICAgIHJnYigxMTgsIDExOCwgMTE4KSwKICAgIHJnYigxOTUsIDE5NSwgMTk1KQogICk7ICovCiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNjY2NjY2M7CiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjY2NjY2NjOwogIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNjY2NjY2M7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2NjY2M7CiAgYm9yZGVyLWltYWdlOiBpbml0aWFsOwp9CnNlbGVjdC5mb3JtLWNvbnRyb2w6bm90KFtzaXplXSk6bm90KFttdWx0aXBsZV0pIHsKICBoZWlnaHQ6IDQwcHg7Cn0KLmxhbmd1YWdlLWJ0bnsKICBiYWNrZ3JvdW5kOiAjRTVFNUU1OwogIGNvbG9yOiAjRUI2MjcxOwogIGZvbnQtc2l6ZTogMTVweDsKICBmb250LXdlaWdodDogNTAwOwogIHBvc2l0aW9uOnJlbGF0aXZlOwogIHdpZHRoOiBhdXRvOwp9Ci5sYW5ndWFnZS1idG4+aW1newogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiAwOwogIHJpZ2h0OiAwOwogIG1hcmdpbjogMCBhdXRvOwogIHZpc2liaWxpdHk6IGhpZGRlbjsKfQoubGFuZ3VhZ2UtYnRuX2hvdmVyZWR7CiAgYmFja2dyb3VuZC1jb2xvcjogIzQzNDM0MzsKfQoubGFuZ3VhZ2UtYnRuLWltZ19ob3ZlcmVkewogIHZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDsKfQouY2VydGlmaWNhdGUtLXRodW1iewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7CiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKfQouY2VydGlmaWNhdGUtLXRodW1iICNkZWxldGVJY29uewogIGN1cnNvcjogcG9pbnRlcjsKfQouYnRuLXNhdmV7CiAgICBiYWNrZ3JvdW5kOiAjRUI2MjcxOwogICAgd2lkdGg6IDI1MHB4OwogICAgaGVpZ2h0OiA0NXB4OwogICAgY29sb3I6IHdoaXRlOwogICAgZm9udC1zaXplOiAxOHB4Owp9Ci5jZXJ0aWZpY2F0ZS1kaXZ7CiAgYm9yZGVyLWJvdHRvbTogMC41cHggc29saWQgIzQzNDM0MzsKfQo="},{"version":3,"sources":["ClinicEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ClinicEdit.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\n  <div>\n    <router-link :to=\"'/clinics/' + id\">\n      <p class=\"title-18\">\n        <i class=\"fa fa-arrow-left mr-3\"></i>Back to Clinic Profile\n      </p>\n    </router-link>\n\n    <p class=\"title-22 mt-4\">Edit Clinic Profile</p>\n\n    <div v-if=\"clinic\">\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <h3 class=\"title-18\" style=\"color: #434343;\">Clinic Information</h3>\n\n          <div class=\"row\">\n            <div class=\"col-sm-3\">\n              <PhotoEdit :avatar_url=\"clinic.avatar\" @onChangeAvatar=\"onChangeAvatar\"></PhotoEdit>\n\n              <p class=\"desc-15\">No more than 2MB max.</p>\n              <p class=\"desc-15\">Format: JPG or PNG</p>\n            </div>\n            <div class=\"col-sm-9\">\n              <div class=\"row\">\n                <div class=\"col-sm-12\">\n                  <div class=\"form-group\">\n                    <label>Name of practice or clinic</label>\n                    <input class=\"form-control\" readonly=\"true\" type=\"text\" v-model=\"clinic.name\" />\n                  </div>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col-sm-6 form-group\">\n                  <label>Type of practice or clinic</label>\n                  <input\n                    class=\"form-control\"\n                    readonly=\"true\"\n                    type=\"text\"\n                    v-model=\"clinic.profile.type_clinic\"\n                  />\n                </div>\n                <div class=\"col-sm-6 form-group\">\n                  <label>Speciality</label>\n                  <!-- <b-form-select v-model=\"clinic.specialty_id\" class=\"form-control\">\n                    <b-form-select-option\n                      v-for=\"(spec, id) in appt_specialty\"\n                      :key=\"id\"\n                      :value=\"id\"\n                    >{{spec}}</b-form-select-option>\n                  </b-form-select>-->\n                  <select class=\"form-control\" v-model=\"clinic.profile.specialty_id\">\n                    <option value=\"null\">Select</option>\n                    <option :key=\"id\" :value=\"id\" v-for=\"(spec, id) in appt_specialty\">{{ spec }}</option>\n                  </select>\n                </div>\n              </div>\n\n              <div class=\"row\">\n                <div class=\"col-sm-6 form-group\">\n                  <label for>Email address</label>\n                  <input class=\"form-control\" readonly type=\"email\" v-model=\"clinic.email\" />\n                </div>\n\n                <div class=\"col-sm-6 form-group\">\n                  <label for>Phone number</label>\n                  <input class=\"form-control\" readonly type=\"text\" v-model=\"clinic.phone\" />\n                </div>\n              </div>\n\n              <div class=\"row\">\n                <div class=\"col-sm-6 form-group\">\n                  <label for>Contact Person</label>\n                  <input class=\"form-control\" readonly type=\"text\" v-model=\"clinic.profile.contact_person\" />\n                </div>\n\n                <div class=\"col-sm-6 form-group\">\n                  <label for>Title</label>\n                  <input class=\"form-control\" readonly type=\"text\" v-model=\"clinic.profile.title\" />\n                </div>\n              </div>\n              <label for>Clinic address</label>\n              <div class=\"row\">\n                <div class=\"col-sm-6 form-group\">\n                  <input\n                    class=\"form-control\"\n                    placeholder=\"Street line 1\"\n                    type=\"text\"\n                    v-model=\"clinic.address.street_line_1\"\n                  />\n                </div>\n\n                <div class=\"col-sm-6 form-group\">\n                  <input\n                    class=\"form-control\"\n                    placeholder=\"Street line 2\"\n                    type=\"text\"\n                    v-model=\"clinic.address.street_line_2\"\n                  />\n                </div>\n              </div>\n\n              <div class=\"row\">\n                <div class=\"col-sm-4 form-group\">\n                  <label for></label>\n                  <input\n                    class=\"form-control\"\n                    placeholder=\"City\"\n                    type=\"text\"\n                    v-model=\"clinic.address.city\"\n                  />\n                </div>\n\n                <div class=\"col-sm-4 form-group\">\n                  <label for></label>\n                  <input\n                    class=\"form-control\"\n                    placeholder=\"State/Province\"\n                    type=\"text\"\n                    v-model=\"clinic.address.state\"\n                  />\n                </div>\n\n                <div class=\"col-sm-4 form-group\">\n                  <label for></label>\n                  <input\n                    class=\"form-control\"\n                    placeholder=\"State/Province\"\n                    readonly\n                    type=\"text\"\n                    v-model=\"clinic.address.country\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <h3 class=\"title-18\">Clinic Profile</h3>\n          <textarea class=\"form-control\" cols=\"30\" rows=\"10\" v-model=\"clinic.profile.description\"></textarea>\n        </div>\n      </div>\n\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <h3 class=\"title-18\">Languages Spoken</h3>\n\n          <div class=\"form-inline\">\n            <button\n              :key=\"language.id\"\n              class=\"btn mr-4 language-btn\"\n              v-for=\"language in clinic.languages\"\n              @mouseenter=\"languageHovered = language\"\n              @mouseleave=\"languageHovered = null\"\n              :class=\"{'language-btn_hovered': languageHovered === language}\"\n            >\n            <span>{{ language.language }}</span>\n            <img :class=\"{'language-btn-img_hovered': languageHovered === language}\" \n              @click=\"onClinicLanguageRemove(language.id)\"\n              src=\"@/assets/trash-bin.svg\"  />\n            </button>\n\n            <select\n              @change=\"onClinicLanguageSave\"\n              class=\"form-control mr-2\"\n              v-if=\"toggle_country\"\n              v-model=\"country_selected\"\n            >\n             <option value=\"null\">Language</option> \n              <option\n                :key=\"country.id\"\n                :value=\"country.name\"\n                v-for=\"country in countries\"\n              >{{ country.name }}</option>\n            </select>\n\n            <button @click=\"toggle_country = true\" class=\"btn btn-link\" style=\"color: #EB6271;\">\n              <i class=\"fa fa-plus\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <h3 class=\"title-18\">Awards / Certifications</h3>\n          <div\n            :key=\"certificate.id\"\n            class=\"border--bottom mt-2 mb-2\"\n            v-for=\"(certificate, index) in clinic.certificates\"\n          >\n            <label for>Title of certificate</label>\n            <div class=\"row certificate-div\">\n              <div class=\"col-sm-8\">\n                <div class=\"row\">\n                  <div class=\"col-sm-6\">\n                    <div class=\"form-group\">\n                      <input\n                        class=\"form-control\"\n                        placeholder=\"Title\"\n                        type=\"text\"\n                        v-model=\"certificate.name\"\n                      />\n                    </div>\n                  </div>\n                  <div class=\"col-sm-6\">\n                    <div class=\"form-group\">\n                      <input\n                        @change=\"takeCertificatePhoto($event, index)\"\n                        accept=\"image/*\"\n                        capture=\"environment\"\n                        class=\"form-control\"\n                        placeholder=\"Upload certificate\"\n                        type=\"file\"\n                      />\n                      <small>No more than 2MB max.</small><br/>\n                      <small>Format: JPG or PNG</small>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"col-sm-6\">\n                    <div class=\"form-group\">\n                      <label for>Issuer of certificate</label>\n                      <input\n                        class=\"form-control\"\n                        placeholder=\"Issuer\"\n                        type=\"text\"\n                        v-model=\"certificate.description\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-sm-4\">\n                <div class=\"certificate--thumb\">\n                  <img :src=\"certificate.path\" v-if=\"certificate.path\" width=\"125\" />\n                  <img class=\"no-avatar\" src=\"https://via.placeholder.com/125x170\" v-else />\n                  <img id=\"deleteIcon\" src=\"@/assets/trash-bin-dark.svg\" /> \n                </div>\n                \n              </div>\n            </div>\n          </div>\n          \n\n          <div class=\"row\">\n            <div class=\"col-sm-12 text-right\">\n              <button @click=\"onAddCertificate\" class=\"btn btn-link\" style=\"color: #EB6271;\">\n                <i class=\"fa fa-plus\"></i>Add Certificate\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n\n      <div class=\"text-center mb-5\">\n        <button @click=\"onSave\" class=\"btn btn-round btn-save\">Save</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\n\nimport Const from \"./../../utils/const\";\nimport rf from \"../../api/RequestFactory\";\nimport PhotoEdit from \"../../components/PhotoEdit\";\n\nexport default {\n  components: {\n    PhotoEdit\n  },\n  data() {\n    return {\n      Const,\n      id: null,\n      clinic: null,\n      imgSrc: \"\",\n      toggle_country: false,\n      country_selected: null,\n      languageHovered: null\n    };\n  },\n  computed: {\n    ...mapGetters([\"countries\", \"appt_specialty\"])\n  },\n  methods: {\n    onClinicLanguageRemove(id) {\n      let self = this;\n\n      let r = confirm(\"Are you want to remove this clinic?\");\n      if (r == true) {\n        rf.getRequest(\"AdminRequest\")\n          .postClinicLanguageRemove(id, {})\n          .then(res => {\n            self.$store.dispatch(\"app/showModal\", { message: res.message });\n\n            self.getDetail();\n          });\n      }\n    },\n    onClinicLanguageSave() {\n      let self = this;\n      const params = {\n        language: self.country_selected.trim()\n      };\n\n      rf.getRequest(\"AdminRequest\")\n        .postClinicLanguageUpdate(self.id, params)\n        .then(res => {\n          self.$store.dispatch(\"app/showModal\", { message: res.message });\n\n          self.getDetail();\n          self.country_selected = null;\n          self.toggle_country = false;\n        });\n    },\n    onSave() {\n      let self = this;\n      const params = {\n        clinic: self.clinic\n      };\n\n      rf.getRequest(\"AdminRequest\")\n        .postClinicUpdate(self.id, params)\n        .then(res => {\n          self.$store.dispatch(\"app/showModal\", { message: res.message });\n          self.clinic = res.data;\n        });\n    },\n    onChangeAvatar(imgSrc) {\n      this.imgSrc = imgSrc;\n    },\n    getDetail() {\n      let self = this;\n      rf.getRequest(\"AdminRequest\")\n        .getClinic(self.id)\n        .then(res => {\n          self.clinic = res.data;\n        });\n    },\n    takeCertificatePhoto(e, index) {\n      let self = this;\n      const file = e.target.files[0];\n      const reader = new FileReader();\n      reader.onload = event => {\n        self.clinic.certificates[index].path = event.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    onAddCertificate() {\n      let self = this;\n\n      if (self.clinic) {\n        self.clinic.certificates.push({\n          name: \"\",\n          description: \"\",\n          clinic_id: self.clinic.id,\n          path: \"\"\n        });\n      }\n    }\n  },\n  mounted() {\n    let self = this;\n\n    self.id = parseInt(this.$route.params.id);\n\n    self.$store.dispatch(\"getCountries\");\n    self.$store.dispatch(\"getAppointmentMetas\");\n    self.getDetail();\n  }\n};\n</script>\n\n<style scoped>\n.title-22 {\n  color: #020644;\n}\nlabel {\n  font-weight: 500;\n}\ninput {\n  color: #eb6271;\n}\nselect.form-control,\nselect.form-control:focus,\nselect.form-control:hover {\n  border-radius: 0px;\n  /* border-width: 1px;\n  border-style: solid;\n  border-color: -internal-light-dark-color(\n    rgb(118, 118, 118),\n    rgb(195, 195, 195)\n  ); */\n  border-top: 1px solid #cccccc;\n  border-left: 1px solid #cccccc;\n  border-right: 1px solid #cccccc;\n  border-bottom: 1px solid #cccccc;\n  border-image: initial;\n}\nselect.form-control:not([size]):not([multiple]) {\n  height: 40px;\n}\n.language-btn{\n  background: #E5E5E5;\n  color: #EB6271;\n  font-size: 15px;\n  font-weight: 500;\n  position:relative;\n  width: auto;\n}\n.language-btn>img{\n  position: absolute;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  visibility: hidden;\n}\n.language-btn_hovered{\n  background-color: #434343;\n}\n.language-btn-img_hovered{\n  visibility: visible !important;\n}\n.certificate--thumb{\n  display: flex;\n  justify-content: space-evenly;\n  vertical-align: middle;\n}\n.certificate--thumb #deleteIcon{\n  cursor: pointer;\n}\n.btn-save{\n    background: #EB6271;\n    width: 250px;\n    height: 45px;\n    color: white;\n    font-size: 18px;\n}\n.certificate-div{\n  border-bottom: 0.5px solid #434343;\n}\n</style>\n"]}]}