{"remainingRequest":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider-stg.hera.health/src/components/AppointmentDetailTable.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/var/www/provider-stg.hera.health/src/components/AppointmentDetailTable.vue","mtime":1593024587259},{"path":"/var/www/provider-stg.hera.health/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgp0YWJsZS1tYXJnaW4gewogICAgbWFyZ2luLWxlZnQ6IDgwcHggIWltcG9ydGFudDsKICAgIG1hcmdpbi10b3A6IDQxcHggIWltcG9ydGFudDsKfQouY2FyZCB7CiAgICB3aWR0aDogOTUwcHg7Cn0KLndpZHRoLWNhcmQgewogICAgd2lkdGg6IDgwMHB4Owp9Cg=="},{"version":3,"sources":["AppointmentDetailTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AppointmentDetailTable.vue","sourceRoot":"src/components","sourcesContent":["<template >\n            <div class=\"card-body\">\n                <table style=\"margin-left: 80px; margin-top: 41px\" class=\"table mb-0 border-0 appt--detail table-margin width-card\">\n                    <tbody>\n                    <tr>\n                        <td class=\"title-15 appt--labels\">Appt. No:</td>\n                        <td class=\"title-15\">{{ appt.id | convertAppointmentID }}</td>\n                        <td class=\"title-15 appt--labels\">Status:</td>\n                        <td class=\"title-15\"><span\n                                :class=\"Const.STATUS.intToStatusClass( appt.status , 'text')\">{{ Const.STATUS.intToString( appt.status ) }}</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"title-15 appt--labels\">Order Date:</td>\n                        <td class=\"title-15\">{{ appt.created_at }}</td>\n                        <td class=\"title-15 appt--labels\">Type:</td>\n                        <td class=\"title-15\">{{ appt_types[appt.type] }}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"title-15 appt--labels\">Appt. Date:</td>\n                        <td class=\"title-15\">{{ appt.date|convertTimeSecondToDate }}</td>\n                        <td class=\"title-15 appt--labels\">Appt. Time:</td>\n                        <td class=\"title-15\">{{ appt.date|convertDateToTime }}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"title-15 appt--labels  pb-20\">Specialty:</td>\n                        <td class=\"title-15 pb-20\">{{ appt_specialty[appt.specialty_id] }}</td>\n                        <td class=\"title-15 appt--labels pb-20\">Treatment:</td>\n                        <td class=\"title-15 pb-20\">{{ appt_treatment[appt.treatment_id] }}</td>\n                    </tr>\n                    <tr v-if=\"isClient\">\n                        <td class=\"title-15 appt--labels\">Clinic:</td>\n                        <td class=\"title-15\">Clinic {{ appt.clinic.name }}</td>\n                        <td class=\"title-15 appt--labels\">Country:</td>\n                        <td class=\"title-15\">{{ appt.clinic.country }}</td>\n                    </tr>\n                    <tr v-if=\"! isClient\">\n                        <td class=\"title-15 appt--labels border-top pt-20\">Clinic:</td>\n                        <td class=\"title-15 border-top pt-20\">{{ appt.clinic.name }}</td>\n                        <td class=\"title-15 appt--labels border-top pt-20\">Country:</td>\n                        <td class=\"title-15 border-top pt-20\">{{ appt.clinic.country }}</td>\n                    </tr>\n                    <tr v-if=\"! isClient\">\n                        <td class=\"title-15 appt--labels border-bottom pb-20\">Email:</td>\n                        <td class=\"title-15 border-bottom pb-20\">{{ appt.clinic.email }}</td>\n                        <td class=\"title-15 appt--labels border-bottom pb-20\">Phone:</td>\n                        <td class=\"title-15 border-bottom pb-20\">{{ appt.clinic.phone }}</td>\n                    </tr>\n                    <tr v-if=\"! isClient\">\n                        <td class=\"title-15 appt--labels border-top pt-20\">Client:</td>\n                        <td class=\"title-15 border-top pt-20\">{{ appt.client.name }}</td>\n                        <td class=\"title-15 appt--labels border-top pt-20\">Country:</td>\n                        <td class=\"title-15 border-top pt-20\">{{ appt.client.country }}</td>\n                    </tr>\n                    <tr v-if=\"! isClient\">\n                        <td class=\"title-15 appt--labels\">Gender:</td>\n                        <td class=\"title-15\">{{ appt.client.gender }}</td>\n                        <td class=\"title-15 appt--labels\">Age:</td>\n                        <td class=\"title-15\">{{ appt.client.age }}</td>\n                    </tr>\n                    <tr v-if=\"! isClient\">\n                        <td class=\"title-15 appt--labels border-bottom pb-20\">Email:</td>\n                        <td class=\"title-15 border-bottom pb-20\">{{ appt.client.email }}</td>\n                        <td class=\"title-15 appt--labels border-bottom pb-20\">Phone:</td>\n                        <td class=\"title-15 border-bottom pb-20\">{{ appt.client.phone }}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"title-15 appt--labels pt-20\">Specialty:</td>\n                        <td class=\"title-15 pt-20\">{{ appt_specialty[appt.specialty_id] }}</td>\n                        <td class=\"title-15 appt--labels pt-20\">Treatment:</td>\n                        <td class=\"title-15 pt-20\">{{ appt_treatment[appt.treatment_id] }}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"title-15 appt--labels pb-20\">Type:</td>\n                        <td class=\"title-15 pb-20\">{{ appt_types[appt.type] }}</td>\n                    </tr>\n                    <tr>\n                        <td class=\"title-15 appt--labels border-top pt-20 pb-20\">Interpreter:\n                            <div></div>\n                        </td>\n                        <td class=\"title-15 border-top pt-20 pb-20\">\n                            <div v-if=\"is_edit_interpreter\">\n                                <select v-model=\"interpreter_id\" class=\"form-control\">\n                                    <option v-for=\"interpreter in interpreters\" :key=\"interpreter.id\" :value=\"interpreter.id\" :selected=\"appt.interpreter_id == interpreter_id\">{{ interpreter.name }}</option>\n                                </select>\n                            </div>\n                            <div v-else>\n                                <span>{{ appt.interpreter.name }}</span>\n                            </div>\n                        </td>\n                        <td class=\"title-15 appt--labels border-top pt-20 pb-20\">\n                            Language:\n                            <button class=\"btn btn-link\" @click=\"is_edit_interpreter = ! is_edit_interpreter\"><i class=\"fa fa-pencil\"></i>Edit</button>\n                        </td>\n                        <td class=\"title-15 border-top pt-20 pb-20\">\n                            <div v-if=\"appt.interpreter\">\n                                <span>{{ appt_languages[appt.interpreter.language] }}</span>\n                            </div>\n                            <div v-else>\n                                <span>-</span>\n                            </div>\n                        </td>\n                    </tr>\n                    <tr v-if=\"is_edit_interpreter\">\n                        <td colspan=\"2\" class=\"text-center\">\n                            <button class=\"btn btn-pink\" @click=\"onSaveInterpreter\">Save</button>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"title-15 appt--labels border-bottom pt-20 pb-20\">Name:</td>\n                        <td class=\"title-15 pt-20 pb-20 border-bottom\">\n                            <span v-if=\"appt.interpreter\">{{ appt.interpreter.name }}</span>\n                            <span v-else>-</span>\n                        </td>\n                        <td class=\"title-15 appt--labels border-bottom pt-20 pb-20\">Phone:</td>\n                        <td class=\"title-15 border-bottom pt-20 pb-20\">\n                            <span v-if=\"appt.interpreter\">{{ appt.interpreter.phone }}</span>\n                            <span v-else>-</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td colspan=\"4\" class=\"title-15 border-top border-bottom pt-20 pb-20\">\n                            <span class=\"appt--labels\">Supporting Documents:</span>\n                            <ul v-if=\"documents.length\">\n                                <li v-for=\"document in documents\" :key=\"document.id\">\n                                    <a v-if=\"document.type == 'support'\" :href=\"document.path\" download>{{ document.name }}</a>\n                                </li>\n                            </ul>\n                        </td>\n                    </tr>\n                    <tr v-if=\"! isClient\">\n                        <td colspan=\"4\" class=\"title-15 border-top pt-20 pb-20\">\n                            <span class=\"appt--labels\">Supporting Documents Translating:</span>\n                        </td>\n                    </tr>\n                    <tr v-if=\"! isClient\">\n                        <td colspan=\"4\" class=\"title-15 border-top pt-20 pb-20\">\n                            <a href=\"javascript:void(0)\" @click=\"onAddDocumentClick\">Add translated documents</a>\n                            <input id=\"file__upload\" type=\"file\" style=\"display: none\" ref=\"document\" v-on:change=\"onUploadDocument\">\n\n                            <ul v-if=\"documents.length\">\n                                <li v-for=\"document in documents\" :key=\"document.id\">\n                                    <div v-if=\"document.type == 'translate'\">\n                                        <span>{{ document.name }}</span>\n                                        <a :href=\"document.path\" download class=\"btn btn-link\">View</a>\n                                        <a href=\"javascript:void(0)\" @click=\"onRemoveDocument(document.id)\">Delete</a>\n                                    </div>\n                                </li>\n                            </ul>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td colspan=\"4\" class=\"title-15 border-top border-bottom pt-20 pb-20\">\n                            <div class=\"mb-10 appt--labels\">Additional Notes:</div>\n                            <p class=\"desc-15\" v-if=\"! is_edit_note\">{{ appt.note }}</p>\n                            <div v-if=\"is_edit_note\">\n                                <textarea v-model=\"note\" class=\"form-control\" cols=\"30\" rows=\"5\"></textarea>\n                                <div class=\"text-center\">\n                                    <button class=\"btn btn-primary btn-rounded\" @click=\"onSaveNote\">Save</button>\n                                </div>\n                            </div>\n                            <button class=\"btn btn-link\" @click=\"onEditNote\">Edit</button>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n\n</template>\n\n<script>\n  import rf from \"./../api/RequestFactory\"\n  import Const from \"./../utils/const\"\n  import {mapGetters} from 'vuex'\n\n  export default {\n    props: ['isClient'],\n    data() {\n      return {\n        Const,\n        is_edit_note: false,\n        is_edit_interpreter: false,\n        note: '',\n        document: null,\n        documents: [],\n        interpreters: [],\n        interpreter_id: null\n      }\n    },\n    computed: {\n      ...mapGetters(['appt_specialty', 'appt_treatment', 'appt_types', 'appt_languages', 'appt'])\n    },\n    mounted() {\n      let self = this\n      self.note = self.appt.note\n\n      self.$store.dispatch('getCountries')\n      self.$store.dispatch('getAppointmentMetas')\n\n      rf.getRequest('AdminRequest').getAppointmentInterpreters().then(res => {\n        self.interpreters = res.data\n      })\n\n      self.onRefresh()\n    },\n    methods: {\n      onRefresh() {\n        let self = this\n\n        rf.getRequest('AdminRequest').getAppointmentDocuments(self.appt.id).then(res => {\n          self.documents = res.data\n        })\n      },\n      onAddDocumentClick() {\n        let self = this\n\n        window.$('#file__upload').trigger('click')\n      },\n      onEditNote() {\n        let self = this\n\n        self.is_edit_note = true\n      },\n      onSaveNote() {\n        let self = this\n\n        rf.getRequest('AdminRequest').postAppointmentNote(self.appt.id, {note: self.note}).then((res) => {\n          self.is_edit_note = false\n\n          self.onRefresh()\n          self.$emit('onRefresh')\n        })\n      },\n      onSaveInterpreter() {\n        let self = this\n\n        rf.getRequest('AdminRequest').postAppointmentInterpreter(self.appt.id, {interpreter_id: self.interpreter_id}).then(res => {\n          self.is_edit_interpreter = false\n\n          self.onRefresh()\n          self.$emit('onRefresh')\n        })\n      },\n      onUploadDocument() {\n        let self = this\n        self.document = self.$refs.document.files[0]\n\n        if (self.document) {\n          let formData = new FormData()\n          formData.append('type', 'translate')\n          formData.append('doc', self.document)\n\n          rf.getRequest('AdminRequest').postAppointmentUploadDocument(self.appt.id, formData).then(res => {\n            self.onRefresh()\n            self.$emit('onRefresh')\n          })\n        }\n      },\n      onRemoveDocument(id) {\n        let self = this\n        rf.getRequest('AdminRequest').postAppointmentRemoveDocument(id).then(res => {\n          self.onRefresh()\n          self.$emit('onRefresh')\n        })\n      }\n    }\n  }\n</script>\n<style>\n    table-margin {\n        margin-left: 80px !important;\n        margin-top: 41px !important;\n    }\n    .card {\n        width: 950px;\n    }\n    .width-card {\n        width: 800px;\n    }\n</style>"]}]}