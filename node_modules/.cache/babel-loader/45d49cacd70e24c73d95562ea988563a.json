{"remainingRequest":"/var/www/provider-stg.hera.health/node_modules/thread-loader/dist/cjs.js!/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js!/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider-stg.hera.health/src/views/clients/PaymentDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider-stg.hera.health/src/views/clients/PaymentDetail.vue","mtime":1591913440913},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGh0bWwyY2FudmFzIGZyb20gJ2h0bWwyY2FudmFzJzsKaW1wb3J0IGpzUERGIGZyb20gJ2pzcGRmJzsKaW1wb3J0IHByaW50SlMgZnJvbSAncHJpbnQtanMnOwppbXBvcnQgcmYgZnJvbSAiLi4vLi4vYXBpL1JlcXVlc3RGYWN0b3J5IjsKaW1wb3J0IENvbnN0IGZyb20gIi4vLi4vLi4vdXRpbHMvY29uc3QiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByaW50SlM6IHByaW50SlMsCiAgICAgIENvbnN0OiBDb25zdCwKICAgICAgcGF5bWVudDogbnVsbAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgaWQgPSBwYXJzZUludCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogICAgcmYuZ2V0UmVxdWVzdCgnVXNlclJlcXVlc3QnKS5nZXRQYXltZW50RGV0YWlsKGlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgc2VsZi5wYXltZW50ID0gcmVzLmRhdGE7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uRG93bmxvYWRQREY6IGZ1bmN0aW9uIG9uRG93bmxvYWRQREYoKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgaHRtbDJjYW52YXMoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3BheW1lbnRfX2Zvcm0iKSkudGhlbihmdW5jdGlvbiAoY2FudmFzKSB7CiAgICAgICAgdmFyIHBkZiA9IHNlbGYuZ2V0UERGKGNhbnZhcyk7CiAgICAgICAgcGRmLnNhdmUoImludm9pY2UucGRmIik7CiAgICAgIH0pOwogICAgfSwKICAgIG9uUHJpbnRKUzogZnVuY3Rpb24gb25QcmludEpTKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIGh0bWwyY2FudmFzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNwYXltZW50X19mb3JtIikpLnRoZW4oZnVuY3Rpb24gKGNhbnZhcykgewogICAgICAgIHZhciBpbWdEYXRhID0gY2FudmFzLnRvRGF0YVVSTCgiaW1hZ2UvanBlZyIsIDEpOyAvLyB3aW5kb3cub3BlbihwZGYub3V0cHV0KCdibG9idXJsJyksICdfYmxhbmsnKTsKCiAgICAgICAgcHJpbnRKUyh7CiAgICAgICAgICBwcmludGFibGU6IGltZ0RhdGEsCiAgICAgICAgICB0eXBlOiAnaW1hZ2UnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFBERjogZnVuY3Rpb24gZ2V0UERGKGNhbnZhcykgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHZhciBpbWdEYXRhID0gY2FudmFzLnRvRGF0YVVSTCgiaW1hZ2UvanBlZyIsIDEpOwogICAgICB2YXIgcGRmID0gbmV3IGpzUERGKCJwIiwgIm1tIiwgImE0Iik7CiAgICAgIHZhciBwYWdlV2lkdGggPSBwZGYuaW50ZXJuYWwucGFnZVNpemUuZ2V0V2lkdGgoKTsKICAgICAgdmFyIHBhZ2VIZWlnaHQgPSBwZGYuaW50ZXJuYWwucGFnZVNpemUuZ2V0SGVpZ2h0KCk7CiAgICAgIHZhciBpbWFnZVdpZHRoID0gY2FudmFzLndpZHRoOwogICAgICB2YXIgaW1hZ2VIZWlnaHQgPSBjYW52YXMuaGVpZ2h0OwogICAgICB2YXIgcmF0aW8gPSBpbWFnZVdpZHRoIC8gaW1hZ2VIZWlnaHQgPj0gcGFnZVdpZHRoIC8gcGFnZUhlaWdodCA/IHBhZ2VXaWR0aCAvIGltYWdlV2lkdGggOiBwYWdlSGVpZ2h0IC8gaW1hZ2VIZWlnaHQ7CiAgICAgIHBkZi5hZGRJbWFnZShpbWdEYXRhLCAnSlBFRycsIDAsIDAsIGltYWdlV2lkdGggKiByYXRpbywgaW1hZ2VIZWlnaHQgKiByYXRpbyk7CiAgICAgIHJldHVybiBwZGY7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["PaymentDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA,OAAA,WAAA,MAAA,aAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,OAAA,MAAA,UAAA;AACA,OAAA,EAAA,MAAA,0BAAA;AACA,OAAA,KAAA,MAAA,qBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,OADA;AAEA,MAAA,KAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,OARA,qBAQA;AACA,QAAA,IAAA,GAAA,IAAA;AACA,QAAA,EAAA,GAAA,QAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,CAAA;AAEA,IAAA,EAAA,CAAA,UAAA,CAAA,aAAA,EAAA,gBAAA,CAAA,EAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,IAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA;AACA,KAFA;AAGA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,UAAA,IAAA,GAAA,IAAA;AAEA,MAAA,WAAA,CAAA,QAAA,CAAA,aAAA,CAAA,gBAAA,CAAA,CAAA,CAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,YAAA,GAAA,GAAA,IAAA,CAAA,MAAA,CAAA,MAAA,CAAA;AACA,QAAA,GAAA,CAAA,IAAA,CAAA,aAAA;AACA,OAHA;AAIA,KARA;AASA,IAAA,SATA,uBASA;AACA,UAAA,IAAA,GAAA,IAAA;AAEA,MAAA,WAAA,CAAA,QAAA,CAAA,aAAA,CAAA,gBAAA,CAAA,CAAA,CAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,YAAA,OAAA,GAAA,MAAA,CAAA,SAAA,CAAA,YAAA,EAAA,CAAA,CAAA,CADA,CAEA;;AACA,QAAA,OAAA,CAAA;AACA,UAAA,SAAA,EAAA,OADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA,CAAA;AAIA,OAPA;AAQA,KApBA;AAqBA,IAAA,MArBA,kBAqBA,MArBA,EAqBA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,UAAA,OAAA,GAAA,MAAA,CAAA,SAAA,CAAA,YAAA,EAAA,CAAA,CAAA;AACA,UAAA,GAAA,GAAA,IAAA,KAAA,CAAA,GAAA,EAAA,IAAA,EAAA,IAAA,CAAA;AACA,UAAA,SAAA,GAAA,GAAA,CAAA,QAAA,CAAA,QAAA,CAAA,QAAA,EAAA;AACA,UAAA,UAAA,GAAA,GAAA,CAAA,QAAA,CAAA,QAAA,CAAA,SAAA,EAAA;AACA,UAAA,UAAA,GAAA,MAAA,CAAA,KAAA;AACA,UAAA,WAAA,GAAA,MAAA,CAAA,MAAA;AAEA,UAAA,KAAA,GAAA,UAAA,GAAA,WAAA,IAAA,SAAA,GAAA,UAAA,GAAA,SAAA,GAAA,UAAA,GAAA,UAAA,GAAA,WAAA;AACA,MAAA,GAAA,CAAA,QAAA,CAAA,OAAA,EAAA,MAAA,EAAA,CAAA,EAAA,CAAA,EAAA,UAAA,GAAA,KAAA,EAAA,WAAA,GAAA,KAAA;AAEA,aAAA,GAAA;AACA;AAlCA;AAhBA,CAAA","sourcesContent":["<template>\n    <div>\n        <div class=\"row\">\n            <div class=\"col-sm-5 col-4\">\n                <router-link to=\"/payments\"><h4 class=\"page-title\"><i class=\"fa fa-arrow-left mr-3\"></i>Back to\n                    Payments</h4></router-link>\n            </div>\n            <div class=\"col-sm-7 col-8 text-right m-b-30\">\n                <div class=\"btn-group btn-group-sm\">\n                    <button class=\"btn btn-white\" @click=\"onDownloadPDF\">PDF</button>\n                    <button class=\"btn btn-white\" @click=\"onPrintJS\"><i class=\"fa fa-print fa-lg\"></i> Print</button>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-sm-12\">\n                <div class=\"card\" v-if=\"payment\" id=\"payment__form\">\n                    <div class=\"card-body\">\n                        <div class=\"row custom-invoice\">\n                            <div class=\"col-6 col-sm-6 m-b-20\">\n                                <img src=\"assets/img/title.png\" class=\"inv-logo\" alt=\"\">\n                            </div>\n                            <div class=\"col-6 col-sm-6 m-b-20\">\n                                <div class=\"invoice-details\">\n                                    <span class=\"title-20 text-uppercase\">INVOICE {{ payment.id | convertInvoiceID}}</span>\n\n                                    <ul class=\"list-unstyled\">\n                                        <li class=\"desc-15\">Order Date: {{ payment.created_at | convertTimeSecondToDate}}\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-sm-6 col-lg-6 m-b-20\">\n                                <ul class=\"list-unstyled\">\n                                    <li>Hera ID: {{ payment.client.id }}</li>\n                                    <li>Name: {{ payment.client.name }}</li>\n                                    <li>Email: {{ payment.client.email }}</li>\n                                </ul>\n                            </div>\n                            <div class=\"col-sm-6 col-lg-6 m-b-20\">\n                                <div class=\"invoices-view\">\n                                    <ul class=\"list-unstyled invoice-payment-details\">\n                                        <li>Payment Details:</li>\n                                        <li>\n                                            <div class=\"row\">\n                                                <div class=\"col-sm-6\"><b>Total Paid:</b></div>\n                                                <div class=\"col-sm-6\"><b>{{ payment.total | formatMoney }}</b></div>\n                                            </div>\n                                        </li>\n                                        <li>\n                                            <div class=\"row\">\n                                                <div class=\"col-sm-6\">Payment Method:</div>\n                                                <div class=\"col-sm-6\">{{ payment.payment_type_name }}</div>\n                                            </div></li>\n                                        <li>Payment Transaction ID:</li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                        <table class=\"table mb-0 border-0 table--payment\">\n                            <thead>\n                            <tr>\n                                <th>#</th>\n                                <th>Item</th>\n                                <th>Clinic</th>\n                                <th>Price</th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            <tr v-for=\"item in payment.items\" :key=\"item.id\">\n                                <td>{{ item.id }}</td>\n                                <td><span v-if=\"item.clinic\">{{ item.clinic.name }}</span></td>\n                                <td>{{ item.price }}</td>\n                                <td>{{ item.quantity }}</td>\n                            </tr>\n                            </tbody>\n                        </table>\n\n                        <div>\n                            <div class=\"row invoice-payment\">\n                                <div class=\"col-sm-7\">\n                                </div>\n                                <div class=\"col-sm-5\">\n                                    <div class=\"m-b-20\">\n                                        <div class=\"table-responsive no-border\">\n                                            <table class=\"table mb-0 payment--total\">\n                                                <tbody>\n                                                <tr>\n                                                    <td>Total:</td>\n                                                    <td class=\"text-right text-primary\">{{ payment.total | formatMoney\n                                                        }}\n                                                    </td>\n                                                </tr>\n                                                </tbody>\n                                            </table>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n  import html2canvas from 'html2canvas'\n  import jsPDF from 'jspdf'\n  import printJS from 'print-js'\n  import rf from \"../../api/RequestFactory\";\n  import Const from \"./../../utils/const\"\n\n  export default {\n    data() {\n      return {\n        printJS,\n        Const,\n        payment: null\n      }\n    },\n    mounted() {\n      let self = this\n      let id = parseInt(this.$route.params.id)\n\n      rf.getRequest('UserRequest').getPaymentDetail(id).then((res) => {\n        self.payment = res.data;\n      })\n    },\n    methods: {\n      onDownloadPDF() {\n        let self = this\n\n        html2canvas(document.querySelector(\"#payment__form\")).then(canvas => {\n          let pdf = self.getPDF(canvas)\n          pdf.save(\"invoice.pdf\");\n        });\n      },\n      onPrintJS() {\n        let self = this\n\n        html2canvas(document.querySelector(\"#payment__form\")).then(canvas => {\n          var imgData = canvas.toDataURL(\"image/jpeg\", 1);\n          // window.open(pdf.output('bloburl'), '_blank');\n          printJS({\n            printable: imgData,\n            type: 'image'\n          })\n        });\n      },\n      getPDF(canvas) {\n        let self = this\n        var imgData = canvas.toDataURL(\"image/jpeg\", 1);\n        var pdf = new jsPDF(\"p\", \"mm\", \"a4\");\n        var pageWidth = pdf.internal.pageSize.getWidth();\n        var pageHeight = pdf.internal.pageSize.getHeight();\n        var imageWidth = canvas.width;\n        var imageHeight = canvas.height;\n\n        var ratio = imageWidth / imageHeight >= pageWidth / pageHeight ? pageWidth / imageWidth : pageHeight / imageHeight;\n        pdf.addImage(imgData, 'JPEG', 0, 0, imageWidth * ratio, imageHeight * ratio);\n\n        return pdf\n      }\n    }\n  }\n</script>\n<style>\n    .appt--detail td {\n        color: #434343;\n        border-top: 0px;\n        padding-top: 10px;\n        padding-bottom: 10px;\n    }\n\n    .appt--labels {\n        color: #020644 !important;\n    }\n\n    .table--payment thead {\n        border-top: 1px solid #979797;\n        border-bottom: 1px solid #979797;\n        background-color: #E5E5E5\n    }\n\n    .table--payment th {\n        color: #434343;\n        font-weight: 700;\n    }\n\n    .payment--total {\n        font-weight: bold;\n        font-size: 18px;\n        line-height: 27px;\n        background: #E5E5E5;\n        border: 1px solid #434343;\n    }\n\n    .table td, .table th {\n        border-top: 0px;\n    }\n</style>"],"sourceRoot":"src/views/clients"}]}