{"remainingRequest":"/var/www/provider-stg.hera.health/node_modules/thread-loader/dist/cjs.js!/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js!/var/www/provider-stg.hera.health/node_modules/eslint-loader/index.js??ref--13-0!/var/www/provider-stg.hera.health/src/api/RequestFactory.js","dependencies":[{"path":"/var/www/provider-stg.hera.health/src/api/RequestFactory.js","mtime":1590709514500},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvdmFyL3d3dy9wcm92aWRlci1zdGcuaGVyYS5oZWFsdGgvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvdmFyL3d3dy9wcm92aWRlci1zdGcuaGVyYS5oZWFsdGgvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IFVzZXJSZXF1ZXN0IGZyb20gIi4vcmVxdWVzdC9Vc2VyUmVxdWVzdCI7CmltcG9ydCB1dGlscyBmcm9tICIuLi91dGlscy91dGlscyI7CmltcG9ydCBDb3VudHJ5UmVxdWVzdCBmcm9tICIuL3JlcXVlc3QvQ291bnRyeVJlcXVlc3QiOwp2YXIgcmVxdWVzdE1hcCA9IHsKICBVc2VyUmVxdWVzdDogVXNlclJlcXVlc3QsCiAgQ291bnRyeVJlcXVlc3Q6IENvdW50cnlSZXF1ZXN0Cn07CnZhciBpbnN0YW5jZXMgPSB7fTsKCnZhciBSZXF1ZXN0RmFjdG9yeSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gUmVxdWVzdEZhY3RvcnkoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVxdWVzdEZhY3RvcnkpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFJlcXVlc3RGYWN0b3J5LCBudWxsLCBbewogICAga2V5OiAiZ2V0UmVxdWVzdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVxdWVzdChjbGFzc25hbWUpIHsKICAgICAgaWYgKHV0aWxzLmdldExvY2FsVXNlcigpKSB7CiAgICAgICAgd2luZG93LmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSB1dGlscy5nZXRMb2NhbFVzZXIoKS50b2tlbjsKICAgICAgfQoKICAgICAgd2luZG93LmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJzsKICAgICAgdmFyIFJlcXVlc3RDbGFzcyA9IHJlcXVlc3RNYXBbY2xhc3NuYW1lXTsKCiAgICAgIGlmICghUmVxdWVzdENsYXNzKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJlcXVlc3QgY2xhc3MgbmFtZTogJyArIGNsYXNzbmFtZSk7CiAgICAgIH0KCiAgICAgIHZhciByZXF1ZXN0SW5zdGFuY2UgPSBpbnN0YW5jZXNbY2xhc3NuYW1lXTsKCiAgICAgIGlmICghcmVxdWVzdEluc3RhbmNlKSB7CiAgICAgICAgcmVxdWVzdEluc3RhbmNlID0gbmV3IFJlcXVlc3RDbGFzcygpOwogICAgICAgIGluc3RhbmNlc1tjbGFzc25hbWVdID0gcmVxdWVzdEluc3RhbmNlOwogICAgICB9CgogICAgICByZXR1cm4gcmVxdWVzdEluc3RhbmNlOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFJlcXVlc3RGYWN0b3J5Owp9KCk7CgpleHBvcnQgeyBSZXF1ZXN0RmFjdG9yeSBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["/var/www/provider-stg.hera.health/src/api/RequestFactory.js"],"names":["UserRequest","utils","CountryRequest","requestMap","instances","RequestFactory","classname","getLocalUser","window","axios","defaults","headers","common","token","RequestClass","Error","requestInstance"],"mappings":";;AAAA,OAAOA,WAAP,MAAwB,uBAAxB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AACA,IAAMC,UAAU,GAAE;AACdH,EAAAA,WAAW,EAAXA,WADc;AAEdE,EAAAA,cAAc,EAAdA;AAFc,CAAlB;AAIA,IAAME,SAAS,GAAG,EAAlB;;IAGqBC,c;;;;;;;+BAECC,S,EAAW;AACzB,UAAGL,KAAK,CAACM,YAAN,EAAH,EAAwB;AACpBC,QAAAA,MAAM,CAACC,KAAP,CAAaC,QAAb,CAAsBC,OAAtB,CAA8BC,MAA9B,CAAqC,eAArC,IAAwDX,KAAK,CAACM,YAAN,GAAqBM,KAA7E;AACH;;AAEDL,MAAAA,MAAM,CAACC,KAAP,CAAaC,QAAb,CAAsBC,OAAtB,CAA8BC,MAA9B,CAAqC,cAArC,IAAuD,kBAAvD;AACA,UAAIE,YAAY,GAAGX,UAAU,CAACG,SAAD,CAA7B;;AACA,UAAI,CAACQ,YAAL,EAAmB;AACf,cAAM,IAAIC,KAAJ,CAAU,iCAAiCT,SAA3C,CAAN;AACH;;AAED,UAAIU,eAAe,GAAGZ,SAAS,CAACE,SAAD,CAA/B;;AACA,UAAI,CAACU,eAAL,EAAsB;AAClBA,QAAAA,eAAe,GAAG,IAAIF,YAAJ,EAAlB;AACAV,QAAAA,SAAS,CAACE,SAAD,CAAT,GAAuBU,eAAvB;AACH;;AACD,aAAOA,eAAP;AACH;;;;;;SAnBgBX,c","sourcesContent":["import UserRequest from \"./request/UserRequest\";\nimport utils from \"../utils/utils\";\nimport CountryRequest from \"./request/CountryRequest\";\nconst requestMap ={\n    UserRequest,\n    CountryRequest\n}\nconst instances = {};\n\n\nexport default class RequestFactory {\n\n    static getRequest(classname) {\n        if(utils.getLocalUser()){\n            window.axios.defaults.headers.common['Authorization'] = utils.getLocalUser().token;\n        }\n\n        window.axios.defaults.headers.common['Content-Type'] = 'application/json';\n        let RequestClass = requestMap[classname];\n        if (!RequestClass) {\n            throw new Error('Invalid request class name: ' + classname);\n        }\n\n        let requestInstance = instances[classname];\n        if (!requestInstance) {\n            requestInstance = new RequestClass();\n            instances[classname] = requestInstance;\n        }\n        return requestInstance;\n    }\n\n}"]}]}