{"remainingRequest":"/var/www/provider.voycare.com/node_modules/thread-loader/dist/cjs.js!/var/www/provider.voycare.com/node_modules/babel-loader/lib/index.js!/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider.voycare.com/src/views/admin/AppointmentCRDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider.voycare.com/src/views/admin/AppointmentCRDetail.vue","mtime":1597939243771},{"path":"/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js","mtime":1596630677130},{"path":"/var/www/provider.voycare.com/node_modules/thread-loader/dist/cjs.js","mtime":1596630678838},{"path":"/var/www/provider.voycare.com/node_modules/babel-loader/lib/index.js","mtime":1596630688999},{"path":"/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js","mtime":1596630677130},{"path":"/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js","mtime":1596630687836}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHJmIGZyb20gIi4uLy4uL2FwaS9SZXF1ZXN0RmFjdG9yeSI7CmltcG9ydCBDb25zdCBmcm9tICIuLy4uLy4uL3V0aWxzL2NvbnN0IjsKaW1wb3J0IEJhY2tUbyBmcm9tICcuLi8uLi9jb21wb25lbnRzL0JhY2tUbyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBCYWNrVG86IEJhY2tUbwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIENvbnN0OiBDb25zdCwKICAgICAgYXBwdF9jcjogbnVsbCwKICAgICAgaWQ6IG51bGwsCiAgICAgIGlzX2VkaXQ6IGZhbHNlLAogICAgICBpc19lZGl0X25vdGU6IGZhbHNlLAogICAgICBwYXltZW50X21ldGhvZHM6IFt7CiAgICAgICAgaWQ6IDEsCiAgICAgICAgbmFtZTogJ0FsaXBheScKICAgICAgfV0sCiAgICAgIHN0YXR1c19pZHM6IFt7CiAgICAgICAgaWQ6IDEsCiAgICAgICAgbmFtZTogJ1Byb2Nlc3NpbmcnCiAgICAgIH0sIHsKICAgICAgICBpZDogMiwKICAgICAgICBuYW1lOiAnUmVmdW5kZWQnCiAgICAgIH1dLAogICAgICB3aHlfY2FuY2VsczogW3sKICAgICAgICBpZDogMCwKICAgICAgICBuYW1lOiAnIC0gJwogICAgICB9LCB7CiAgICAgICAgaWQ6IDEsCiAgICAgICAgbmFtZTogJ1RpbWUgY29uZmxpY3QnCiAgICAgIH0sIHsKICAgICAgICBpZDogMiwKICAgICAgICBuYW1lOiAnVG9vIGV4cGVuc2l2ZScKICAgICAgfSwgewogICAgICAgIGlkOiAzLAogICAgICAgIG5hbWU6ICdFbWVyZ2VuY3knCiAgICAgIH0sIHsKICAgICAgICBpZDogNCwKICAgICAgICBuYW1lOiAiRG9uJ3QgbmVlZCBzZXJ2aWNlIgogICAgICB9LCB7CiAgICAgICAgaWQ6IDUsCiAgICAgICAgbmFtZTogJ090aGVyJwogICAgICB9XQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICBzZWxmLmlkID0gcGFyc2VJbnQodGhpcy4kcm91dGUucGFyYW1zLmlkKTsKICAgIHNlbGYuZ2V0RGV0YWlsKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXREZXRhaWw6IGZ1bmN0aW9uIGdldERldGFpbCgpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICByZi5nZXRSZXF1ZXN0KCdBZG1pblJlcXVlc3QnKS5nZXRBcHBvaW50bWVudHNDUkRldGFpbChzZWxmLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBzZWxmLmFwcHRfY3IgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgb25TYXZlOiBmdW5jdGlvbiBvblNhdmUoKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBhZG1pbl9ub3RlOiBzZWxmLmFwcHRfY3IuYWRtaW5fbm90ZQogICAgICB9OwogICAgICByZi5nZXRSZXF1ZXN0KCdBZG1pblJlcXVlc3QnKS5wb3N0QXBwb2ludG1lbnRzQ1JEZXRhaWwoc2VsZi5pZCwgcGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBzZWxmLmFwcHRfY3IgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgb25TYXZlU3RhdHVzOiBmdW5jdGlvbiBvblNhdmVTdGF0dXMoKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBzdGF0dXM6IHNlbGYuYXBwdF9jci5zdGF0dXMsCiAgICAgICAgY2l0Y29uX25vOiBzZWxmLmFwcHRfY3IuY2l0Y29uX25vCiAgICAgIH07CiAgICAgIHJmLmdldFJlcXVlc3QoJ0FkbWluUmVxdWVzdCcpLnBvc3RBcHBvaW50bWVudHNDUkRldGFpbFJlZnVuZChzZWxmLmlkLCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHNlbGYuYXBwdF9jciA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["AppointmentCRDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"row\">\n      <div class=\"col-sm-12 mb-4\">\n        <BackTo :to=\"'/appointment-cr'\" :text=\"'Back to Cancellation Requests'\" />\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-md-9\">\n        <div class=\"card\">\n          <div class=\"card-body appt--wrapper\" v-if=\"appt_cr\">\n            <div class=\"row appt--row\">\n              <div class=\"col-md-6\">\n                <div class=\"appt--item\">\n                  <label class=\"appt--label\">Appt.No: </label>\n                  <div class=\"appt--value\">{{ appt_cr.id | convertAppointmentID }}</div>\n                </div>\n\n                <div class=\"appt--item text-red\">\n                  <label class=\"appt--label\">Cancellation Date: </label>\n                  <div class=\"appt--value\">{{ appt_cr.appointment.created | convertTimeSecondToDate }}</div>\n                </div>\n              </div>\n              <div class=\"col-md-6\">\n                <div class=\"appt--item\">\n                  <label class=\"appt--label\">Status: </label>\n                  <div class=\"appt--value\">\n                    <div class=\"appt--status text-danger\" v-if=\"appt_cr.appointment.status == 2 && appt_cr.status == 1\">\n                      Processing\n                    </div>\n                    <div class=\"appt--status text-success\"\n                         v-if=\"appt_cr.appointment.status == 2 && appt_cr.status == 2\">\n                      Refunded\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"appt--item text-red\">\n                  <label class=\"appt--label\">Cancellation No: </label>\n                  <div class=\"appt--value\">{{ appt_cr.id }}</div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"row appt--row\">\n              <div class=\"col-md-6\">\n                <div class=\"appt--item\">\n                  <label class=\"appt--label\">Document Translation: </label>\n                  <div class=\"appt--value\">{{ appt_cr.appointment.documents_count ? 'Yes' : 'No' }}</div>\n                </div>\n              </div>\n\n              <div class=\"col--md-6\">\n                <div class=\"appt--item\">\n                  <label class=\"appt--label\">Fees Collected: </label>\n                  <div class=\"appt--value\">$ {{ appt_cr.fee }}</div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"row appt--row\">\n              <div class=\"col-md-12\">\n                <div class=\"appt--item\">\n                  <label class=\"appt--label\">Reason for cancellation: </label>\n                  <div class=\"appt--value\">{{ why_cancels.find(why => why.id == appt_cr.why_cancel).name }}</div>\n                </div>\n\n                <div class=\"appt--item\">\n                  <label class=\"appt--label\">Rescheduling offered: </label>\n                  <div class=\"appt--value\">{{ appt_cr.use_again ? 'Yes' : 'No' }}</div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"row appt--row\">\n              <div class=\"col-md-12\">\n                <div class=\"appt--item\">\n                  <label class=\"appt--label\">Payment Method: </label>\n                  <div class=\"appt--value\">{{ payment_methods.find(method => method.id == appt_cr.use_again).name }}</div>\n                </div>\n\n                <div class=\"appt--item\">\n                  <label class=\"appt--label\">Refund Status: </label>\n                  <div class=\"appt--value\">\n                    <div v-if=\"is_edit\" class=\"card\">\n                      <div class=\"card-body form--pink\">\n                        <div class=\"form-group mb-4\">\n                          <label>Select Refund Status:</label>\n                          <select class=\"form-control\" v-model=\"appt_cr.status\">\n                            <option value=\"1\">Processing</option>\n                            <option value=\"2\">Refunded</option>\n                          </select>\n                        </div>\n                        <div class=\"form-group mb-4\">\n                          <label>CITCON refund confirmation No</label>\n                          <input type=\"text\" class=\"form-control\" v-model=\"appt_cr.citcon_no\">\n                        </div>\n                        <div class=\"form-group text-center\">\n                          <button class=\"btn btn-pink btn-round px-4\" @click=\"onSaveStatus\">Save</button>\n                        </div>\n                      </div>\n                    </div>\n                    <span>{{ status_ids.find(status => status.id == appt_cr.status).name }}</span>\n                    <button @click=\"is_edit = ! is_edit\" class=\"btn btn-link btn-edit\"><i\n                        class=\"fa fa-pencil\"></i> Edit\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"row appt--row no-border\">\n              <div class=\"col-md-12\">\n                <label style=\"color: #020644;\" class=\"font-weight-500 font-15\">Admin Note</label>\n                <textarea v-if=\"is_edit_note\" name=\"\" id=\"\" cols=\"30\" rows=\"5\" class=\"form-control\" v-model=\"appt_cr.admin_note\"></textarea>\n                <p v-else>{{ appt_cr.admin_note }}</p>\n                <button @click=\"is_edit_note = ! is_edit_note\" class=\"btn btn-link btn-edit\"><i\n                    class=\"fa fa-pencil\"></i> Edit\n                </button>\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <div class=\"col-md-12 text-center\">\n                <button class=\"btn btn-pink btn-round px-4\" click=\"onSave\">Save</button>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n  import rf from \"../../api/RequestFactory\";\n  import Const from \"./../../utils/const\"\n  import BackTo from '../../components/BackTo'\n\n  export default {\n    components: {BackTo},\n    data() {\n      return {\n        Const,\n        appt_cr: null,\n        id: null,\n        is_edit: false,\n        is_edit_note: false,\n        payment_methods: [\n          {id: 1, name: 'Alipay'}\n        ],\n        status_ids: [\n          {id: 1, name: 'Processing'},\n          {id: 2, name: 'Refunded'},\n        ],\n        why_cancels: [\n          {id: 0, name: ' - '},\n          {id: 1, name: 'Time conflict'},\n          {id: 2, name: 'Too expensive'},\n          {id: 3, name: 'Emergency'},\n          {id: 4, name: \"Don't need service\"},\n          {id: 5, name: 'Other'},\n        ]\n      }\n    },\n    mounted() {\n      let self = this\n      self.id = parseInt(this.$route.params.id)\n\n      self.getDetail()\n    },\n    methods: {\n      getDetail() {\n        let self = this\n\n        rf.getRequest('AdminRequest').getAppointmentsCRDetail(self.id).then((res) => {\n          self.appt_cr = res.data\n        });\n      },\n      onSave() {\n        let self = this\n        let params = {\n          admin_note: self.appt_cr.admin_note\n        }\n\n        rf.getRequest('AdminRequest').postAppointmentsCRDetail(self.id, params).then(res => {\n          self.appt_cr = res.data\n        })\n      },\n      onSaveStatus() {\n        let self = this\n\n        let params = {\n          status: self.appt_cr.status,\n          citcon_no: self.appt_cr.citcon_no\n        }\n\n        rf.getRequest('AdminRequest').postAppointmentsCRDetailRefund(self.id, params).then(res => {\n          self.appt_cr = res.data\n        })\n      }\n    }\n  }\n</script>\n<style>\n  .appt--row {\n    border-bottom: 1px solid #CBCBCB;\n    margin-bottom: 20px;\n  }\n\n  .appt--wrapper {\n    padding: 42px;\n    color: #020644;\n  }\n\n  .appt--label {\n    font-style: normal;\n    font-weight: 500;\n    font-size: 15px;\n    line-height: 22px;\n    margin-right: 40px;\n  }\n\n  .appt--value {\n    display: inline-block;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 15px;\n    line-height: 22px;\n  }\n\n  .appt--item {\n    margin-bottom: 20px;\n  }\n\n  .form--pink {\n    background-color: #FDD3D1\n  }\n</style>\n"],"sourceRoot":"src/views/admin"}]}