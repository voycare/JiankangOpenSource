{"remainingRequest":"/var/www/provider-stg.hera.health/node_modules/thread-loader/dist/cjs.js!/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js!/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider-stg.hera.health/src/views/AdminLogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider-stg.hera.health/src/views/AdminLogin.vue","mtime":1596623613483},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBBUEkgZnJvbSAiLi8uLi91dGlscy9hcGkiOwppbXBvcnQgVVRJTFMgZnJvbSAiLi8uLi91dGlscy91dGlscyI7CmltcG9ydCB7IHByb3ZpZGVyVXJscyB9IGZyb20gJy4vLi4vdXRpbHMvcHJvdmlkZXJVcmxzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVc2VyTG9naW4iLAogIGNvbXB1dGVkOiB7CiAgICBwcm92aWRlckxvZ2luVXJsOiBmdW5jdGlvbiBwcm92aWRlckxvZ2luVXJsKCkgewogICAgICByZXR1cm4gcHJvdmlkZXJVcmxzLmxvZ2luX3VybDsKICAgIH0sCiAgICBwcm92aWRlclJlZ2lzdGVyVXJsOiBmdW5jdGlvbiBwcm92aWRlclJlZ2lzdGVyVXJsKCkgewogICAgICByZXR1cm4gcHJvdmlkZXJVcmxzLnJlZ2lzdGVyX3VybDsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbnB1dDogewogICAgICAgIGVtYWlsOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIKICAgICAgfSwKICAgICAgZXJyb3I6IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgey8vIGlmIChVVElMUy5nZXRMb2NhbEFkbWluKCkpIHsKICAgIC8vICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiLyI7CiAgICAvLyB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB2YWxpZGF0ZUlucHV0OiBmdW5jdGlvbiB2YWxpZGF0ZUlucHV0KCkgewogICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTsKCiAgICAgIGlmICghdGhpcy5pbnB1dC5lbWFpbCkgewogICAgICAgIHRoaXMuZXJyb3IuZW1haWwgPSAiZW1haWwgY2Fubm90IGJlIGVtcHR5IjsKICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVycm9yLmVtYWlsID0gIiI7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmlucHV0LmVtYWlsICYmICEvXFMrQFxTK1wuXFMrLy50ZXN0KHRoaXMuaW5wdXQuZW1haWwpKSB7CiAgICAgICAgdGhpcy5lcnJvci5lbWFpbCA9ICJlbWFpbCBpbnZhbGlkIjsKICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLmlucHV0LnBhc3N3b3JkKSB7CiAgICAgICAgdGhpcy5lcnJvci5wYXNzd29yZCA9ICJwYXNzd29yZCBjYW5ub3QgYmUgZW1wdHkiOwogICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZXJyb3IucGFzc3dvcmQgPSAiIjsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgc2VsZiA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMudmFsaWRhdGVJbnB1dCgpKSB7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5lcnJvcik7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIGZldGNoKEFQSS5nZXRBcGkoQVBJLkFETUlOLkFVVEguTE9HSU4pLCB7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICB9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICJlbWFpbCI6IHRoaXMuaW5wdXQuZW1haWwsCiAgICAgICAgICAicGFzc3dvcmQiOiB0aGlzLmlucHV0LnBhc3N3b3JkCiAgICAgICAgfSkKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHN3aXRjaCAocmVzLnN0YXR1cykgewogICAgICAgICAgY2FzZSAyMDA6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICByZXMuZGF0YS5hZG1pbi50b2tlbiA9ICJCZWFyZXIgIiArIHJlcy5kYXRhLnRva2VuOwogICAgICAgICAgICAgIFVUSUxTLnNldExvY2FsQWRtaW4ocmVzLmRhdGEuYWRtaW4pOwogICAgICAgICAgICAgIHNlbGYuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIHBhdGg6ICcvJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgIGNhc2UgNDEyOgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgd2luZG93LmFsZXJ0KHJlcy5tZXNzYWdlKTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgX3RoaXMuZXJyb3IucGFzc3dvcmQgPSAiZW1haWwgb3IgcGFzc3dvcmQgaXMgaW5jb3JyZWN0IjsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ2luV2VjaGF0OiBmdW5jdGlvbiBsb2dpbldlY2hhdCgpIHsKICAgICAgYWxlcnQoInRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjb21pbmcgc29vbiIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["AdminLogin.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"mt-5 mb-4 text-center\">\n      <h2 class=\"text-primary text-400\">Welcome Administrator!</h2>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-md-2\"></div>\n      <div class=\"col-sm-12 col-md-8 vertical-center\">\n        <div\n            style=\"border: 1px solid #C7C7C7; border-radius: 12px; background-color: white\">\n          <ul class=\"nav nav-tabs nav-tabs-bottom nav-justified pl-lg-200 pr-lg-200 pl-2 pr-2 mt-sm-50\"\n              style=\"border-bottom: 1px solid #C7C7C7;border-top: 0px;\">\n            <li class=\"nav-item\"><a class=\"nav-link active\" data-toggle=\"tab\" href=\"#tab-sign-in\">Sign\n              in</a></li>\n            <!--<li class=\"nav-item\"><a class=\"nav-link text-nowrap\" data-toggle=\"tab\" href=\"#tab-sign-up\">Create-->\n              <!--account</a></li>-->\n            <li class=\"nav-item\"><a class=\"nav-link text-nowrap\" :href=\"VUE_APP_HOME + '/sign-up'\">Create\n              account</a></li>\n          </ul>\n\n          <div class=\"tab-content login--content pl-lg-200 pr-lg-200 pl-3 pr-3 mt-3\">\n            <div class=\"tab-pane show active\" id=\"tab-sign-in\">\n              <form class=\"form-material\" method=\"post\">\n                <div class=\"form-group\">\n                  <input class=\"form-control\" placeholder=\"Email Address\" type=\"text\"\n                         v-model=\"input.email\">\n                  <span class=\"form-bar\"></span>\n                  <small class=\"text-danger text-sm-left\"\n                         style=\"display: block\">{{error.email}}\n                  </small>\n                </div>\n                <div class=\"form-group\">\n                  <input class=\"form-control\" placeholder=\"Password\" type=\"password\"\n                         v-model=\"input.password\">\n                  <span class=\"form-bar\"></span>\n                  <small class=\"text-danger text-sm-left\"\n                         style=\"display: block\">{{error.password}}\n                  </small>\n                </div>\n                <div class=\"form-group\">\n                  <label><input style=\"margin-top: 2px\" type=\"checkbox\"> Remember me</label>\n                  <span class=\"text-right\" style=\"float: right\">\n                    <router-link class=\"pink\" to=\"/forget-password\">Forgot your password?</router-link>\n                    </span>\n                </div>\n\n\n                <div class=\"form-group text-center\">\n                  <button @click.prevent=\"login\" class=\"btn btn-pink btn-round btn-block\"\n                          style=\"font-weight: bold\" type=\"submit\">\n                    Sign In\n                  </button>\n                </div>\n                <div class=\"text-center mb-5 mt-3\">\n                  I'm a Provider. Please sign in <a :href=\"providerLoginUrl\"\n                                                    class=\"pink bold\">HERE</a>.\n                </div>\n              </form>\n            </div>\n            <!--<div class=\"tab-pane\" id=\"tab-sign-up\">-->\n              <!--<form class=\"form-material\" method=\"post\">-->\n                <!--<div class=\"form-group\">-->\n                  <!--<small class=\"text-danger text-sm-left\"-->\n                         <!--style=\"display: block\">{{error.email}}-->\n                  <!--</small>-->\n                  <!--<input class=\"form-control\" placeholder=\"Email Address\" type=\"text\"-->\n                         <!--v-model=\"input.email\">-->\n                  <!--<span class=\"form-bar\"></span>-->\n                <!--</div>-->\n                <!--<div class=\"form-group\">-->\n                  <!--<small class=\"text-danger text-sm-left\"-->\n                         <!--style=\"display: block\">{{error.password}}-->\n                  <!--</small>-->\n                  <!--<input class=\"form-control\" placeholder=\"Password\" type=\"password\"-->\n                         <!--v-model=\"input.password\">-->\n                  <!--<span class=\"form-bar\"></span>-->\n                <!--</div>-->\n                <!--<div class=\"form-group\">-->\n\n                  <!--<input class=\"form-control\" placeholder=\"Re-enter Password\" type=\"password\">-->\n                  <!--<span class=\"form-bar\"></span>-->\n                  <!--<small class=\"text-danger text-sm-left\"-->\n                         <!--style=\"display: block\">{{error.password}}-->\n                  <!--</small>-->\n                <!--</div>-->\n                <!--<div class=\"form-group\">-->\n                  <!--<label><input style=\"margin-top: 2px\" type=\"checkbox\"> I agree to the</label>-->\n                  <!--<a class=\"blue\" href=\"#\"> Terms and Conditions</a>-->\n                <!--</div>-->\n                <!--<div class=\"form-group text-center\">-->\n                  <!--<button @click.prevent=\"register\" class=\"btn btn-pink btn-round btn-block\"-->\n                          <!--type=\"submit\">-->\n                    <!--Create Account-->\n                  <!--</button>-->\n                <!--</div>-->\n                <!--<div class=\"text-center mb-5 mt-3\">-->\n                  <!--Are you a Provider? Create an account <a :href=\"providerRegisterUrl\"-->\n                                                           <!--class=\"pink bold\">HERE</a>.-->\n                <!--</div>-->\n              <!--</form>-->\n            <!--</div>-->\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-2\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import API from \"./../utils/api\"\n  import UTILS from \"./../utils/utils\"\n  import {providerUrls} from './../utils/providerUrls'\n\n  export default {\n    name: \"UserLogin\",\n    computed: {\n      providerLoginUrl: () => providerUrls.login_url,\n      providerRegisterUrl: () => providerUrls.register_url\n    },\n    data() {\n      return {\n        input: {\n          email: \"\",\n          password: \"\"\n        },\n        error: {\n          email: \"\",\n          password: \"\"\n        }\n      }\n    },\n    mounted() {\n      // if (UTILS.getLocalAdmin()) {\n      //   window.location.href = \"/\";\n      // }\n    },\n    methods: {\n      validateInput: function () {\n        let result = true;\n        if (!this.input.email) {\n          this.error.email = \"email cannot be empty\";\n          result = false;\n        } else {\n          this.error.email = \"\";\n        }\n        if (this.input.email && !/\\S+@\\S+\\.\\S+/.test(this.input.email)) {\n          this.error.email = \"email invalid\";\n          result = false;\n        }\n        if (!this.input.password) {\n          this.error.password = \"password cannot be empty\";\n          result = false;\n        } else {\n          this.error.password = \"\";\n        }\n        return result;\n      },\n      login: function () {\n        let self = this\n\n        if (!this.validateInput()) {\n          console.log(this.error)\n          return null;\n        }\n        fetch(API.getApi(API.ADMIN.AUTH.LOGIN), {\n          method: 'post',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            \"email\": this.input.email,\n            \"password\": this.input.password\n          })\n        }).then(res => res.json()).then(res => {\n          switch (res.status) {\n            case 200: {\n              res.data.admin.token = \"Bearer \" + res.data.token;\n              UTILS.setLocalAdmin(res.data.admin);\n              self.$router.push({path: '/'})\n              return;\n            }\n            case 412: {\n              window.alert(res.message)\n              return;\n            }\n            default: {\n              this.error.password = \"email or password is incorrect\";\n              return;\n            }\n          }\n        }).catch(e => {\n          console.log(e)\n        });\n      },\n      loginWechat: function () {\n        alert(\"this function will be coming soon\")\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/views"}]}