{"remainingRequest":"/var/www/provider.voycare.com/node_modules/thread-loader/dist/cjs.js!/var/www/provider.voycare.com/node_modules/babel-loader/lib/index.js!/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider.voycare.com/src/views/clinics/StatementDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider.voycare.com/src/views/clinics/StatementDetail.vue","mtime":1596754101770},{"path":"/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js","mtime":1596630677130},{"path":"/var/www/provider.voycare.com/node_modules/thread-loader/dist/cjs.js","mtime":1596630678838},{"path":"/var/www/provider.voycare.com/node_modules/babel-loader/lib/index.js","mtime":1596630688999},{"path":"/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js","mtime":1596630677130},{"path":"/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js","mtime":1596630687836}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gaW1wb3J0IGh0bWwyY2FudmFzIGZyb20gJ2h0bWwyY2FudmFzJwovLyBpbXBvcnQganNQREYgZnJvbSAnanNwZGYnCmltcG9ydCBwcmludEpTIGZyb20gJ3ByaW50LWpzJzsKaW1wb3J0IHJmIGZyb20gIi4uLy4uL2FwaS9SZXF1ZXN0RmFjdG9yeSI7CmltcG9ydCBDb25zdCBmcm9tICIuLy4uLy4uL3V0aWxzL2NvbnN0IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcmludEpTOiBwcmludEpTLAogICAgICBDb25zdDogQ29uc3QsCiAgICAgIHN0YXRlbWVudDogbnVsbAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgaWQgPSBwYXJzZUludCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogICAgcmYuZ2V0UmVxdWVzdCgnQ2xpbmljUmVxdWVzdCcpLmdldFN0YXRlbWVudERldGFpbChpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHNlbGYuc3RhdGVtZW50ID0gcmVzLmRhdGE7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uRG93bmxvYWRQREY6IGZ1bmN0aW9uIG9uRG93bmxvYWRQREYoKSB7Ly8gbGV0IHNlbGYgPSB0aGlzCiAgICAgIC8vCiAgICAgIC8vIGh0bWwyY2FudmFzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNwYXltZW50X19mb3JtIikpLnRoZW4oY2FudmFzID0+IHsKICAgICAgLy8gICBsZXQgcGRmID0gc2VsZi5nZXRQREYoY2FudmFzKQogICAgICAvLyAgIHBkZi5zYXZlKCJpbnZvaWNlLnBkZiIpOwogICAgICAvLyB9KTsKICAgIH0sCiAgICBvblByaW50SlM6IGZ1bmN0aW9uIG9uUHJpbnRKUygpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOyAvLyBodG1sMmNhbnZhcyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcGF5bWVudF9fZm9ybSIpKS50aGVuKGNhbnZhcyA9PiB7CiAgICAgIC8vICAgdmFyIGltZ0RhdGEgPSBjYW52YXMudG9EYXRhVVJMKCJpbWFnZS9qcGVnIiwgMSk7CiAgICAgIC8vICAgLy8gd2luZG93Lm9wZW4ocGRmLm91dHB1dCgnYmxvYnVybCcpLCAnX2JsYW5rJyk7CiAgICAgIC8vICAgcHJpbnRKUyh7CiAgICAgIC8vICAgICBwcmludGFibGU6IGltZ0RhdGEsCiAgICAgIC8vICAgICB0eXBlOiAnaW1hZ2UnCiAgICAgIC8vICAgfSkKICAgICAgLy8gfSk7CiAgICB9LAogICAgZ2V0UERGOiBmdW5jdGlvbiBnZXRQREYoY2FudmFzKSB7Ly8gbGV0IHNlbGYgPSB0aGlzCiAgICAgIC8vIHZhciBpbWdEYXRhID0gY2FudmFzLnRvRGF0YVVSTCgiaW1hZ2UvanBlZyIsIDEpOwogICAgICAvLyB2YXIgcGRmID0gbmV3IGpzUERGKCJwIiwgIm1tIiwgImE0Iik7CiAgICAgIC8vIHZhciBwYWdlV2lkdGggPSBwZGYuaW50ZXJuYWwucGFnZVNpemUuZ2V0V2lkdGgoKTsKICAgICAgLy8gdmFyIHBhZ2VIZWlnaHQgPSBwZGYuaW50ZXJuYWwucGFnZVNpemUuZ2V0SGVpZ2h0KCk7CiAgICAgIC8vIHZhciBpbWFnZVdpZHRoID0gY2FudmFzLndpZHRoOwogICAgICAvLyB2YXIgaW1hZ2VIZWlnaHQgPSBjYW52YXMuaGVpZ2h0OwogICAgICAvLwogICAgICAvLyB2YXIgcmF0aW8gPSBpbWFnZVdpZHRoIC8gaW1hZ2VIZWlnaHQgPj0gcGFnZVdpZHRoIC8gcGFnZUhlaWdodCA/IHBhZ2VXaWR0aCAvIGltYWdlV2lkdGggOiBwYWdlSGVpZ2h0IC8gaW1hZ2VIZWlnaHQ7CiAgICAgIC8vIHBkZi5hZGRJbWFnZShpbWdEYXRhLCAnSlBFRycsIDAsIDAsIGltYWdlV2lkdGggKiByYXRpbywgaW1hZ2VIZWlnaHQgKiByYXRpbyk7CiAgICAgIC8vCiAgICAgIC8vIHJldHVybiBwZGYKICAgIH0KICB9Cn07"},{"version":3,"sources":["StatementDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA,OAAA,OAAA,MAAA,UAAA;AACA,OAAA,EAAA,MAAA,0BAAA;AACA,OAAA,KAAA,MAAA,qBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,OADA;AAEA,MAAA,KAAA,EAAA,KAFA;AAGA,MAAA,SAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,OARA,qBAQA;AACA,QAAA,IAAA,GAAA,IAAA;AACA,QAAA,EAAA,GAAA,QAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,CAAA;AAEA,IAAA,EAAA,CAAA,UAAA,CAAA,eAAA,EAAA,kBAAA,CAAA,EAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,IAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA;AACA,KAFA;AAGA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA,CACA;AACA;AACA;AACA;AACA;AACA;AACA,KARA;AASA,IAAA,SATA,uBASA;AACA,UAAA,IAAA,GAAA,IAAA,CADA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApBA;AAqBA,IAAA,MArBA,kBAqBA,MArBA,EAqBA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlCA;AAhBA,CAAA","sourcesContent":["<template>\n  <div>\n    <div class=\"row\">\n      <div class=\"col-sm-5 col-4\">\n        <router-link to=\"/payments\"><h4 class=\"page-title\"><i class=\"fa fa-arrow-left mr-3\"></i>Back to\n          Statements</h4></router-link>\n      </div>\n      <div class=\"col-sm-7 col-8 text-right m-b-30\">\n        <div class=\"btn-group btn-group-sm\">\n          <button @click=\"onDownloadPDF\" class=\"btn btn-white\">PDF</button>\n          <button @click=\"onPrintJS\" class=\"btn btn-white\"><i class=\"fa fa-print fa-lg\"></i> Print</button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-sm-12\">\n        <div class=\"card\" id=\"payment__form\" v-if=\"payment\">\n          <div class=\"card-body\">\n            <table class=\"table mb-0 border-0 table--payment\">\n              <thead>\n              <tr>\n                <th>Date</th>\n                <th>Item</th>\n                <th>Appointment No.</th>\n                <th>Amount</th>\n              </tr>\n              </thead>\n              <tbody>\n              <tr :key=\"item.id\" v-for=\"item in statement.items\">\n                <td>{{ item.item_date | convertTimeSecondToDate }}</td>\n                <td>{{ item.item_name }}</td>\n                <td>{{ item.appointment_no }}</td>\n                <td>{{ item.amount }}</td>\n              </tr>\n              </tbody>\n            </table>\n\n            <div>\n              <div class=\"row invoice-payment\">\n                <div class=\"col-sm-7\">\n                </div>\n                <div class=\"col-sm-5\">\n                  <div class=\"m-b-20\">\n                    <div class=\"table-responsive no-border\">\n                      <table class=\"table mb-0 payment--total\">\n                        <tbody>\n                        <tr>\n                          <td>Total:</td>\n                          <td class=\"text-right text-primary\">{{ statement.total | formatMoney\n                            }}\n                          </td>\n                        </tr>\n                        </tbody>\n                      </table>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n  // import html2canvas from 'html2canvas'\n  // import jsPDF from 'jspdf'\n  import printJS from 'print-js'\n  import rf from \"../../api/RequestFactory\";\n  import Const from \"./../../utils/const\"\n\n  export default {\n    data() {\n      return {\n        printJS,\n        Const,\n        statement: null\n      }\n    },\n    mounted() {\n      let self = this\n      let id = parseInt(this.$route.params.id)\n\n      rf.getRequest('ClinicRequest').getStatementDetail(id).then((res) => {\n        self.statement = res.data;\n      })\n    },\n    methods: {\n      onDownloadPDF() {\n        // let self = this\n        //\n        // html2canvas(document.querySelector(\"#payment__form\")).then(canvas => {\n        //   let pdf = self.getPDF(canvas)\n        //   pdf.save(\"invoice.pdf\");\n        // });\n      },\n      onPrintJS() {\n        let self = this\n\n        // html2canvas(document.querySelector(\"#payment__form\")).then(canvas => {\n        //   var imgData = canvas.toDataURL(\"image/jpeg\", 1);\n        //   // window.open(pdf.output('bloburl'), '_blank');\n        //   printJS({\n        //     printable: imgData,\n        //     type: 'image'\n        //   })\n        // });\n      },\n      getPDF(canvas) {\n        // let self = this\n        // var imgData = canvas.toDataURL(\"image/jpeg\", 1);\n        // var pdf = new jsPDF(\"p\", \"mm\", \"a4\");\n        // var pageWidth = pdf.internal.pageSize.getWidth();\n        // var pageHeight = pdf.internal.pageSize.getHeight();\n        // var imageWidth = canvas.width;\n        // var imageHeight = canvas.height;\n        //\n        // var ratio = imageWidth / imageHeight >= pageWidth / pageHeight ? pageWidth / imageWidth : pageHeight / imageHeight;\n        // pdf.addImage(imgData, 'JPEG', 0, 0, imageWidth * ratio, imageHeight * ratio);\n        //\n        // return pdf\n      }\n    }\n  }\n</script>\n<style>\n  .table--payment thead {\n    border-top: 1px solid #CBCBCB;\n    border-bottom: 1px solid #CBCBCB;\n    background-color: #E5E5E5\n  }\n\n  .table--payment th {\n    color: #434343;\n    font-weight: 700;\n  }\n\n  .payment--total {\n    font-weight: bold;\n    font-size: 18px;\n    line-height: 27px;\n    background: #E5E5E5;\n    border: 1px solid #434343;\n  }\n\n  .table td, .table th {\n    border-top: 0px;\n  }\n</style>\n"],"sourceRoot":"src/views/clinics"}]}