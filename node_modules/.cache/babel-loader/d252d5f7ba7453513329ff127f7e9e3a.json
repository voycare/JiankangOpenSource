{"remainingRequest":"/var/www/provider-stg.hera.health/node_modules/thread-loader/dist/cjs.js!/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js!/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider-stg.hera.health/src/views/ClientResetPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider-stg.hera.health/src/views/ClientResetPassword.vue","mtime":1591440618240},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBBUEkgZnJvbSAiLi8uLi91dGlscy9hcGkiOwppbXBvcnQgVVRJTFMgZnJvbSAiLi8uLi91dGlscy91dGlscyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVXNlckxvZ2luIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5wdXQ6IHsKICAgICAgICBlbWFpbDogIiIKICAgICAgfSwKICAgICAgZXJyb3I6IHsKICAgICAgICBlbWFpbDogIiIKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAoVVRJTFMuZ2V0TG9jYWxVc2VyKCkpIHsKICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiLyI7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB2YWxpZGF0ZUlucHV0OiBmdW5jdGlvbiB2YWxpZGF0ZUlucHV0KCkgewogICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTsKCiAgICAgIGlmICghdGhpcy5pbnB1dC5lbWFpbCkgewogICAgICAgIHRoaXMuZXJyb3IuZW1haWwgPSAiZW1haWwgY2Fubm90IGJlIGVtcHR5IjsKICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVycm9yLmVtYWlsID0gIiI7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmlucHV0LmVtYWlsICYmICEvXFMrQFxTK1wuXFMrLy50ZXN0KHRoaXMuaW5wdXQuZW1haWwpKSB7CiAgICAgICAgdGhpcy5lcnJvci5lbWFpbCA9ICJlbWFpbCBpbnZhbGlkIjsKICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICByZXF1ZXN0UmVzZXRQYXNzd29yZDogZnVuY3Rpb24gcmVxdWVzdFJlc2V0UGFzc3dvcmQoKSB7CiAgICAgIGlmICghdGhpcy52YWxpZGF0ZUlucHV0KCkpIHsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmVycm9yKTsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgZmV0Y2goQVBJLmdldEFwaShBUEkuQVVUSC5GT1JHRVRfUEFTU1dPUkQpLCB7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICB9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICJlbWFpbCI6IHRoaXMuaW5wdXQuZW1haWwKICAgICAgICB9KQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZXR1cm4gcmVzLmpzb24oKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgc3dpdGNoIChyZXMuc3RhdHVzKSB7CiAgICAgICAgICBjYXNlIDIwMDoKICAgICAgICAgICAgewogICAgICAgICAgICAgIGFsZXJ0KCJwbGVhc2UgY2hlY2sgeW91ciBlbWFpbCBmb3IgbmV3IHBhc3N3b3JkIik7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dpbldlY2hhdDogZnVuY3Rpb24gbG9naW5XZWNoYXQoKSB7CiAgICAgIGFsZXJ0KCJ0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY29taW5nIHNvb24iKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ClientResetPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,OAAA,GAAA,MAAA,gBAAA;AACA,OAAA,KAAA,MAAA,kBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,KAAA,EAAA;AADA,OADA;AAIA,MAAA,KAAA,EAAA;AACA,QAAA,KAAA,EAAA;AADA;AAJA,KAAA;AAQA,GAXA;AAYA,EAAA,OAZA,qBAYA;AACA,QAAA,KAAA,CAAA,YAAA,EAAA,EAAA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,GAAA;AACA;AACA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,aAAA,EAAA,yBAAA;AACA,UAAA,MAAA,GAAA,IAAA;;AACA,UAAA,CAAA,KAAA,KAAA,CAAA,KAAA,EAAA;AACA,aAAA,KAAA,CAAA,KAAA,GAAA,uBAAA;AACA,QAAA,MAAA,GAAA,KAAA;AACA,OAHA,MAGA;AACA,aAAA,KAAA,CAAA,KAAA,GAAA,EAAA;AACA;;AACA,UAAA,KAAA,KAAA,CAAA,KAAA,IAAA,CAAA,eAAA,IAAA,CAAA,KAAA,KAAA,CAAA,KAAA,CAAA,EAAA;AACA,aAAA,KAAA,CAAA,KAAA,GAAA,eAAA;AACA,QAAA,MAAA,GAAA,KAAA;AACA;;AACA,aAAA,MAAA;AACA,KAdA;AAeA,IAAA,oBAAA,EAAA,gCAAA;AACA,UAAA,CAAA,KAAA,aAAA,EAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA;AACA,eAAA,IAAA;AACA;;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,MAAA,CAAA,GAAA,CAAA,IAAA,CAAA,eAAA,CAAA,EAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,OAAA,EAAA;AACA,oBAAA,kBADA;AAEA,0BAAA;AAFA,SAFA;AAMA,QAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA;AACA,mBAAA,KAAA,KAAA,CAAA;AADA,SAAA;AANA,OAAA,CAAA,CASA,IATA,CASA,UAAA,GAAA;AAAA,eAAA,GAAA,CAAA,IAAA,EAAA;AAAA,OATA,EASA,IATA,CASA,UAAA,GAAA,EAAA;AACA,gBAAA,GAAA,CAAA,MAAA;AACA,eAAA,GAAA;AAAA;AACA,cAAA,KAAA,CAAA,0CAAA,CAAA;AACA;AACA;AAJA;AAMA,OAhBA,EAgBA,KAhBA,CAgBA,UAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,OAlBA;AAmBA,KAvCA;AAwCA,IAAA,WAAA,EAAA,uBAAA;AACA,MAAA,KAAA,CAAA,mCAAA,CAAA;AACA;AA1CA;AAjBA,CAAA","sourcesContent":["<template>\n    <div>\n        <div class=\"mt-5 mb-4 text-center\">\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-2\"></div>\n            <div class=\"col-sm-12 col-md-8 vertical-center\">\n                <div class=\"card\">\n                    <div class=\"card-header text-center\">\n                        Forgot Password\n                    </div>\n                    <div class=\"card-body\">\n                        <div class=\"row\">\n                            <div class=\"col-sm-3\"></div>\n                            <div class=\"col-sm-6\">\n                                <form method=\"post\" class=\"form-material\">\n                                    <div class=\"text-center mb-4\">\n                                        <span class=\"desc-18\">Please enter your email and we will send you a link to reset your password.</span>\n                                    </div>\n                                    <div class=\"mb-4\">\n                                        <input v-model=\"input.email\" type=\"text\" class=\"form-control\" placeholder=\"Email Address\">\n                                        <span class=\"form-bar\"></span>\n                                        <small class=\"text-danger text-sm-left\"\n                                               style=\"display: block\">{{error.email}}</small>\n                                    </div>\n\n                                    <div class=\"text-center mb-5\">\n                                        <button type=\"submit\" @click.prevent=\"requestResetPassword\"\n                                                class=\"btn btn-pink account-btn btn-block\">\n                                            Reset\n                                        </button>\n                                    </div>\n\n                                    <div class=\" text-center mb-4\">\n                                        <router-link to=\"login\" class=\"pink text-link\">Back to Sign In</router-link>\n                                    </div>\n                                </form>\n                            </div>\n                            <div class=\"col-sm-3\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-md-2\"></div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import API from \"./../utils/api\"\n    import UTILS from \"./../utils/utils\"\n\n    export default {\n        name: \"UserLogin\",\n        data() {\n            return {\n                input: {\n                    email: \"\",\n                },\n                error: {\n                    email: \"\",\n                }\n            }\n        },\n        mounted() {\n            if (UTILS.getLocalUser()) {\n                window.location.href = \"/\";\n            }\n        },\n        methods: {\n            validateInput: function () {\n                let result = true;\n                if (!this.input.email) {\n                    this.error.email = \"email cannot be empty\";\n                    result = false;\n                } else {\n                    this.error.email = \"\";\n                }\n              if(this.input.email && ! /\\S+@\\S+\\.\\S+/.test(this.input.email)) {\n                this.error.email = \"email invalid\";\n                result = false;\n              }\n                return result;\n            },\n            requestResetPassword: function () {\n                if (!this.validateInput()) {\n                    console.log(this.error)\n                    return null;\n                }\n                fetch(API.getApi(API.AUTH.FORGET_PASSWORD), {\n                    method: 'post',\n                    headers: {\n                        'Accept': 'application/json',\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify({\n                        \"email\": this.input.email,\n                    })\n                }).then(res => res.json()).then(res => {\n                    switch (res.status) {\n                        case 200: {\n                            alert(\"please check your email for new password\")\n                            return;\n                        }\n                    }\n                }).catch(e => {\n                    console.log(e)\n                });\n            },\n            loginWechat: function () {\n                alert(\"this function will be coming soon\")\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/views"}]}