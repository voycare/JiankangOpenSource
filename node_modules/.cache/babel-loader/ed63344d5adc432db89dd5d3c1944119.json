{"remainingRequest":"/var/www/provider-stg.hera.health/node_modules/thread-loader/dist/cjs.js!/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js!/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider-stg.hera.health/src/layouts/ForgetPasswordLayout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider-stg.hera.health/src/layouts/ForgetPasswordLayout.vue","mtime":1595454701758},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBBUEkgZnJvbSAiLi4vdXRpbHMvYXBpIjsgLy8gaW1wb3J0IFVUSUxTIGZyb20gIi4uL3V0aWxzL3V0aWxzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZm9yZ2V0cGFzc3dvcmRMYXlvdXQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbnB1dDogewogICAgICAgIGVtYWlsOiAiIgogICAgICB9LAogICAgICBlcnJvcjogewogICAgICAgIGVtYWlsOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgdmFsaWRhdGVJbnB1dDogZnVuY3Rpb24gdmFsaWRhdGVJbnB1dCgpIHsKICAgICAgdmFyIHJlc3VsdCA9IHRydWU7CgogICAgICBpZiAoIXRoaXMuaW5wdXQuZW1haWwpIHsKICAgICAgICB0aGlzLmVycm9yLmVtYWlsID0gImVtYWlsIGNhbm5vdCBiZSBlbXB0eSI7CiAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcnJvci5lbWFpbCA9ICIiOwogICAgICB9CgogICAgICBpZiAodGhpcy5pbnB1dC5lbWFpbCAmJiAhL1xTK0BcUytcLlxTKy8udGVzdCh0aGlzLmlucHV0LmVtYWlsKSkgewogICAgICAgIHRoaXMuZXJyb3IuZW1haWwgPSAiZW1haWwgaW52YWxpZCI7CiAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgcmVxdWVzdFJlc3RvcmVQYXNzd29yZDogZnVuY3Rpb24gcmVxdWVzdFJlc3RvcmVQYXNzd29yZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBzZWxmID0gdGhpczsKCiAgICAgIGlmICghdGhpcy52YWxpZGF0ZUlucHV0KCkpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgZmV0Y2goQVBJLmdldEFwaShBUEkuQVVUSC5GT1JHRVRfUEFTU1dPUkQpLCB7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICB9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICJlbWFpbCI6IHRoaXMuaW5wdXQuZW1haWwKICAgICAgICB9KQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZXR1cm4gcmVzLmpzb24oKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgc3dpdGNoIChyZXMuc3RhdHVzKSB7CiAgICAgICAgICBjYXNlIDIwMDoKICAgICAgICAgICAgewogICAgICAgICAgICAgIGFsZXJ0KCJwbGVhc2UgY2hlY2sgeW91ciBtYWlsIGJveCB0byByZXNldCBwYXNzd29yZCIpOwogICAgICAgICAgICAgIHNlbGYuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIHBhdGg6ICcvbG9naW4nCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSA0MDQ6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBfdGhpcy5lcnJvci5lbWFpbCA9ICJhY2NvdW50IG5vdCBmb3VuZCBmb3IgZW1haWwgIiArIF90aGlzLmlucHV0LmVtYWlsOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ForgetPasswordLayout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,GAAA,MAAA,cAAA,C,CACA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,sBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,KAAA,EAAA;AADA,OADA;AAIA,MAAA,KAAA,EAAA;AACA,QAAA,KAAA,EAAA;AADA;AAJA,KAAA;AAQA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,aAAA,EAAA,yBAAA;AACA,UAAA,MAAA,GAAA,IAAA;;AACA,UAAA,CAAA,KAAA,KAAA,CAAA,KAAA,EAAA;AACA,aAAA,KAAA,CAAA,KAAA,GAAA,uBAAA;AACA,QAAA,MAAA,GAAA,KAAA;AACA,OAHA,MAGA;AACA,aAAA,KAAA,CAAA,KAAA,GAAA,EAAA;AACA;;AACA,UAAA,KAAA,KAAA,CAAA,KAAA,IAAA,CAAA,eAAA,IAAA,CAAA,KAAA,KAAA,CAAA,KAAA,CAAA,EAAA;AACA,aAAA,KAAA,CAAA,KAAA,GAAA,eAAA;AACA,QAAA,MAAA,GAAA,KAAA;AACA;;AACA,aAAA,MAAA;AACA,KAdA;AAeA,IAAA,sBAfA,oCAeA;AAAA;;AACA,UAAA,IAAA,GAAA,IAAA;;AACA,UAAA,CAAA,KAAA,aAAA,EAAA,EAAA;AACA,eAAA,IAAA;AACA;;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,MAAA,CAAA,GAAA,CAAA,IAAA,CAAA,eAAA,CAAA,EAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,OAAA,EAAA;AACA,oBAAA,kBADA;AAEA,0BAAA;AAFA,SAFA;AAMA,QAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA;AACA,mBAAA,KAAA,KAAA,CAAA;AADA,SAAA;AANA,OAAA,CAAA,CASA,IATA,CASA,UAAA,GAAA;AAAA,eAAA,GAAA,CAAA,IAAA,EAAA;AAAA,OATA,EASA,IATA,CASA,UAAA,GAAA,EAAA;AACA,gBAAA,GAAA,CAAA,MAAA;AACA,eAAA,GAAA;AAAA;AACA,cAAA,KAAA,CAAA,8CAAA,CAAA;AACA,cAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA;AACA;AACA;;AACA,eAAA,GAAA;AAAA;AACA,cAAA,KAAA,CAAA,KAAA,CAAA,KAAA,GAAA,iCAAA,KAAA,CAAA,KAAA,CAAA,KAAA;AACA;AACA;;AACA;AAAA;AACA;AACA;AAZA;AAcA,OAxBA,EAwBA,KAxBA,CAwBA,UAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,OA1BA;AA2BA;AA/CA;AAZA,CAAA","sourcesContent":["<template>\n  <div class=\"main-wrapper account-wrapper\">\n    <div class=\"account-page\">\n      <div class=\"account-center\">\n        <div class=\"account-box\">\n          <form class=\"form-signin\" method=\"post\">\n            <div class=\"account-logo\">\n              <a href=\"index.html\"><img alt=\"\" src=\"/assets/img/Hera_LOGO.png\"></a>\n            </div>\n            <div class=\"form-group\">\n              <label>Email</label>\n              <small class=\"text-danger text-sm-left\" style=\"display: block\">{{error.email}}</small>\n              <input autofocus=\"\" class=\"form-control\" required type=\"text\" v-model=\"input.email\">\n            </div>\n\n\n            <div class=\"form-group text-center\">\n              <button @click.prevent=\"requestRestorePassword\" class=\"btn btn-primary account-btn btn-pink\"\n                      type=\"submit\">Restore Password\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import API from \"../utils/api\";\n  // import UTILS from \"../utils/utils\";\n\n  export default {\n    name: \"forgetpasswordLayout\",\n    data() {\n      return {\n        input: {\n          email: \"\"\n        },\n        error: {\n          email: \"\"\n        }\n      }\n    },\n    methods: {\n      validateInput: function () {\n        let result = true;\n        if (!this.input.email) {\n          this.error.email = \"email cannot be empty\";\n          result = false;\n        } else {\n          this.error.email = \"\";\n        }\n        if (this.input.email && !/\\S+@\\S+\\.\\S+/.test(this.input.email)) {\n          this.error.email = \"email invalid\";\n          result = false;\n        }\n        return result;\n      },\n      requestRestorePassword() {\n        let self = this\n        if (!this.validateInput()) {\n          return null;\n        }\n        fetch(API.getApi(API.AUTH.FORGET_PASSWORD), {\n          method: 'post',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            \"email\": this.input.email,\n          })\n        }).then(res => res.json()).then(res => {\n          switch (res.status) {\n            case 200: {\n              alert(\"please check your mail box to reset password\");\n              self.$router.push({path: '/login'})\n              return;\n            }\n            case 404: {\n              this.error.email = \"account not found for email \" + this.input.email;\n              return;\n            }\n            default: {\n              return;\n            }\n          }\n        }).catch(e => {\n          console.log(e)\n        });\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/layouts"}]}