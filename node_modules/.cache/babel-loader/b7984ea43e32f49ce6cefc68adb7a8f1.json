{"remainingRequest":"/var/www/provider.voycare.com/node_modules/thread-loader/dist/cjs.js!/var/www/provider.voycare.com/node_modules/babel-loader/lib/index.js!/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider.voycare.com/src/components/AvailableListing.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider.voycare.com/src/components/AvailableListing.vue","mtime":1597675207438},{"path":"/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js","mtime":1596630677130},{"path":"/var/www/provider.voycare.com/node_modules/thread-loader/dist/cjs.js","mtime":1596630678838},{"path":"/var/www/provider.voycare.com/node_modules/babel-loader/lib/index.js","mtime":1596630688999},{"path":"/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js","mtime":1596630677130},{"path":"/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js","mtime":1596630687836}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5wYWQtc3RhcnQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgdXRpbHMgZnJvbSAiLi4vdXRpbHMvdXRpbHMiOwppbXBvcnQgQ29uc3QgZnJvbSAiLi8uLi91dGlscy9jb25zdCI7CmltcG9ydCBEYXRlUGlja2VyIGZyb20gInZ1ZTItZGF0ZXBpY2tlciI7CmltcG9ydCBBZG1pblRpbWVTbG90IGZyb20gIi4uL2NvbXBvbmVudHMvQWRtaW5UaW1lU2xvdCI7CmltcG9ydCBNdWx0aXNlbGVjdCBmcm9tICJ2dWUtbXVsdGlzZWxlY3QiOwppbXBvcnQgRGF0ZXRpbWVNaXhpbiBmcm9tICcuLi9jb21wb25lbnRzL0RhdGV0aW1lTWl4aW4nOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgRGF0ZVBpY2tlcjogRGF0ZVBpY2tlciwKICAgIEFkbWluVGltZVNsb3Q6IEFkbWluVGltZVNsb3QsCiAgICBNdWx0aXNlbGVjdDogTXVsdGlzZWxlY3QKICB9LAogIG1peGluczogW0RhdGV0aW1lTWl4aW5dLAogIHByb3BzOiBbIm9ubGluZV9jb25zdWxhdGlvbnMiLCAic2l0ZV92aXNpdHMiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgQ29uc3Q6IENvbnN0LAogICAgICB0b2dnbGVfZWRpdDogZmFsc2UsCiAgICAgIHRvZ2dsZV9lZGl0X3NpdGU6IGZhbHNlLAogICAgICBkYXRlX3NlbGVjdGVkOiBudWxsLAogICAgICBkYXRlX3NlbGVjdGVkX3NpdGU6IG51bGwsCiAgICAgIHRpbWVfc2VsZWN0ZWQ6IG51bGwsCiAgICAgIHRpbWVfc2VsZWN0ZWRfc2l0ZTogbnVsbCwKICAgICAgaXRlbV9zZWxlY3RlZDogbnVsbCwKICAgICAgdGltZV9yYW5nZXM6IFtdLAogICAgICB2YWx1ZTogIiIsCiAgICAgIGNoaW5hQW5kTG9jYWxUaW1lUmFuZ2U6IFtdCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBsb2NhbFRpbWVSYW5nZSA9IHV0aWxzLmdldFRpbWVSYW5nZSgpOwogICAgc2VsZi50aW1lX3JhbmdlcyA9IGxvY2FsVGltZVJhbmdlLm1hcChmdW5jdGlvbiAodGltZU9iaikgewogICAgICByZXR1cm4gIiIuY29uY2F0KHRpbWVPYmouaG91ciwgIjoiKS5jb25jYXQodGltZU9iai5taW4pOwogICAgfSk7CiAgICB2YXIgb2Zmc2V0SG91cnNUb0NoaW5hID0gdXRpbHMuZ2V0TG9jYWxUaW1lWm9uZU9mZnNldFRvKDgpOwogICAgdGhpcy5jaGluYUFuZExvY2FsVGltZVJhbmdlID0gbG9jYWxUaW1lUmFuZ2UubWFwKGZ1bmN0aW9uICh0aW1lT2JqKSB7CiAgICAgIHZhciBsb2NhbCA9ICIiLmNvbmNhdCh0aW1lT2JqLmhvdXIsICI6IikuY29uY2F0KHRpbWVPYmoubWluKTsKICAgICAgdmFyIGNoaW5hSG91ciA9IE51bWJlcih0aW1lT2JqLmhvdXIpICsgb2Zmc2V0SG91cnNUb0NoaW5hOwogICAgICB2YXIgY2hpbmEgPSAiIi5jb25jYXQoY2hpbmFIb3VyLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgIjAiKSwgIjoiKS5jb25jYXQodGltZU9iai5taW4pOwogICAgICByZXR1cm4gewogICAgICAgIGxvY2FsOiBsb2NhbCwKICAgICAgICBjaGluYTogY2hpbmEKICAgICAgfTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgb25BZGRPbmxpbmVDb25zdWxhdGlvbjogZnVuY3Rpb24gb25BZGRPbmxpbmVDb25zdWxhdGlvbigpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOyAvLyBIaWRlIGVkaXQgY2FsZW5kYXIKCiAgICAgIHNlbGYudG9nZ2xlX2VkaXQgPSAhc2VsZi50b2dnbGVfZWRpdDsKICAgICAgc2VsZi5vbmxpbmVfY29uc3VsYXRpb25zLnB1c2goewogICAgICAgIGlkOiB1dGlscy5yYW5kb21TdHIoNiksCiAgICAgICAgY2xpbmljX2lkOiBzZWxmLmlkLAogICAgICAgIHR5cGU6IDEsCiAgICAgICAgZGF0ZTogbmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwCiAgICAgIH0pOwogICAgfSwKICAgIG9uQWRkU2l0ZVZpc2l0OiBmdW5jdGlvbiBvbkFkZFNpdGVWaXNpdCgpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOyAvLyBIaWRlIGVkaXQgY2FsZW5kYXIKCiAgICAgIHNlbGYudG9nZ2xlX2VkaXRfc2l0ZSA9ICFzZWxmLnRvZ2dsZV9lZGl0X3NpdGU7CiAgICAgIHNlbGYuc2l0ZV92aXNpdHMucHVzaCh7CiAgICAgICAgaWQ6IHV0aWxzLnJhbmRvbVN0cig2KSwKICAgICAgICBjbGluaWNfaWQ6IHNlbGYuaWQsCiAgICAgICAgdHlwZTogMiwKICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDAKICAgICAgfSk7CiAgICB9LAogICAgb25EZWxldGU6IGZ1bmN0aW9uIG9uRGVsZXRlKGlkU3RyKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIGlkID0gcGFyc2VJbnQoaWRTdHIpOwogICAgICB2YXIgciA9IGNvbmZpcm0oIkFyZSB5b3Ugd2FudCB0byByZW1vdmUgdGhpcyBjbGluaWMgYXZhaWxhYmxlPyIpOwoKICAgICAgaWYgKHIgIT0gdHJ1ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLm9ubGluZV9jb25zdWxhdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoc2VsZi5vbmxpbmVfY29uc3VsYXRpb25zW2ldLmlkID09IGlkU3RyKSB7CiAgICAgICAgICBzZWxmLm9ubGluZV9jb25zdWxhdGlvbnMuc3BsaWNlKGksIDEpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzZWxmLnNpdGVfdmlzaXRzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgaWYgKHNlbGYuc2l0ZV92aXNpdHNbal0uaWQgPT0gaWRTdHIpIHsKICAgICAgICAgIHNlbGYuc2l0ZV92aXNpdHMuc3BsaWNlKGosIDEpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGlkID4gMCkgewogICAgICAgIHNlbGYuJGVtaXQoIm9uRGVsZXRlIiwgaWQpOwogICAgICB9CiAgICB9LAogICAgb25FZGl0QXZhaWxhYmxlOiBmdW5jdGlvbiBvbkVkaXRBdmFpbGFibGUocGFyYW0pIHsKICAgICAgdmFyIGl0ZW0gPSBwYXJhbS5pdGVtLAogICAgICAgICAgaXNfc2l0ZSA9IHBhcmFtLmlzX3NpdGU7CiAgICAgIHZhciBzZWxmID0gdGhpczsgLy8gU2hvdyBjYWxlbmRhciBlZGl0LgoKICAgICAgaWYgKCFpc19zaXRlKSB7CiAgICAgICAgc2VsZi50b2dnbGVfZWRpdCA9ICFzZWxmLnRvZ2dsZV9lZGl0OwogICAgICB9IGVsc2UgewogICAgICAgIHNlbGYudG9nZ2xlX2VkaXRfc2l0ZSA9ICFzZWxmLnRvZ2dsZV9lZGl0X3NpdGU7CiAgICAgIH0KCiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoaXRlbS5kYXRlICogMTAwMCk7CgogICAgICBpZiAoIWlzX3NpdGUpIHsKICAgICAgICBzZWxmLmRhdGVfc2VsZWN0ZWQgPSBkYXRlLmdldFRpbWUoKTsgLy8gc2VsZi50aW1lX3NlbGVjdGVkID0gZGF0ZS5nZXRIb3VycygpICsgJ18nICsgZGF0ZS5nZXRNaW51dGVzKCkKCiAgICAgICAgc2VsZi50aW1lX3NlbGVjdGVkID0gdGhpcy5nZXRUaW1lU2VsZWN0ZWRPYmplY3QoZGF0ZSk7IC8vIHNlbGYudGltZV9zZWxlY3RlZCA9ICB7IGNoaW5hOiAiMDg6MDAiLCBsb2NhbDogIjA3OjAwIiB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2VsZi5kYXRlX3NlbGVjdGVkX3NpdGUgPSBkYXRlLmdldFRpbWUoKTsKICAgICAgICB2YXIgaG91ciA9IGRhdGUuZ2V0SG91cnMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICIwIik7CiAgICAgICAgdmFyIG1pbiA9IGRhdGUuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgIjAiKTsKICAgICAgICBzZWxmLnRpbWVfc2VsZWN0ZWRfc2l0ZSA9IGhvdXIgKyAiOiIgKyBtaW47CiAgICAgIH0KCiAgICAgIHNlbGYuaXRlbV9zZWxlY3RlZCA9IGl0ZW07CiAgICB9LAogICAgb25DaGFuZ2VUaW1lOiBmdW5jdGlvbiBvbkNoYW5nZVRpbWUoKSB7CiAgICAgIHZhciBpc19zaXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBzZWxmLm9uQ2hhbmdlQ2FsZW5kYXIoaXNfc2l0ZSk7CgogICAgICBpZiAoc2VsZi5pdGVtX3NlbGVjdGVkKSB7CiAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgIGNsaW5pY19hdmFpbGFibGU6IHNlbGYuaXRlbV9zZWxlY3RlZAogICAgICAgIH07CiAgICAgICAgc2VsZi4kZW1pdCgib25DaGFuZ2VUaW1lIiwgcGFyYW1zKTsKICAgICAgfQogICAgfSwKICAgIG9uRWRpdEFkbWluVGltZVNsb3Q6IGZ1bmN0aW9uIG9uRWRpdEFkbWluVGltZVNsb3QocGFyYW0pIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgaXRlbSA9IHBhcmFtLml0ZW0sCiAgICAgICAgICBpc19zaXRlID0gcGFyYW0uaXNfc2l0ZTsKICAgICAgdmFyIGJvZHkgPSB7CiAgICAgICAgY2xpbmljX2F2YWlsYWJsZTogaXRlbQogICAgICB9OwogICAgICBzZWxmLiRlbWl0KCJvbkVkaXRBZG1pblRpbWVTbG90IiwgYm9keSk7CiAgICB9LAogICAgb25DaGFuZ2VDYWxlbmRhcjogZnVuY3Rpb24gb25DaGFuZ2VDYWxlbmRhcigpIHsKICAgICAgdmFyIGlzX3NpdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlOwogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHZhciBkYXRlX3NlbGVjdGVkID0gIWlzX3NpdGUgPyBzZWxmLmRhdGVfc2VsZWN0ZWQgOiBzZWxmLmRhdGVfc2VsZWN0ZWRfc2l0ZTsKICAgICAgdmFyIHRpbWVfc2VsZWN0ZWQgPSAhaXNfc2l0ZSA/IHNlbGYudGltZV9zZWxlY3RlZCA6IHNlbGYudGltZV9zZWxlY3RlZF9zaXRlOwogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKGRhdGVfc2VsZWN0ZWQpOwoKICAgICAgaWYgKHRpbWVfc2VsZWN0ZWQpIHsKICAgICAgICB2YXIgdGltZXM7CgogICAgICAgIGlmIChpc19zaXRlKSB7CiAgICAgICAgICB0aW1lcyA9IHRpbWVfc2VsZWN0ZWQuc3BsaXQoIjoiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGltZXMgPSB0aW1lX3NlbGVjdGVkLmxvY2FsLnNwbGl0KCI6Iik7CiAgICAgICAgfQoKICAgICAgICBkYXRlLnNldEhvdXJzKHRpbWVzWzBdKTsKICAgICAgICBkYXRlLnNldE1pbnV0ZXModGltZXNbMV0pOwogICAgICB9CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYub25saW5lX2NvbnN1bGF0aW9ucy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChzZWxmLm9ubGluZV9jb25zdWxhdGlvbnNbaV0uaWQgPT0gc2VsZi5pdGVtX3NlbGVjdGVkLmlkKSB7CiAgICAgICAgICBzZWxmLm9ubGluZV9jb25zdWxhdGlvbnNbaV0uZGF0ZSA9IGRhdGUuZ2V0VGltZSgpIC8gMTAwMDsKICAgICAgICAgIHNlbGYuaXRlbV9zZWxlY3RlZCA9IHNlbGYub25saW5lX2NvbnN1bGF0aW9uc1tpXTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2VsZi5zaXRlX3Zpc2l0cy5sZW5ndGg7IGorKykgewogICAgICAgIGlmIChzZWxmLnNpdGVfdmlzaXRzW2pdLmlkID09IHNlbGYuaXRlbV9zZWxlY3RlZC5pZCkgewogICAgICAgICAgc2VsZi5zaXRlX3Zpc2l0c1tqXS5kYXRlID0gZGF0ZS5nZXRUaW1lKCkgLyAxMDAwOwogICAgICAgICAgc2VsZi5pdGVtX3NlbGVjdGVkID0gc2VsZi5zaXRlX3Zpc2l0c1tqXTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["AvailableListing.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"mb-5\">\n      <p class=\"title-20 step-title\">Step 1: Online consultations</p>\n      <p class=\"f-18 font-weight-500\">\n        Please use below calendar to select the available time slots you can provide online audio/video\n        consultations to patients on the Hera platform. For China clients, please consider time difference\n        accordingly.\n      </p>\n\n      <div class=\"available--wrapper\">\n        <div class=\"row\">\n          <div class=\"col-sm-11\">\n            <div v-for=\"item in online_consulations\" :key=\"item.id\" class=\"available--item\">\n              <AdminTimeSlot\n                :time-slot-prop=\"item\"\n                @edit=\"onEditAdminTimeSlot\"\n                @select=\"onEditAvailable\"\n                @delete=\"onDelete\"\n              />\n            </div>\n            <div @click=\"onAddOnlineConsulation\" class=\"available--item add-icon\">\n              <i class=\"fa fa-plus\"></i>\n            </div>\n          </div>\n          <div class=\"col-sm-1 collapse-icon-div\">\n            <i class=\"fa fa-chevron-down\" aria-hidden=\"true\"></i>\n          </div>\n        </div>\n      </div>\n      <div class=\"available--edit\" v-if=\"toggle_edit && date_selected\">\n        <div class=\"row\">\n          <div class=\"col-sm-4 date-picker-custom\">\n            <date-picker\n              :inline=\"true\"\n              @change=\"onChangeCalendar(false)\"\n              v-model=\"date_selected\"\n              value-type=\"timestamp\"\n            ></date-picker>\n          </div>\n          <div class=\"col-sm-8 text-center\">\n            <p>\n              Available appointments on\n              <span style=\"color: #020644; font-weight: 500;\">\n                {{ (date_selected / 1000) | convertTimeSecondToDate\n                }}.\n              </span>\n            </p>\n            <p>Please select as many available times as you wish.</p>\n\n            <div class=\"row\">\n              <div class=\"col-sm-4 available-time-label\">\n                <label>Available Time</label>\n              </div>\n              <div class=\"col-sm-8 available-time-select\">\n                <div class=\"row\" style=\"margin: 0; margin-right: 40px;\">\n                  <div class=\"col-sm-6 text-center desc-12\">China UTC+8</div>\n                  <div class=\"col-sm-6 text-center desc-12\">Local</div>\n                </div>\n                <multiselect\n                  v-model=\"time_selected\"\n                  :options=\"chinaAndLocalTimeRange\"\n                  :searchable=\"false\"\n                  :close-on-select=\"true\"\n                  :show-labels=\"false\"\n                  placeholder=\"Pick available time\"\n                  @input=\"onChangeTime(false)\"\n                >\n                  <template slot=\"singleLabel\" slot-scope=\"{ option }\">\n                    <div class=\"row\" style=\"margin-left: -13px;\">\n                      <div class=\"col-sm-6 text-center\">\n                        <span>{{ option.china }}</span>\n                      </div>\n                      <div class=\"col-sm-6 text-center\">{{ option.local }}</div>\n                    </div>\n                  </template>\n\n                  <template slot=\"option\" slot-scope=\"{ option }\">\n                    <div class=\"row\" style=\"margin-right: 25px;\">\n                      <div class=\"col-sm-6 text-center\">\n                        <span>{{ option.china }}</span>\n                      </div>\n                      <div class=\"col-sm-6 text-center\">{{ option.local }}</div>\n                    </div>\n                  </template>\n                </multiselect>\n              </div>\n            </div>\n            <!-- <b-form inline>\n              <label for=\"\">Available Time</label>\n              <select @change=\"onChangeTime(false)\" class=\"form-control\" v-model=\"time_selected\">\n                <option :key=\"time.id\" :value=\"time.id\" v-for=\"time in time_ranges\">{{\n                  time.hour.toString().padStart(2, '0') }}:{{ time.minute.toString().padStart(2, '0') }}\n                </option>\n            </select>\n            </b-form>-->\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <hr class=\"divider\" />\n\n    <div class=\"mb-5\">\n      <p class=\"title-20 step-title\">Step 2: Site visit appointments</p>\n      <p>\n        Please use below calendar to select the available time slots you can provide site visit appointment to\n        patients on the\n        Hera platform. For China clients, please consider time difference accordingly.\n      </p>\n\n      <div class=\"available--wrapper\">\n        <div class=\"row\">\n          <div class=\"col-sm-11\">\n            <div :key=\"item.id\" class=\"available--item\" v-for=\"item in site_visits\">\n              <AdminTimeSlot\n                :time-slot-prop=\"item\"\n                @edit=\"onEditAdminTimeSlot\"\n                @delete=\"onDelete\"\n                @select=\"onEditAvailable\"\n                :is-site=\"true\"\n              />\n            </div>\n            <div @click=\"onAddSiteVisit\" class=\"available--item add-icon\">\n              <i class=\"fa fa-plus\"></i>\n            </div>\n          </div>\n          <div class=\"col-sm-1 collapse-icon-div\">\n            <i class=\"fa fa-chevron-down\" aria-hidden=\"true\"></i>\n          </div>\n        </div>\n      </div>\n      <div class=\"available--edit\" v-if=\"toggle_edit_site && date_selected_site\">\n        <div class=\"row\">\n          <div class=\"col-sm-4 date-picker-custom\">\n            <date-picker\n              :inline=\"true\"\n              @change=\"onChangeCalendar(true)\"\n              v-model=\"date_selected_site\"\n              value-type=\"timestamp\"\n            ></date-picker>\n          </div>\n          <div class=\"col-sm-8 text-center\">\n            <p>\n              Available appointments on\n              <span style=\"color: #020644; font-weight: 500;\">\n                {{ (date_selected_site / 1000) | convertTimeSecondToDate\n                }}.\n              </span>\n            </p>\n            <p>Please select as many available times as you wish.</p>\n            <div class=\"row\">\n              <div class=\"col-sm-6 available-time-label\">\n                <label>Available Time</label>\n              </div>\n              <div class=\"col-sm-6 available-time-select\">\n                <div class=\"text-left\" style=\"width: 150px; padding-left: 16px;\">Local</div>\n                <select\n                  @change=\"onChangeTime(true)\"\n                  class=\"form-control\"\n                  style=\"width: 150px;\"\n                  v-model=\"time_selected_site\"\n                >\n                  <option :key=\"time\" :value=\"time\" v-for=\"time in time_ranges\">{{ time }}</option>\n                </select>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport utils from \"../utils/utils\";\nimport Const from \"./../utils/const\";\nimport DatePicker from \"vue2-datepicker\";\nimport AdminTimeSlot from \"../components/AdminTimeSlot\";\nimport Multiselect from \"vue-multiselect\";\nimport DatetimeMixin from '../components/DatetimeMixin'\n\nexport default {\n  components: {\n    DatePicker,\n    AdminTimeSlot,\n    Multiselect,\n  },\n  mixins:[DatetimeMixin],\n  props: [\"online_consulations\", \"site_visits\"],\n  data() {\n    return {\n      Const,\n      toggle_edit: false,\n      toggle_edit_site: false,\n      date_selected: null,\n      date_selected_site: null,\n      time_selected: null,\n      time_selected_site: null,\n      item_selected: null,\n      time_ranges: [],\n      value: \"\",\n      chinaAndLocalTimeRange: [],\n    };\n  },\n  mounted() {\n    let self = this;\n    let localTimeRange = utils.getTimeRange();\n    self.time_ranges = localTimeRange.map(\n      (timeObj) => `${timeObj.hour}:${timeObj.min}`\n    );\n    let offsetHoursToChina = utils.getLocalTimeZoneOffsetTo(8);\n\n    this.chinaAndLocalTimeRange = localTimeRange.map((timeObj) => {\n      let local = `${timeObj.hour}:${timeObj.min}`;\n      let chinaHour = Number(timeObj.hour) + offsetHoursToChina;\n      let china = `${chinaHour.toString().padStart(2, \"0\")}:${timeObj.min}`;\n      return { local, china };\n    });\n  },\n  methods: {\n    onAddOnlineConsulation() {\n      let self = this;\n\n      // Hide edit calendar\n      self.toggle_edit = !self.toggle_edit;\n\n      self.online_consulations.push({\n        id: utils.randomStr(6),\n        clinic_id: self.id,\n        type: 1,\n        date: new Date().getTime() / 1000,\n      });\n    },\n    onAddSiteVisit() {\n      let self = this;\n\n      // Hide edit calendar\n      self.toggle_edit_site = !self.toggle_edit_site;\n\n      self.site_visits.push({\n        id: utils.randomStr(6),\n        clinic_id: self.id,\n        type: 2,\n        date: new Date().getTime() / 1000,\n      });\n    },\n    onDelete(idStr) {\n      let self = this;\n      let id = parseInt(idStr);\n      var r = confirm(\"Are you want to remove this clinic available?\");\n      if (r != true) {\n        return;\n      }\n\n      for (var i = 0; i < self.online_consulations.length; i++) {\n        if (self.online_consulations[i].id == idStr) {\n          self.online_consulations.splice(i, 1);\n        }\n      }\n      for (var j = 0; j < self.site_visits.length; j++) {\n        if (self.site_visits[j].id == idStr) {\n          self.site_visits.splice(j, 1);\n        }\n      }\n\n      if (id > 0) {\n        self.$emit(\"onDelete\", id);\n      }\n    },\n    onEditAvailable(param) {\n      let { item, is_site } = param;\n      let self = this;\n\n      // Show calendar edit.\n      if (!is_site) {\n        self.toggle_edit = !self.toggle_edit;\n      } else {\n        self.toggle_edit_site = !self.toggle_edit_site;\n      }\n\n      let date = new Date(item.date * 1000);\n      if (!is_site) {\n        self.date_selected = date.getTime();\n        // self.time_selected = date.getHours() + '_' + date.getMinutes()\n        self.time_selected = this.getTimeSelectedObject(date);\n        // self.time_selected =  { china: \"08:00\", local: \"07:00\" }\n      } else {\n        self.date_selected_site = date.getTime();\n        let hour = date.getHours().toString().padStart(2, \"0\");\n        let min = date.getMinutes().toString().padStart(2, \"0\");\n        self.time_selected_site = hour + \":\" + min;\n      }\n      self.item_selected = item;\n    },\n    onChangeTime(is_site = false) {\n      let self = this;\n      self.onChangeCalendar(is_site);\n      if (self.item_selected) {\n        let params = {\n          clinic_available: self.item_selected,\n        };\n\n        self.$emit(\"onChangeTime\", params);\n      }\n    },\n    onEditAdminTimeSlot(param) {\n      let self = this;\n      let { item, is_site } = param;\n      let body = { clinic_available: item };\n      self.$emit(\"onEditAdminTimeSlot\", body);\n    },\n    onChangeCalendar(is_site = false) {\n      let self = this;\n      const date_selected = !is_site\n        ? self.date_selected\n        : self.date_selected_site;\n      const time_selected = !is_site\n        ? self.time_selected\n        : self.time_selected_site;\n      let date = new Date(date_selected);\n      if (time_selected) {\n        let times;\n        if (is_site) {\n          times = time_selected.split(\":\");\n        } else {\n          times = time_selected.local.split(\":\");\n        }\n        date.setHours(times[0]);\n        date.setMinutes(times[1]);\n      }\n\n      for (var i = 0; i < self.online_consulations.length; i++) {\n        if (self.online_consulations[i].id == self.item_selected.id) {\n          self.online_consulations[i].date = date.getTime() / 1000;\n          self.item_selected = self.online_consulations[i];\n        }\n      }\n      for (var j = 0; j < self.site_visits.length; j++) {\n        if (self.site_visits[j].id == self.item_selected.id) {\n          self.site_visits[j].date = date.getTime() / 1000;\n          self.item_selected = self.site_visits[j];\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.available--wrapper {\n  background-color: #020644;\n  padding: 15px;\n}\n\n.available--item {\n  display: inline-block;\n  width: 138px;\n  height: 75px;\n  background-color: #fff;\n  vertical-align: middle;\n  text-align: center;\n  margin: 10px;\n}\n\n.available--edit {\n  padding: 15px;\n  background-color: #fff;\n  border: 1px solid #cbcbcb;\n}\n\n.consultation-date {\n  color: #020644;\n  font-size: 1rem;\n  margin-top: 5px;\n}\n\n.available--item .fa-plus {\n  font-size: 20px;\n}\n\n.add-icon {\n  line-height: 75px;\n  cursor: pointer;\n}\n\n.add-icon > i {\n  color: #020644;\n}\n\n.step-title {\n  color: #eb6271;\n}\n\n.collapse-icon-div {\n  line-height: 95px;\n  vertical-align: middle;\n}\n\n.fa-chevron-down {\n  color: white;\n  font-size: 40px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}