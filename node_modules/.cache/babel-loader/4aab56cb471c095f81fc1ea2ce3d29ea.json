{"remainingRequest":"/var/www/provider.voycare.com/node_modules/thread-loader/dist/cjs.js!/var/www/provider.voycare.com/node_modules/babel-loader/lib/index.js!/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider.voycare.com/src/components/AdminTimeSlot.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider.voycare.com/src/components/AdminTimeSlot.vue","mtime":1596630773544},{"path":"/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js","mtime":1596630677130},{"path":"/var/www/provider.voycare.com/node_modules/thread-loader/dist/cjs.js","mtime":1596630678838},{"path":"/var/www/provider.voycare.com/node_modules/babel-loader/lib/index.js","mtime":1596630688999},{"path":"/var/www/provider.voycare.com/node_modules/cache-loader/dist/cjs.js","mtime":1596630677130},{"path":"/var/www/provider.voycare.com/node_modules/vue-loader/lib/index.js","mtime":1596630687836}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvdmFyL3d3dy9wcm92aWRlci52b3ljYXJlLmNvbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldFRpbWVSYW5nZSB9IGZyb20gJy4uL3V0aWxzL3V0aWxzJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICB0aW1lU2xvdFByb3A6IHsKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIHR5cGU6IE9iamVjdAogICAgfSwKICAgIGlzU2l0ZTogewogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGltZU9wdGlvbnM6IFtdLAogICAgICB0aW1lU2xvdDogbnVsbAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnRpbWVPcHRpb25zID0gZ2V0VGltZVJhbmdlKCkubWFwKGZ1bmN0aW9uICh0aW1lT2JqKSB7CiAgICAgIHJldHVybiAiIi5jb25jYXQodGltZU9iai5ob3VyLCAiOiIpLmNvbmNhdCh0aW1lT2JqLm1pbik7CiAgICB9KTsKICB9LAogIHdhdGNoOiB7CiAgICB0aW1lU2xvdFByb3A6IHsKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHRoaXMudGltZVNsb3QgPSBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLnRpbWVTbG90UHJvcCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uRGVsZXRlOiBmdW5jdGlvbiBvbkRlbGV0ZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnZGVsZXRlJywgdGhpcy50aW1lU2xvdC5pZCk7CiAgICB9LAogICAgLy8gdGhpcy50aW1lU2xvdC5kYXRlIGluIHNlY29uZHMgbnVtYmVyCiAgICBjaG9vc2VPcHRpb246IGZ1bmN0aW9uIGNob29zZU9wdGlvbih0aW1lKSB7CiAgICAgIGNvbnNvbGUubG9nKHRpbWUpOwogICAgICB2YXIgdGltZUFyciA9IHRpbWUuc3BsaXQoJzonKTsKICAgICAgdmFyIGhvdXI7CiAgICAgIHZhciBtaW51dGU7CgogICAgICBpZiAodGltZUFyciAmJiB0aW1lQXJyLmxlbmd0aCA+PSAyKSB7CiAgICAgICAgaG91ciA9IHRpbWVBcnJbMF07CiAgICAgICAgbWludXRlID0gdGltZUFyclsxXTsKICAgICAgfQoKICAgICAgdmFyIHRpbWVpbkRhdGUgPSBuZXcgRGF0ZSh0aGlzLnRpbWVTbG90LmRhdGUgKiAxMDAwKTsKICAgICAgdGltZWluRGF0ZS5zZXRIb3Vycyhob3VyLCBtaW51dGUsIDAsIDApOwogICAgICB0aGlzLnRpbWVTbG90LmRhdGUgPSBEYXRlLnBhcnNlKHRpbWVpbkRhdGUpIC8gMTAwMDsKICAgICAgdGhpcy5vbkVkaXRBdmFpbGFibGUoKTsKICAgIH0sCiAgICBvbkVkaXRBdmFpbGFibGU6IGZ1bmN0aW9uIG9uRWRpdEF2YWlsYWJsZSgpIHsKICAgICAgdGhpcy4kZW1pdCgiZWRpdCIsIHsKICAgICAgICBpdGVtOiB0aGlzLnRpbWVTbG90LAogICAgICAgIGlzX3NpdGU6IHRoaXMuaXNTaXRlCiAgICAgIH0pOwogICAgfSwKICAgIG9uU2VsZWN0QXZhaWxhYmxlOiBmdW5jdGlvbiBvblNlbGVjdEF2YWlsYWJsZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnc2VsZWN0JywgewogICAgICAgIGl0ZW06IHRoaXMudGltZVNsb3QsCiAgICAgICAgaXNfc2l0ZTogdGhpcy5pc1NpdGUKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["AdminTimeSlot.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,SAAA,YAAA,QAAA,gBAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,YAAA,EAAA;AACA,MAAA,QAAA,EAAA,IADA;AAEA,MAAA,IAAA,EAAA;AAFA,KADA;AAKA,IAAA,MAAA,EAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA,OAFA;AAGA,MAAA,OAAA,EAAA;AAHA;AALA,GADA;AAYA,EAAA,IAZA,kBAYA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAjBA;AAkBA,EAAA,OAlBA,qBAkBA;AACA,SAAA,WAAA,GAAA,YAAA,GAAA,GAAA,CAAA,UAAA,OAAA,EAAA;AACA,uBAAA,OAAA,CAAA,IAAA,cAAA,OAAA,CAAA,GAAA;AACA,KAFA,CAAA;AAGA,GAtBA;AAuBA,EAAA,KAAA,EAAA;AACA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA,IADA;AAEA,MAAA,SAAA,EAAA,IAFA;AAGA,MAAA,OAHA,qBAGA;AACA,aAAA,QAAA,qBAAA,KAAA,YAAA;AACA;AALA;AADA,GAvBA;AAgCA,EAAA,OAAA,EAAA;AAEA,IAAA,QAFA,sBAEA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,KAAA,QAAA,CAAA,EAAA;AACA,KAJA;AAKA;AACA,IAAA,YANA,wBAMA,IANA,EAMA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,UAAA,OAAA,GAAA,IAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AACA,UAAA,IAAA;AACA,UAAA,MAAA;;AACA,UAAA,OAAA,IAAA,OAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,QAAA,IAAA,GAAA,OAAA,CAAA,CAAA,CAAA;AACA,QAAA,MAAA,GAAA,OAAA,CAAA,CAAA,CAAA;AACA;;AACA,UAAA,UAAA,GAAA,IAAA,IAAA,CAAA,KAAA,QAAA,CAAA,IAAA,GAAA,IAAA,CAAA;AACA,MAAA,UAAA,CAAA,QAAA,CAAA,IAAA,EAAA,MAAA,EAAA,CAAA,EAAA,CAAA;AACA,WAAA,QAAA,CAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,UAAA,IAAA,IAAA;AACA,WAAA,eAAA;AACA,KAnBA;AAoBA,IAAA,eApBA,6BAoBA;AACA,WAAA,KAAA,CAAA,MAAA,EAAA;AAAA,QAAA,IAAA,EAAA,KAAA,QAAA;AAAA,QAAA,OAAA,EAAA,KAAA;AAAA,OAAA;AACA,KAtBA;AAuBA,IAAA,iBAvBA,+BAuBA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA;AAAA,QAAA,IAAA,EAAA,KAAA,QAAA;AAAA,QAAA,OAAA,EAAA,KAAA;AAAA,OAAA;AACA;AAzBA;AAhCA,CAAA","sourcesContent":["<template>\n  <div>\n    <div @click=\"onSelectAvailable\" class=\"time-slot-item_header pointer\">\n      <div class=\"time-slot-date\">\n        {{ timeSlot.date | convertTimeSecondToDate }}\n      </div>\n      <b-dropdown\n        id=\"moreButton\"\n        no-caret\n        toggle-class=\"text-decoration-none action-icon dropdown-toggle\"\n        toggle-tag=\"a\"\n        variant=\"link\"\n      >\n        <template v-slot:button-content>\n          <i class=\"fa fa-ellipsis-v\"></i>\n        </template>\n        <b-dropdown-item @click=\"onDelete\" href=\"#\"\n          ><i class=\"fa fa-trash\" /> Delete\n        </b-dropdown-item>\n      </b-dropdown>\n    </div>\n    <hr />\n    <div class=\"time-slot-item_footer\">\n      <b-dropdown id=\"time-dropdown\" offset=\"-1\" class=\"\" variant=\"link\" menu-class=\"dropdown-menu-custom\"\n        toggle-class=\"text-decoration-none dropdown-toggle\"\n        >\n        <template v-slot:button-content>\n          {{ timeSlot.date | convertDateToTime24h }}\n        </template>\n        <b-dropdown-item v-for=\"time in timeOptions\" :key=\"time\" @click=\"chooseOption(time)\">\n          {{time}}\n        </b-dropdown-item>\n      </b-dropdown>\n    </div>\n  </div>\n</template>\n<script>\nimport { getTimeRange } from '../utils/utils'\nexport default {\n  props: {\n    timeSlotProp: {\n      required: true,\n      type: Object,\n    },\n    isSite: {\n      required: false,\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      timeOptions: [],\n      timeSlot: null\n    }\n  },\n  created() {\n    this.timeOptions = getTimeRange().map(timeObj => {\n      return `${timeObj.hour}:${timeObj.min}`\n    })\n  },\n  watch: {\n    timeSlotProp:{\n      deep: true,\n      immediate: true,\n      handler(){\n        this.timeSlot = {...this.timeSlotProp}\n      }\n    }\n  },\n  methods: {\n    \n    onDelete(){\n      this.$emit('delete', this.timeSlot.id)\n    },\n    // this.timeSlot.date in seconds number\n    chooseOption(time){\n      console.log(time);\n      let timeArr = time.split(':')\n      let hour\n      let minute\n      if(timeArr && timeArr.length >=2){\n         hour = timeArr[0]\n         minute = timeArr[1]\n      }\n      let timeinDate = new Date(this.timeSlot.date * 1000)\n      timeinDate.setHours(hour, minute, 0, 0)\n      this.timeSlot.date = Date.parse(timeinDate) / 1000\n      this.onEditAvailable()\n    },\n    onEditAvailable() {\n      this.$emit(\"edit\", {item: this.timeSlot, is_site: this.isSite} );\n    },\n    onSelectAvailable(){\n      this.$emit('select', {item: this.timeSlot, is_site: this.isSite})\n    }\n  },\n};\n</script>\n<style>\n.time-slot-item_header {\n  position: relative;\n  height: 1.5rem;\n}\n.time-slot-date {\n  color: #020644;\n  font-size: 1rem;\n  margin-top: 5px;\n}\n#moreButton {\n  position: absolute;\n  top: -5px;\n  right: 5px;\n}\n#moreButton .btn {\n  padding: 0px 0px;\n}\nhr {\n  border-top: 0.2px solid #979797;\n  margin: 0.5rem 0;\n}\n#time-dropdown>button {\n  width: 100%;\n  padding: 0 !important;\n  line-height: 1.5;\n}\n.pointer{\n  cursor: pointer;\n}\n.dropdown-menu-custom{\n  max-height: 300px;\n    overflow: auto;\n    width: 140px;\n    min-width: 5rem!important;\n}\n\n</style>\n"],"sourceRoot":"src/components"}]}