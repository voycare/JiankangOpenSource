{"remainingRequest":"/var/www/provider-stg.hera.health/node_modules/thread-loader/dist/cjs.js!/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js!/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/provider-stg.hera.health/src/views/clinics/ClinicAppointmentReschedule.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/provider-stg.hera.health/src/views/clinics/ClinicAppointmentReschedule.vue","mtime":1596301589337},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/provider-stg.hera.health/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IERhdGVQaWNrZXIgZnJvbSAndnVlMi1kYXRlcGlja2VyJzsKaW1wb3J0IHJmIGZyb20gIi4uLy4uL2FwaS9SZXF1ZXN0RmFjdG9yeSI7CmltcG9ydCBDb25zdCBmcm9tICIuLy4uLy4uL3V0aWxzL2NvbnN0IjsKaW1wb3J0IEFwcG9pbnRtZW50RGV0YWlsVGFibGUgZnJvbSAnLi8uLi8uLi9jb21wb25lbnRzL0FwcG9pbnRtZW50RGV0YWlsVGFibGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQXBwb2ludG1lbnREZXRhaWxUYWJsZTogQXBwb2ludG1lbnREZXRhaWxUYWJsZSwKICAgIERhdGVQaWNrZXI6IERhdGVQaWNrZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBDb25zdDogQ29uc3QsCiAgICAgIGFwcHQ6IG51bGwsCiAgICAgIGlkOiBudWxsLAogICAgICBvcHRpb25zOiBbewogICAgICAgIHJlc2NoZWR1bGVfdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwCiAgICAgIH0sIHsKICAgICAgICByZXNjaGVkdWxlX3RpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMAogICAgICB9LCB7CiAgICAgICAgcmVzY2hlZHVsZV90aW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDAKICAgICAgfV0KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgc2VsZi5pZCA9IHBhcnNlSW50KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCk7CiAgICBzZWxmLm9uUmVmcmVzaCgpOwogIH0sCiAgbWV0aG9kczogewogICAgb25SZWZyZXNoOiBmdW5jdGlvbiBvblJlZnJlc2goKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgcmYuZ2V0UmVxdWVzdCgnQ2xpbmljUmVxdWVzdCcpLmdldEFwcG9pbnRtZW50RGV0YWlsKHNlbGYuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHNlbGYuYXBwdCA9IHJlcy5kYXRhOwoKICAgICAgICBpZiAoc2VsZi5hcHB0LnNjaGVkdWxlX3RpbWVzLmxlbmd0aCkgewogICAgICAgICAgc2VsZi5vcHRpb25zID0gc2VsZi5hcHB0LnNjaGVkdWxlX3RpbWVzOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb25TYXZlOiBmdW5jdGlvbiBvblNhdmUoKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBvcHRpb25zOiBzZWxmLm9wdGlvbnMKICAgICAgfTsKICAgICAgcmYuZ2V0UmVxdWVzdCgnQ2xpbmljUmVxdWVzdCcpLnBvc3RBcHBvaW50bWVudFJlc2NoZWR1bGUoc2VsZi5pZCwgcGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBzZWxmLiRzdG9yZS5kaXNwYXRjaCgnYXBwL3Nob3dNb2RhbCcsIHsKICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlCiAgICAgICAgfSk7CiAgICAgICAgc2VsZi5vblJlZnJlc2goKTsKICAgICAgfSk7CiAgICB9LAogICAgb25DYW5jZWw6IGZ1bmN0aW9uIG9uQ2FuY2VsKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHZhciByID0gY29uZmlybSgiRG8geW91IHdhbnQgdG8gY2FuY2VsIHRoaXMgYXBwb2ludG1lbnQ/Iik7CiAgICAgIGlmICghcikgcmV0dXJuOwogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIHN0YXR1czogQ29uc3QuU1RBVFVTLnN0cmluZ1RvSW50KCdjYW5jZWxlZCcpCiAgICAgIH07CiAgICAgIHJmLmdldFJlcXVlc3QoJ0NsaW5pY1JlcXVlc3QnKS5wb3N0QXBwb2ludG1lbnRTdGF0dXMoc2VsZi5hcHB0LmlkLCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHNlbGYuYXBwdCA9IHJlcy5kYXRhOwoKICAgICAgICBpZiAoc2VsZi5hcHB0LnN0YXR1cyA9PSBDb25zdC5TVEFUVVMuc3RyaW5nVG9JbnQoJ2NhbmNlbGVkJykpIHsKICAgICAgICAgIHNlbGYuJHN0b3JlLmRpc3BhdGNoKCdhcHAvc2hvd01vZGFsJywgewogICAgICAgICAgICBtZXNzYWdlOiByZXMubWVzc2FnZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ClinicAppointmentReschedule.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"row\">\n      <div class=\"col-sm-12\">\n        <router-link to=\"/appointments\"><h4 class=\"page-title\"><i class=\"fa fa-arrow-left mr-3\"></i>Back to\n          Appointments</h4></router-link>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-lg-9\">\n        <div class=\"card\" v-if=\"appt\">\n          <AppointmentDetailTable :isClinic=\"true\" @onRefresh=\"onRefresh\"></AppointmentDetailTable>\n        </div>\n\n        <div class=\"card\" v-if=\"appt\">\n          <div class=\"card-body\">\n            <div class=\"title-18 text-center\">We know last minute changes can happen, please select three(3) new dates\n              you\n              are available for the consulation.\n            </div>\n\n            <div class=\"row\">\n              <div class=\"col-sm-4\">\n                <div class=\"card card-pink\">\n                  <div class=\"card-body\">\n                    <div class=\"desc-15\">{{ appt.id | convertAppointmentID }}</div>\n                    <div class=\"desc-15 mb-4\">{{ appt.date | convertTimeSecondToDateTime }}</div>\n                    <div class=\"title-15\">{{ appt.doctor.name }}</div>\n                    <div class=\"title-15\">{{ appt.type_name }}</div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-sm-8\">\n                <div class=\"accordion\">\n                  <div class=\"card\" v-for=\"(option, index) in options\" :key=\"index\">\n                    <div class=\"card-header\" :id=\"'option_' + index\">\n                      <h2 class=\"mb-0\">\n                        <button class=\"btn btn-link btn-block text-left\" type=\"button\" data-toggle=\"collapse\"\n                                :data-target=\"'#option_' + index\">\n                          Option {{ index }}\n                        </button>\n                      </h2>\n                    </div>\n\n                    <div :id=\"'option_' + index\" class=\"collapse\">\n                      <div class=\"card-body\">\n                        <div class=\"form-horizontal\">\n                          <div class=\"form-group\">\n                            <input type=\"date\" class=\"form-control\" v-model=\"option.reschedule_time\">\n                          </div>\n                          <div class=\"form-group\">\n                            <label>Available Time:</label>\n                            <input type=\"text\" class=\"form-control\" v-model=\"option.reschedule_time\">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"row\" v-if=\"appt\">\n          <div class=\"col-sm-6 text-center\">\n            <button class=\"btn btn-dark btn-round\" @click=\"onSave\">Reschedule</button>\n          </div>\n          <div class=\"col-sm-6 text-center\" v-if=\"appt && appt.status == Const.STATUS.stringToInt('pending')\">\n            <button class=\"btn btn-round btn-default\" @click=\"onCancel\">Cancel</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n<script>\n  import DatePicker from 'vue2-datepicker'\n  import rf from \"../../api/RequestFactory\";\n  import Const from \"./../../utils/const\"\n  import AppointmentDetailTable from './../../components/AppointmentDetailTable'\n\n  export default {\n    components: {\n      AppointmentDetailTable,\n      DatePicker\n    },\n    data() {\n      return {\n        Const,\n        appt: null,\n        id: null,\n        options: [\n          {\n            reschedule_time: (new Date()).getTime() / 1000\n          },\n          {\n            reschedule_time: (new Date()).getTime() / 1000\n          },\n          {\n            reschedule_time: (new Date()).getTime() / 1000\n          },\n        ]\n      }\n    },\n    mounted() {\n      let self = this\n      self.id = parseInt(this.$route.params.id)\n\n      self.onRefresh()\n    },\n    methods: {\n      onRefresh() {\n        let self = this\n\n        rf.getRequest('ClinicRequest').getAppointmentDetail(self.id).then((res) => {\n          self.appt = res.data\n          if (self.appt.schedule_times.length) {\n            self.options = self.appt.schedule_times\n          }\n        });\n      },\n      onSave() {\n        let self = this\n        let params = {\n          options: self.options\n        }\n\n        rf.getRequest('ClinicRequest').postAppointmentReschedule(self.id, params).then(res => {\n          self.$store.dispatch('app/showModal', {message: res.message})\n          self.onRefresh()\n        })\n      },\n      onCancel() {\n        let self = this\n\n        var r = confirm(\"Do you want to cancel this appointment?\");\n        if (!r)\n          return\n\n        let params = {\n          status: Const.STATUS.stringToInt('canceled'),\n        }\n\n        rf.getRequest('ClinicRequest').postAppointmentStatus(self.appt.id, params).then((res) => {\n          self.appt = res.data\n\n          if (self.appt.status == Const.STATUS.stringToInt('canceled')) {\n            self.$store.dispatch('app/showModal', {message: res.message})\n          }\n        })\n      }\n    }\n  }\n</script>\n<style>\n  .appt--detail td {\n    color: #434343;\n    border-top: 0px;\n    padding-top: 10px;\n    padding-bottom: 10px;\n  }\n\n  .appt--labels {\n    color: #020644 !important;\n  }\n\n  .app--div {\n    margin-left: 22px;\n    width: 238px;\n    height: 83px;\n    background: #020644;\n    border-radius: 5px;\n  }\n\n  .appt--p {\n    color: #EB6271;\n  }\n\n</style>\n"],"sourceRoot":"src/views/clinics"}]}